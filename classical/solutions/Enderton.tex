\documentclass{report}

\title{Solutions Manual for Enderton \emph{Elements of Set Theory}}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{pf2}

\newcommand{\card}{\ensuremath{\operatorname{card}}}
\newcommand{\dom}{\ensuremath{\operatorname{dom}}}
\newcommand{\ran}{\ensuremath{\operatorname{ran}}}
\newcommand{\fld}{\ensuremath{\operatorname{fld}}}
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}
\newcommand{\seg}{\ensuremath{\operatorname{seg}}}
\newcommand{\rank}{\ensuremath{\operatorname{rank}}}

\begin{document}
    \maketitle
    \tableofcontents

    \chapter{Chapter 1 --- Introduction}

    \section{Baby Set Theory}

    \paragraph{Exercise 1}
    \begin{itemize}
        \item $\{ \emptyset \} \in \{ \emptyset, \{ \emptyset \} \}$ --- true
        \item $\{ \emptyset \} \subseteq \{ \emptyset, \{ \emptyset \} \}$ --- true
        \item $\{ \emptyset \} \in \{ \emptyset, \{ \{ \emptyset \} \} \}$ --- false
        \item $\{ \emptyset \} \subseteq \{ \emptyset, \{ \{ \emptyset \} \} \}$ --- true
        \item $\{ \{ \emptyset \} \} \in \{ \emptyset, \{ \emptyset \} \}$ --- false
        \item $\{ \{ \emptyset \} \} \subseteq \{ \emptyset, \{ \emptyset \} \}$ --- true
        \item $\{ \{ \emptyset \} \} \in \{ \emptyset, \{ \{ \emptyset \} \} \}$ --- true
        \item $\{ \{ \emptyset \} \} \subseteq \{ \emptyset, \{ \{ \emptyset \} \} \}$ --- false
        \item $\{ \{ \emptyset \} \} \in \{ \emptyset, \{ \emptyset, \{ \emptyset \} \} \}$ --- false
        \item $\{ \{ \emptyset \} \} \subseteq \{ \emptyset, \{ \emptyset, \{ \emptyset \} \} \}$ --- false
    \end{itemize}

    \paragraph{Exercise 2}
    We have $\emptyset \neq \{ \emptyset \}$ because $\{ \emptyset \}$ has an element (namely $\emptyset$)
    while $\emptyset$ has no elements.

    We have $\emptyset \neq \{ \{ \emptyset \} \}$ because $\{ \{ \emptyset \} \}$ has an element (namely
    $\{ \emptyset \}$) while $\emptyset$ has no elements.

    We have $\{ \emptyset \} \neq \{ \{ \emptyset \} \}$ because $\emptyset \in \{ \emptyset \}$ but
    $\emptyset \notin \{ \{ \emptyset \} \}$. This last fact is true because $\emptyset \neq \{ \emptyset \}$
    as we proved in the first paragraph.

    \paragraph{Exercise 3}
    Assume $B \subseteq C$. Let $A \in \mathcal{P} B$; we must show that $A \in \mathcal{P} C$.

    We have $A \subseteq B$ (since $A \in \mathcal{P} B$) and $B \subseteq C$. From this it follows that
    $A \subseteq C$ (every element of $A$ is an element of $B$; every element of $B$ is an element of $C$;
    therefore every element of $A$ is an element of $C$). Hence $A \in \mathcal{P} C$ as required.

    \paragraph{Exercise 4}
    Since $x \in B$, we have $\{x\} \subseteq B$ and so $\{ x \} \in \mathcal{P} B$.

    Since $x \in B$ and $y \in B$, we have $\{ x,y \} \subseteq B$ and so $\{x,y\} \in \mathcal{P} B$.

    From these two facts, it follows that $\{ \{x\},\{x,y\}\} \subseteq \mathcal{P} B$ and so
    $\{ \{x\},\{x,y\}\} \in \mathcal{P} \mathcal{P} B$.

    \section{Sets --- An Informal View}

    \paragraph{Exercise 5}
    We have
    \begin{align*}
        V_0 & = A \\
        V_1 & = V_0 \cup \mathcal{P} V_0 \\
        & = A \cup \mathcal{P} A \\
        V_2 & = V_1 \cup \mathcal{P} V_1 \\
        & = \{ \emptyset, \{ \emptyset \} \} \\
        V_3 & = \mathcal{P} V_2 \\
        & = \{ \emptyset, \{ \emptyset \}, \{ \{ \emptyset \} \},
        \{ \emptyset, \{ \emptyset \} \} \}
    \end{align*}

    We have $\emptyset \subseteq V_0$ and so $\emptyset \in V_1$. Therefore $\{ \emptyset \} \subseteq V_1$
    and so $\{ \emptyset \} \in V_2$. Hence
    $\{ \{ \emptyset \} \} \subseteq V_2$.

    We also have $\{ \{ \emptyset \} \} \nsubseteq V_0$ because $\{ \emptyset \}$ is not an atom,
    and $\{ \{ \emptyset \} \} \nsubseteq V_1$ since $\{ \emptyset \} \notin V_1$ because $\emptyset$ is not an atom.

    Thus the rank of $\{ \{ \emptyset \} \}$ is 2.

    Likewise we have $\emptyset$ and $\{ \emptyset \}$ are both subsets of $V_1$, hence
    \[ \emptyset \in V_2, \qquad \{ \emptyset \} \in V_2 \]
    Thus $\emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \}$ are all subsets of $V_2$,
    hence elements of $V_3$. Therefore,
    \[ \{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \} \subseteq V_3 \]

    Now, $\{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \}$ is not a subset of $V_0$
    (because $\emptyset$ is not an atom.) It is not a subset of $V_1$ ($\{ \emptyset \} \notin V_1$
    because $\emptyset$ is not an atom.) It is not a subset of $V_2$ (we have
    $\{ \emptyset, \{ \emptyset \} \} \notin V_2$ since $\{ \emptyset \} \notin V_1$).

    Therefore the rank of
    $\{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \}$ is 3.
    
    \paragraph{Exercise 6}

    \begin{align*}
        V_1 & = V_0 \cup \mathcal{P} V_0 \\
        & = A \cup \mathcal{P} V_0 & (\text{since } V_0 = A) \\
        V_2 & = V_1 \cup \mathcal{P} V_1 \\
        & = A \cup \mathcal{P} V_0 \cup \mathcal{P} V_1 \\
        & = A \cup \mathcal{P} V_1 & (\text{since } \mathcal{P} V_0 \subseteq \mathcal{P} V_1 \text{ by Exercise 3}) \\
        V_3 & = V_2 \cup \mathcal{P} V_2 \\
        & = A \cup \mathcal{P} V_1 \cup \mathcal{P} V_2 \\
        & = A \cup \mathcal{P} V_2 & (\text{since } \mathcal{P} V_1 \subseteq \mathcal{P} V_2 \text{ by Exercise 3}) \\
        V_4 & = V_3 \cup \mathcal{P} V_3 \\
        & = A \cup \mathcal{P} V_2 \cup \mathcal{P} V_3 \\
        & = A \cup \mathcal{P} V_3 & (\text{since } \mathcal{P} V_2 \subseteq \mathcal{P} V_3 \text{ by Exercise 3}) \\        
    \end{align*}

    \paragraph{Exercise 7}
    In Exercise 5 we calculated $V_3 = \{ \emptyset, \{ \emptyset \}, \{ \{ \emptyset \} \},
    \{ \emptyset, \{ \emptyset \} \} \}$

    Hence
    \begin{align*}
    V_4 = & \mathcal{P} V_3 \\
    = \{ & \emptyset, \\
    & \{ \emptyset \}, \\
    & \{ \{ \emptyset \} \}, \\
    & \{ \{ \{ \emptyset \} \} \}, \\
    & \{ \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \emptyset, \{ \emptyset \} \}, \\
    & \{ \emptyset, \{ \{ \emptyset \} \} \}, \\
    & \{ \emptyset, \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \{ \emptyset \}, \{ \{ \emptyset \} \} \}, \\
    & \{ \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \{ \{ \emptyset \} \}, \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \emptyset, \{ \emptyset \}, \{ \{ \emptyset \} \} \}, \\
    & \{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \emptyset, \{ \{ \emptyset \} \}, \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \{ \emptyset \}, \{ \{ \emptyset \} \}, \{ \emptyset, \{ \emptyset \} \} \}, \\
    & \{ \emptyset, \{ \emptyset \}, \{ \{ \emptyset \} \},
    \{ \emptyset, \{ \emptyset \} \} \} \\
    \}
    \end{align*}

    \chapter{Chapter 2 --- Axioms and Operations}

    \section{Arbitrary Unions and Intersections}

    \paragraph{Exercise 1}
    $A \cap B \cap C$ is the set of all integers that are divisible by 4, 9 and 10,
    which is the same as the set of all integers that are divisible by 180.

    \paragraph{Exercise 2}
    Take $A = \emptyset$ and $B = \{ \emptyset \}$. Then $\bigcup A = \bigcup B = \emptyset$
    but $A \neq B$. (There are many other possible answers.)

    \paragraph{Exercise 3}
    Let $b \in A$. We must show that $b \subseteq \bigcup A$.

    Let $x$ be any element of $b$. We must show that $x \in \bigcup A$. We know that $x \in b$ and $b \in A$,
    and so $x \in \bigcup A$ by the definition of $\bigcup A$.

    \paragraph{Exercise 4}
    Suppose $A \subseteq B$. Let $x \in \bigcup A$. We must show that $x \in \bigcup B$.

    Pick an element $a \in A$ such that $x \in a$. Then $a \in B$ because $A \subseteq B$. Since we know
    $x \in a$ and $a \in B$, we know that $x \in \bigcup B$.

    \paragraph{Exercise 5}
    Assume that every member of $\mathcal{A}$ is a subset of $B$. Let $x \in \bigcup \mathcal{A}$.
    We must show that $x \in B$.

    Pick $A \in \mathcal{A}$ such that $x \in A$. By our assumption, we have $A \subseteq B$. Since $x \in A$
    and $A \subseteq B$, we have $x \in B$ as required.

    \paragraph{Exercise 6}
    \subparagraph{(a)}We will show that $\bigcup \mathcal{P} A \subseteq A$ and $A \subseteq \bigcup \mathcal{P} A$.

    To show $\bigcup \mathcal{P} A \subseteq A$: This follows from Exercise 5, since every member of $\mathcal{P} A$
    is a subset of $A$.

    To show $A \subseteq \bigcup \mathcal{P} A$: Let $a \in A$. Then we have $a \in \{a\}$ and 
    $\{a\} \in \mathcal{P} A$ so $a \in \bigcup \mathcal{P} A$.

    \subparagraph{(b)}
    To show $A \subseteq \mathcal{P} \bigcup A$: This holds because every element of $A$ is a subset of
    $\bigcup A$, as we proved is Exercise 3.

    Equality holds if and only if $A = \mathcal{P} X$ for some set $X$.

    Proof: If $A = \mathcal{P} \bigcup A$ then of course $A = \mathcal{P} X$ for some $X$.

    Conversely, if $A = \mathcal{P} X$, then we have
    \begin{align*}
        \mathcal{P} \bigcup A & = \mathcal{P} \bigcup \mathcal{P} X \\
        & = \mathcal{P} X & (\text{by part (a)}) \\
        & = A
    \end{align*}

    \paragraph{Exercise 7}

    \subparagraph{(a)}
    For any set $X$,
    \begin{align*}
        & X \in \mathcal{P} A \cap \mathcal{P} B \\
        \Leftrightarrow & X \subseteq A \text{ and } X \subseteq B \\
        \Leftrightarrow & \text{Every member of $X$ is a member of $A$ and a member of $B$}  \\
        \Leftrightarrow & X \subseteq A \cap B \\
        \Leftrightarrow & X \in \mathcal{P} (A \cap B)
    \end{align*}

    \subparagraph{(b)}
    Let $X \in \mathcal{P} A \cup \mathcal{P} B$. Then either $X \in \mathcal{P} A$ or $X \in \mathcal{P} B$
    (or both). If $X \in \mathcal{P} A$, then we have $X \subseteq A$ and so $X \subseteq A \cup B$ (because
    $A \subseteq A \cup B$). Similarly if $X \in \mathcal{P} B$ then we have $X \subseteq A \cup B$. So in
    either case $X \subseteq A \cup B$, hence $X \in \mathcal{P} (A \cup B)$.

    Equality holds if and only if either $A \subseteq B$ or $B \subseteq A$.

    Proof: Suppose $A \subseteq B$. Then $\mathcal{P} A \subseteq \mathcal{P} B$ (Chapter 1 Exercise 3)
    and so $\mathcal{P} A \cup \mathcal{P} B = \mathcal{P} B$. Also $A \cup B = B$ so $\mathcal{P} (A \cup B)
    = \mathcal{P} B$. Thus $\mathcal{P} A \cup \mathcal{P} B$ and $\mathcal{P} (A \cup B)$ are equal.

    Similarly if $B \subseteq A$ then $\mathcal{P} A \cup \mathcal{P} B = \mathcal{P} (A \cup B)$.

    Conversely, suppose $\mathcal{P} A \cup \mathcal{P} B = \mathcal{P} (A \cup B)$. We have $A \cup B
    \in \mathcal{P} (A \cup B)$, so $A \cup B \in \mathcal{P} A \cup \mathcal{P} B$. If $A \cup B \in \mathcal{P}
    A$, then we have $B \subseteq A \cup B \subseteq A$. And if $A \cup B \in \mathcal{P} B$, then we have
    $A \subseteq A \cup B \subseteq B$.

    \paragraph{Exercise 8}
    If $A$ is a set such that every singleton belongs to $A$, then every set belongs to $\bigcup A$,
    contradicting Theorem 2A.

    \paragraph{Exercise 9}
    Let $a = \{ \emptyset \}$ and $B = \{ \{ \emptyset \} \}$. Then $a \in B$ but $\mathcal{P} a$
    is not a subset of $B$ because $\emptyset \in \mathcal{P} a$ and $\emptyset \notin B$.

    \paragraph{Exercise 10}
    We must show that $\mathcal{P} a \subseteq \mathcal{P} \bigcup B$. So let $X \in \mathcal{P} a$.
    Then $X \subseteq a$; we must show that $X \subseteq \bigcup B$.

    Let $x \in X$; we must show  that $x \in \bigcup B$. We have $x \in a$ (because $x \in X$ and $X \subseteq a$)
    and $a \in B$, hence $x \in \bigcup B$ as required.

    \section{Algebra of Sets}

    \paragraph{Exercise 11}

    For any $x$ we have
    \begin{align*}
        x \in (A \cap B) \cup (A - B) & \Leftrightarrow (x \in A \& x \in B) \text{ or } (x \in A \&
        x \notin B) \\
        & \Leftrightarrow x \in A \& (x \in B \text{ or } x \notin B) \\
        & \Leftrightarrow x \in A
    \end{align*}
    Hence $A = (A \cap B) \cup (A - B)$.

    For any $x$ we have
    \begin{align*}
        x \in A \cup (B - A) & \Leftrightarrow x \in A \text{ or } (x \in B \& x \notin A) \\
        & \Leftrightarrow x \in A \text{ or } x \in B \\
        & \Leftrightarrow x \in A \cup B
    \end{align*}
    Hence $A \cup (B - A) = A \cup B$.

    \paragraph{Exercise 12}
    For any $x$,
    \begin{align*}
        x \in C - (A \cap B) & \Leftrightarrow x \in C \& \neg (x \in A \& x \in B) \\
        & \Leftrightarrow x \in C \& (x \notin A \text{ or } x \notin B) \\
        & \Leftrightarrow (x \in C \& x \notin A) \text{ or } (x \in C \& x \notin B) \\
        & \Leftrightarrow x \in (C - A) \cup (C - B)
    \end{align*}

    \paragraph{Exercise 13}
    Suppose $A \subseteq B$. Let $x \in C - B$; we must show $x \in C - A$. We have $x \in C$ and $x \notin B$. Therefore $x \notin A$,
    since every member of $A$ is a member of $B$. And so we have $x \in C - A$ as required.

    \paragraph{Exercise 14}
    Let $A = \{ \emptyset \}$, $B = \emptyset$ and $C = \{ \emptyset \}$. Then $A - (B - C) = A - \emptyset
    = \{ \emptyset \}$ while $(A - B) - C = \{ \emptyset \} - C = \emptyset$.

    \paragraph{Exercise 15}
    \subparagraph{(a)}
    For any $x$ we have the following eight possibilities:

    \begin{tabular}{|c|c|c|c|c|}
        \hline
        $x \in A$ & $x \in B$ & $x \in C$ & $x \notin A \cap (B + C)$ & $x \notin (A \cap B) + (A \cap C) $ \\
        $x \in A$ & $x \in B$ & $x \notin C$ & $x \in A \cap (B + C)$ & $x \in (A \cap B) + (A \cap C) $ \\
        $x \in A$ & $x \notin B$ & $x \in C$ & $x \in A \cap (B + C)$ & $x \in (A \cap B) + (A \cap C) $ \\
        $x \in A$ & $x \notin B$ & $x \notin C$ & $x \notin A \cap (B + C)$ & $x \notin (A \cap B) + (A \cap C) $ \\
        $x \notin A$ & $x \in B$ & $x \in C$ & $x \notin A \cap (B + C)$ & $x \notin (A \cap B) + (A \cap C) $ \\
        $x \notin A$ & $x \in B$ & $x \notin C$ & $x \notin A \cap (B + C)$ & $x \notin (A \cap B) + (A \cap C) $ \\
        $x \notin A$ & $x \notin B$ & $x \in C$ & $x \notin A \cap (B + C)$ & $x \notin (A \cap B) + (A \cap C) $ \\
        $x \notin A$ & $x \notin B$ & $x \notin C$ & $x \notin A \cap (B + C)$ & $x \notin (A \cap B) + (A \cap C) $ \\
        \hline
    \end{tabular}

    In every case, we have $x \in A \cap (B + C) \Leftrightarrow x \in (A \cap B) + (A \cap C)$.

    \subparagraph{(b)}
    For any $x$ we have the following eight possibilities:

    \begin{tabular}{|c|c|c|c|c|}
        \hline
        $x \in A$ & $x \in B$ & $x \in C$ & $x \in A + (B + C)$ & $x \in (A + B) + C $ \\
        $x \in A$ & $x \in B$ & $x \notin C$ & $x \notin A + (B + C)$ & $x \notin (A + B) + C $ \\
        $x \in A$ & $x \notin B$ & $x \in C$ & $x \notin A + (B + C)$ & $x \notin (A + B) + C $ \\
        $x \in A$ & $x \notin B$ & $x \notin C$ & $x \in A + (B + C)$ & $x \in (A + B) + C $ \\
        $x \notin A$ & $x \in B$ & $x \in C$ & $x \notin A + (B + C)$ & $x \notin (A + B) + C $ \\
        $x \notin A$ & $x \in B$ & $x \notin C$ & $x \in A + (B + C)$ & $x \in (A + B) + C $ \\
        $x \notin A$ & $x \notin B$ & $x \in C$ & $x \in A + (B + C)$ & $x \in (A + B) + C $ \\
        $x \notin A$ & $x \notin B$ & $x \notin C$ & $x \notin A + (B + C)$ & $x \notin (A + B) + C $ \\
        \hline
    \end{tabular}

    In every case, we have $x \in A + (B + C) \Leftrightarrow x \in (A + B) + C$.

    \paragraph{Exercise 16}

    \begin{align*}
        [(A \cup B \cup C) \cap (A \cup B)] - [(A \cup (B - C)) \cap A]
        & = (A \cup B) - A \\
        & = B - A
    \end{align*}

    \paragraph{Exercise 17}
    \subparagraph{(a) $\Leftrightarrow$ (b)}
    \begin{align*}
        A \subseteq B & \Leftrightarrow \text{Every element of $A$ is an element of $B$} \\
        & \Leftrightarrow \text{There is no element of $A$ that is not an element of $B$} \\
        & \Leftrightarrow A - B = \emptyset
    \end{align*}

    \subparagraph{(a) $\Rightarrow$ (c)}
    Suppose $A \subseteq B$. We have $B \subseteq A \cup B$ from the definition of $A \cup B$;
    we must prove that $A \cup B \subseteq B$. So let $x \in A \cup B$. Then $x \in A$ or $x \in B$.
    But in either case $x \in B$, since $x \in A \Rightarrow x \in B$. Thus we have $x \in B$ as required.

    \subparagraph{(c) $\Rightarrow$ (a)}
    We always have $A \subseteq A \cup B$. So if $A \cup B = B$ then we have $A \subseteq B$.

    \subparagraph{(a) $\Rightarrow$ (d)}
    Suppose $A \subseteq B$. We have $A \cap B \subseteq A$ from the definition of $A \cap B$;
    we must prove that $A \subseteq A \cap B$. So let $x \in A$. Then $x \in B$ since $A \subseteq B$,
    hence $x \in A \cap B$ as required.

    \subparagraph{(d) $\Rightarrow$ (a)}
    We always have $A \cap B \subseteq B$. So if $A \cap B = A$ then $A \subseteq B$.

    \paragraph{Exercise 18}
    We can make the following 16 sets:
    \begin{itemize}
        \item $\emptyset$ ($= A - A$)
        \item $A - B$
        \item $A \cap B$
        \item $B - A$
        \item $S - (A \cup B)$
        \item $A$
        \item $A + B$
        \item $S - B$
        \item $B$
        \item $S - (A + B)$
        \item $S - A$
        \item $A \cup B$
        \item $S - (B - A)$
        \item $S - (A \cap B)$
        \item $S - (A - B)$
    \end{itemize}

    \paragraph{Exercise 19}
    They are never equal, because for all $A$, $B$, we have $\emptyset \in \mathcal{P}(A - B)$ but
    $\emptyset \notin \mathcal{P} A - \mathcal{P} B$ since $\emptyset \in \mathcal{P} B$.

    \paragraph{Exercise 20}
    Assume $A \cup B = A \cup C$ and $A \cap B = A \cap C$.

    We first show $B \subseteq C$. Let $x \in B$; we show $x \in C$. We have $x \in A \cup B = A \cup C$, so either $x \in A$
    or $x \in C$. If $x \in C$, we are done. If $x \in A$, then we have $x \in A \cap B = A \cap C$,
    and so $x \in C$ in this case too.

    We can show $C \subseteq B$ similarly. Hence $B = C$.

    \paragraph{Exercise 21}
    For any $x$, we have
    \begin{align*}
        x \in \bigcup (A \cup B) & \Leftrightarrow \text{there exists $C$ such that $C \in A \cup B$
        and $x \in C$} \\
        & \Leftrightarrow \text{there exists $C \in A$ such that $x \in C$, or there exists $C \in B$
        such that $x \in C$} \\
        & \Leftrightarrow x\in \bigcup A \cup \bigcup B
    \end{align*}

    \paragraph{Exercise 22}
    For any $x$, we have
    \begin{align*}
        x \in \bigcap (A \cup B) & \Leftrightarrow \text{for all $C$, if $C \in A$ or $C \in B$
        then $x \in C$} \\
        & \Leftrightarrow \text{for all $C \in A$ we have $x \in C$, and for all $C \in B$
        we have $x \in C$} \\
        & \Leftrightarrow x\in \bigcap A \cap \bigcap B
    \end{align*}

    \paragraph{Exercise 23}
    \begin{proof}
        \pf
        \step{1}{$A \subseteq \bigcap \{ A \cup X \mid X \in \mathcal{B} \}$}
        \begin{proof}
            \step{a}{\pflet{$x \in A$}}
            \step{b}{\pflet{$X \in \mathcal{B}$}}
            \step{c}{$x \in A \cup X$}
        \end{proof}
        \step{2}{$\bigcap \mathcal{B} \subseteq \bigcap \{ A \cup X \mid X \in \mathcal{B} \}$}
        \begin{proof}
            \step{a}{\pflet{$x \in \bigcap \mathcal{B}$}}
            \step{b}{\pflet{$X \in \mathcal{B}$}}
            \step{c}{$x \in X$}
            \step{d}{$x \in A \cup X$}
        \end{proof}
        \step{3}{$\bigcap \{ A \cup X \mid X \in \mathcal{B} \} \subseteq A \cup \bigcap \mathcal{B}$}
        \begin{proof}
            \step{a}{\pflet{$x \in \bigcap \{ A \cup X \mid X \in \mathcal{B} \}$}}
            \step{b}{\assume{$x \notin A$} \prove{$x \in \bigcap \mathcal{B}$}}
            \step{c}{\pflet{$X \in \mathcal{B}$}}
            \step{d}{$x \in A \cup X$}
            \step{e}{$x \in X$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 24}
    \subparagraph{(a)}
    \begin{align*}
        Y \in \mathcal{P} \bigcap \mathcal{A}
        & \Leftrightarrow Y \subseteq \bigcap \mathcal{A} \\
        & \Leftrightarrow \forall y \in Y. \forall X \in \mathcal{A}. y \in X \\
        & \Leftrightarrow \forall X \in \mathcal{A}. \forall y \in Y. y \in X \\
        & \Leftrightarrow \forall X \in \mathcal{A}. Y \in \mathcal{P} X \\
        & \Leftrightarrow Y \in \bigcap \{ \mathcal{P} X \mid X \in \mathcal{A} \}
    \end{align*}

    \subparagraph{(b)}
    $\bigcup \{ \mathcal{P} X \mid X \in \mathcal{A} \} \subseteq \mathcal{P} \bigcup \mathcal{A}$

    \begin{proof}
        \pf
        \step{1}{\pflet{$Y \in \bigcup \{ \mathcal{P} X \mid X \in \mathcal{A} \}$}}
        \step{2}{\pick\ $X \in \mathcal{A}$ such that $Y \in \mathcal{P} X$}
        \step{3}{$Y \subseteq X$}
        \step{4}{$Y \subseteq \bigcup \mathcal{A}$}
        \step{5}{$Y \in \mathcal{P} \bigcup \mathcal{A}$}
    \end{proof}

    Equality holds if and only if $\bigcup \mathcal{A} \in \mathcal{A}$.
    \begin{proof}
        \step{1}{If $\bigcup \{ \mathcal{P} X \mid X \in \mathcal{A} \} = \mathcal{P} \bigcup \mathcal{A}$
        then $\bigcup \mathcal{A} \in \mathcal{A}$}
        \begin{proof}
            \step{a}{\assume{$\bigcup \{ \mathcal{P} X \mid X \in \mathcal{A} \} = \mathcal{P} \bigcup \mathcal{A}$}}
            \step{b}{$\bigcup \mathcal{A} \in \bigcup \{ \mathcal{P} X \mid X \in \mathcal{A} \}$}
            \step{c}{\pick\ $X \in \mathcal{A}$ such that $\bigcup \mathcal{A} \in \mathcal{P} X$}
            \step{d}{$X = \bigcup \mathcal{A}$}
        \end{proof}
        \step{2}{If $\bigcup \mathcal{A} \in \mathcal{A}$ then
        $\bigcup \{ \mathcal{P} X \mid X \in \mathcal{A} \} = \mathcal{P} \bigcup \mathcal{A}$}
        \begin{proof}
            \pf\ If $\bigcup \mathcal{A} \in \mathcal{A}$ then $\mathcal{P} \bigcup \mathcal{A}
            \in \{ \mathcal{P} X \mid X \in \mathcal{A} \}$.
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 25}
    We have $A \cup \bigcup \mathcal{B} = \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$ if and only if
    $A = \emptyset$ or $\mathcal{B} \neq \emptyset$

    \begin{proof}
        \step{1}{If $A \cup \bigcup \mathcal{B}  = \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$
        then $A = \emptyset$ or $\mathcal{B} \neq \emptyset$}
        \begin{proof}
            \pf\ If $A \cup \bigcup \mathcal{B}  = \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$
            and $\mathcal{B} = \emptyset$ then
            \begin{align*}
                A \cup \bigcup \emptyset & = \bigcup \emptyset \\
                \therefore A & = \emptyset
            \end{align*}
        \end{proof}
        \step{2}{If $A = \emptyset$ then $A \cup \bigcup \mathcal{B}  = \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$}
        \begin{proof}
            \pf\ Both sides are equal to $\bigcup \mathcal{B}$
        \end{proof}
        \step{3}{If $\mathcal{B} \neq \emptyset$ then $A \cup \bigcup \mathcal{B}  = \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$}
        \begin{proof}
            \step{a}{\assume{$\mathcal{B} \neq \emptyset$}}
            \step{b}{$A \cup \bigcup \mathcal{B} \subseteq \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$}
            \begin{proof}
                \step{i}{\pflet{$x \in A \cup \bigcup \mathcal{B}$}
                \prove{$x \in \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$}}
                \step{ii}{\case{$x \in A$}}
                \begin{proof}
                    \step{one}{\pick\ $X \in \mathcal{B}$}
                    \begin{proof}
                        \pf\ By \stepref{a}
                    \end{proof}
                    \step{two}{$x \in A \cup X$}
                \end{proof}
                \step{iii}{\case{$x \in \bigcup \mathcal{B}$}}
                \begin{proof}
                    \step{one}{\pick\ $X \in \mathcal{B}$ such that $x \in X$}
                    \step{two}{$x \in A \cup X$}
                \end{proof}
            \end{proof}
            \step{c}{$\bigcup \{ A \cup X \mid X \in \mathcal{B} \} \subseteq A \cup \bigcup \mathcal{B}$}
            \begin{proof}
                \step{i}{\pflet{$x \in \bigcup \{ A \cup X \mid X \in \mathcal{B} \}$}}
                \step{ii}{\pick\ $X \in \mathcal{B}$ such that $x \in A \cup X$}
                \step{iii}{$X \subseteq \bigcup \mathcal{B}$}
                \step{iv}{$A \cup X \subseteq A \cup \bigcup \mathcal{B}$}
                \step{v}{$x \in A \cup \bigcup \mathcal{B}$}
            \end{proof}
        \end{proof}
    \end{proof}

    \section{Review Exercises}

    \paragraph{Exercise 26}
    Sets $A$, $B$, $D$ and $F$ are all equal to each other. Sets $C$, $E$ and $G$ are equal to each other.
    None of the first list is equal to any of the second list.

    \paragraph{Exercise 27}
    Take $A = \{ \{ 0 \}, \{ 1 \} \}$ and $B = \{ \{ 1 \} \}$.
    Then $A \cap B = \{ \{ 1 \} \}$
    and
    \begin{align*}
        \bigcap A \cap \bigcap B & = \emptyset \cap \{1\} \\
        & = \emptyset \\
        \bigcap (A \cap B) & = \bigcap \{ \{ 1 \} \} \\
        & = \{ 1 \}
    \end{align*}

    \paragraph{Exercise 28}
    \begin{align*}
        \bigcup \{ \{ 3,4 \}, \{ \{3\}, \{4\} \}, \{3, \{4\} \}, \{ \{3\}, 4\} \}
        & = \{ 3, 4, \{3\}, \{4\} \}
    \end{align*}

    \paragraph{Exercise 29}
    \subparagraph{(a)}
    $\emptyset$
    \subparagraph{(b)}
    We have 
    \begin{align*}
        \{ \emptyset \} & \subseteq \mathcal{P} \{ \emptyset \} \\
        \therefore \mathcal{P} \{\emptyset\} & \subseteq \mathcal{PP} \{ \emptyset \} \\
        \{ \emptyset \} & \subseteq \mathcal{PP} \{ \emptyset \} \\
        \therefore \mathcal{P} \{\emptyset\} & \subseteq \mathcal{PPP} \{ \emptyset \} \\
        \therefore \bigcap \{ \mathcal{PPP} \{ \emptyset \}, \mathcal{PP} \{ \emptyset \}, \mathcal{P} \{ \emptyset \} \}
        & = \mathcal{PPP} \{ \emptyset \} \cap \mathcal{PP} \{ \emptyset \} \cap \mathcal{P} \{ \emptyset \} \\
        & = \mathcal{P} \{ \emptyset \} \\
        & = \{ \emptyset, \{ \emptyset \} \}
    \end{align*}

    \paragraph{Exercise 30}
    \subparagraph{(a)}
    $\{ \emptyset, \{ \{ \emptyset \} \}, \{ \{ \{ \emptyset \} \} \}, \{ \{ \emptyset \}, \{ \{ \emptyset \} \} \} \}$
    \subparagraph{(b)}
    $\{ \emptyset, \{ \emptyset \} \}$
    \subparagraph{(c)}
    $\{ \emptyset, \{ \emptyset \}, \{ \{ \emptyset \} \}, \{ \emptyset, \{ \emptyset \} \} \}$
    \subparagraph{(d)}
    $\{ \{ \emptyset \}, \{ \{ \emptyset \} \} \}$

    \paragraph{Exercise 31}
    \subparagraph{(a)}
    $\{ 1, 2, 3, \emptyset \}$
    \subparagraph{(b)}
    $\emptyset$
    \subparagraph{(c)}
    $\emptyset$
    \subparagraph{(d)}
    $\emptyset$

    \paragraph{Exercise 32}
    \subparagraph{(a)}
    $a \cup b$
    \subparagraph{(b)}
    $a$
    \subparagraph{(c)}
    \begin{align*}
        \bigcap \bigcup S \cup (\bigcup \bigcup S - \bigcup \bigcap S)
        & = (a \cap b) \cup ((a \cup b) - a) \\
        & = (a \cap b) \cup (b - a) \\
        & = b
    \end{align*}

    \paragraph{Exercise 33}
    When $a \neq b$:
    \begin{align*}
        \bigcup (\bigcup S - \bigcap S) & = \bigcup (\{ a,b \} - \{a\}) \\
        & = \bigcup \{b\} \\
        & = b
    \end{align*}
    When $a = b$:
    \begin{align*}
        \bigcup (\bigcup S - \bigcap S) & = \bigcup (\{ a,b \} - \{a\}) \\
        & = \bigcup \emptyset \\
        & = \emptyset
    \end{align*}

    \paragraph{Exercise 34}
    For any set $S$, we have
    \begin{align*}
        \emptyset & \subseteq \mathcal{P} S \\
        \therefore \emptyset & \in \mathcal{PP} S \\
        \emptyset & \subseteq S \\
        \therefore \emptyset & \in \mathcal{P} S \\
        \therefore \{ \emptyset \} & \subseteq \mathcal{P} S \\
        \therefore \{ \emptyset \} & \in \mathcal{PP} S \\
        \therefore \{ \emptyset, \{ \emptyset \} \} & \subseteq \mathcal{PP} S \\
        \therefore \{ \emptyset, \{ \emptyset \} \} & \in \mathcal{PPP} S
    \end{align*}

    \paragraph{Exercise 35}
    Assume $\mathcal{P}A = \mathcal{P} B$. Then we have
    \begin{align*}
        A & \in \mathcal{P} A \\
        \therefore A & \in \mathcal{P} B \\
        \therefore A & \subseteq B \\
        B & \in \mathcal{P} B \\
        \therefore B & \in \mathcal{P} A \\
        \therefore B & \subseteq A \\
        \therefore A & = B
    \end{align*}

    \paragraph{Exercise 36}
    \subparagraph{(a)}
    \begin{align*}
        x \in A - (A \cap B) & \Leftrightarrow x \in A \ \& \neg (x \in A \ \& \ x \in B) \\
        & \Leftrightarrow x \in A\ \& \ x \notin B \\
        & \Leftrightarrow x \in A - B
    \end{align*}
    
    \subparagraph{(b)}
    \begin{align*}
        x \in A - (A - B) & \Leftrightarrow x \in A \ \& \neg (x \in A \ \&\ x \notin B) \\
        & \Leftrightarrow x \in A \ \& \ x \in B \\
        & \Leftrightarrow x \in A \cap B
    \end{align*}

    \paragraph{Exercise 37}
    \subparagraph{(a)}
    \begin{align*}
        x \in (A \cup B) - C & \Leftrightarrow (x \in A \text{ or } x \in B) \ \&\ x \notin C \\
        & \Leftrightarrow (x \in A \ \&\ x \notin C) \text{ or } (x \in B \ \&\ x \notin C) \\
        & \Leftrightarrow x \in (A - C) \cup (B - C)
    \end{align*}

    \subparagraph{(b)}
    \begin{align*}
        x \in A - (B - C) & \Leftrightarrow x \in A \ \& \neg (x \in B \ \&\ x \notin C) \\
        & \Leftrightarrow x \in A \ \& (x \notin B \text{ or } x \in C) \\
        & \Leftrightarrow (x \in A \ \&\ x \notin B) \text{ or } (x \in A \ \&\ x \in C) \\
        & \Leftrightarrow x \in (A - B) \cup (A \cap C)
    \end{align*}

    \subparagraph{(c)}
    \begin{align*}
        x \in (A - B) - C & \Leftrightarrow x \in A \ \&\ x \notin B \ \&\ x \notin C \\
        & \Leftrightarrow x \in A \ \& \neg (x \in B \vee x \in C) \\
        & \Leftrightarrow x \in A - (B \cup C)
    \end{align*}
    
    \paragraph{Exercise 38}
    \subparagraph{(a)}
    If every element of $A$ is an element of $C$, and every element of $B$ is an element of $C$,
    then everything that is an element of either $A$ or $B$ is an element of $C$.

    \subparagraph{(b)}
    If every element of $C$ is an element of $A$, and every element of $C$ is an element of $B$,
    then every element of $C$ is an element of both $A$ and $B$.

    \chapter{Chapter 3 --- Relations and Functions}

    \section{Ordered Pairs}

    \paragraph{Exercise 1}
    We have $\langle 0, 1, 0 \rangle^* = \langle 0, 1, 1 \rangle^* = \{ \{ 0 \}, \{ 0,1 \} \}$.

    \paragraph{Exercise 2}
    \subparagraph{(a)}
    \begin{align*}
        & z \in A \times (B \cup C) \\
        \Leftrightarrow & \exists x,y (z = (x,y) \ \&\ x \in A \ \&\ (y \in B \text{ or } y \in C)) \\
        \Leftrightarrow & \exists x,y (z = (x,y)\ \&\ x \in A\ \&\ y \in B) \text{ or }
        (z = (x,y)\ \&\ x \in A\ \&\ y \in C) \\
        \Leftrightarrow & z \in (A \times B) \cup (A \times C)
    \end{align*}
    \subparagraph{(b)}
    \begin{proof}
        \step{1}{\assume{$A \times B = A \times C$ and $A \neq \emptyset$}}
        \step{2}{\pick\ $a \in A$}
        \step{3}{For all $x$, $x \in B \Leftrightarrow x \in C$}
        \begin{proof}
            \pf\ $x \in B$ iff $(a,x) \in A \times B$ iff $(a,x) \in A \times C$ iff $x \in C$.
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 3}
    \begin{align*}
        & z \in A \times \bigcup \mathcal{B} \\
        \Leftrightarrow & \exists x,y (z = (x,y)\ \&\ x \in A\ \&\ \exists X \in \mathcal{B}. y \in X) \\
        \Leftrightarrow & \exists X \in \mathcal{B}. \exists x,y (z = (x,y)\ \&\ x \in A\ \&\ y \in X) \\
        \Leftrightarrow & z \in \bigcup \{ A \times X : X \in \mathcal{B} \}
    \end{align*}

    \paragraph{Exercise 4}
    If every ordered pair belongs to $A$ then every set belongs to $\bigcup \bigcup A$ contradicting
    Theorem 2A.

    \paragraph{Exercise 5}
    \subparagraph{(a)}
    Apply a Subset Axiom to $\mathcal{P}(A \times B)$: we have 
    $C = \{ z \in \mathcal{P}(A \times B) \mid \exists x \in A. z = \{x\} \times B \}$.
    \subparagraph{(b)}
    \begin{align*}
        & z \in \bigcup C \\
        \Leftrightarrow & \exists x \in A. z \in \{x\} \times B \\
        \Leftrightarrow & \exists x \in A. \exists y \in B. z = (x,y) \\
        \Leftrightarrow & z \in A \times B
    \end{align*}

    \section{Relations}

    \paragraph{Exercise 6}
    If $A \subseteq \dom A \times \ran A$ then $A$ is a set of ordered pairs, i.e. a relation.

    Conversely, suppose $A$ is a relation. Let $z \in A$. Then $z$ is an ordered pair; let $z = (x,y)$.
    We have $x \in \dom A$ and $y \in \ran A$ and so $z \in \dom A \times \ran A$ as required.

    \paragraph{Exercise 7}
    We have $\fld R \subseteq \bigcup \bigcup R$ by Lemma 3D.

    Conversely, let $x \in \bigcup \bigcup R$. Pick $a$ and $b$ such that $x \in a$, $a \in b$ and $b \in R$.
    Then $b$ is an ordered pair; let $b = (y,z)$. We have $a = \{y\}$ or $\{y,z\}$, hence $x = y$ or
    $x = z$. In either case, $x \in \fld R$.

    \paragraph{Exercise 8}
    \subparagraph{(a)}
    \begin{align*}
        & x \in \dom \bigcup \mathcal{A} \\
        \Leftrightarrow & \exists y. \exists R \in \mathcal{A}. (x,y) \in R \\
        \Leftrightarrow & \exists R \in \mathcal{A}. \exists y. (x,y) \in R \\
        \Leftrightarrow & x \in \bigcup \{ \dom R : R \in \mathcal{A} \}
    \end{align*}

    \subparagraph{(b)}
    \begin{align*}
        & y \in \ran \bigcup \mathcal{A} \\
        \Leftrightarrow & \exists x. \exists R \in \mathcal{A}. (x,y) \in R \\
        \Leftrightarrow & \exists R \in \mathcal{A}. \exists x. (x,y) \in R \\
        \Leftrightarrow & y \in \bigcup \{ \ran R : R \in \mathcal{A} \}
    \end{align*}

    \paragraph{Exercise 9}
    Assume $\mathcal{A}$ is nonempty.
    We have $\dom \bigcap \mathcal{A} \subseteq \bigcap \{ \dom R : R \in \mathcal{A} \}$.

    \begin{proof}
        \pf
            \begin{align*}
                & x \in \dom \bigcap \mathcal{A} \\
                \Leftrightarrow & \exists y. \forall R \in \mathcal{A}. (x,y) \in R \\
                \Rightarrow & \forall R \in \mathcal{A}. \exists y. (x,y) \in R \\
                \Leftrightarrow & x \in \bigcap \{ \dom R : R \in \mathcal{A} \}
            \end{align*}                    
    \end{proof}

    Equality holds iff the middle '$\Rightarrow$' can be reversed, i.e. iff for all $x$,
    if $\forall R \in \mathcal{A}. \exists y. (x,y) \in R$ then $\exists y. \forall R \in \mathcal{A}. (x,y) \in R$.
    I haven't found a simpler condition than this. The condition does not always hold, for example
    if $\mathcal{A} = \{ \{ (1,2) \}, \{ (1,3) \} \}$ then $\dom \bigcap \mathcal{A} = \emptyset$
    while $\bigcap \{ \dom R : R \in \mathcal{A} \} = \{1\}$.

    Similarly, $\ran \bigcap \mathcal{A} \subseteq \bigcap \{ \ran R : R \in \mathcal{A} \}$, and
    equality holds iff, for any $y$, if $\forall R \in \mathcal{A}. \exists x. (x,y) \in R$ then $\exists x. \forall R \in \mathcal{A}. (x,y) \in R$.

    \section{$n$-ary Relations}

    \paragraph{Exercise 10}
    This follows from the equations at the top of page 42. An ordered $4$-tuple $\langle a,b,c,d \rangle$
    is also an ordered 1-tuple (because every set is), and the ordered pair $\langle \langle a,b,c \rangle, d
    \rangle$, and the ordered triple $\langle \langle a,b \rangle, c, d \rangle$.

    \section{Functions}

    \paragraph{Exercise 11}
    We prove $F \subseteq G$. Let $z \in F$. Since $F$ is a relation, then $z$ is an ordered pair;
    let $z = \langle x, y \rangle$. We have $x \in \dom F$ and $y = F(x)$. Therefore $x \in \dom G$
    and $y = G(x)$ (because $\dom F = \dom G$ and $F(x) = G(x)$). Hence $\langle x,y \rangle \in G$,
    i.e. $z \in G$.

    We have proved $F \subseteq G$. We can prove $G \subseteq F$ similarly. Thus $F = G$.

    \paragraph{Exercise 12}
    \begin{proof}
        \pf
        \step{1}{If $f \subseteq g$ then $\dom f \subseteq \dom g$ and $\forall x \in \dom f. f(x) = g(x)$}
        \begin{proof}
            \step{a}{\assume{$f \subseteq g$}}
            \step{b}{\pflet{$x \in \dom f$}}
            \step{c}{$(x, f(x)) \in f$}
            \step{d}{$(x, f(x)) \in g$}
            \step{e}{$x \in \dom g$ and $g(x) = f(x)$}
        \end{proof}
        \step{3}{If $\dom f = \dom g$ and $\forall x \in \dom f. f(x) = g(x)$ then $f \subseteq g$}
        \begin{proof}
            \step{a}{\assume{$\dom f = \dom g$ and $\forall x \in \dom f. f(x) = g(x)$}}
            \step{b}{\pflet{$z \in f$}}
            \step{c}{\pflet{$z = (x,y)$}}
            \step{d}{$x \in \dom f$ and $y = f(x)$}
            \step{e}{$x \in \dom g$ and $y = g(x)$}
            \step{f}{$z = (x,y) \in g$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 13}
    \begin{proof}
        \pf
        \step{1}{\assume{$f$ and $g$ are functions}}
        \step{2}{\assume{$f \subseteq g$}}
        \step{3}{\assume{$\dom g \subseteq \dom f$}}
        \step{4}{$\dom f = \dom g$}
        \begin{proof}
            \pf\ We have $\dom f \subseteq \dom g$ from \stepref{2} and $\dom g \subseteq \dom f$
            from \stepref{3}
        \end{proof}
        \step{5}{For $x \in \dom f$ we have $f(x) = g(x)$}
        \begin{proof}
            \pf\ From \stepref{2} and Exercise 12
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ From Exercise 11.
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 14}
    \subparagraph{(a)}
    If $(x,y)$ and $(x,z)$ are members of $f \cap g$ then they are both members of $f$,
    hence $y = z$.

    \subparagraph{(b)}
    \begin{proof}
        \pf
        \step{1}{If $f \cup g$ is a function then, for all $x \in \dom f \cap \dom g$, we have $f(x) = g(x)$.}
        \begin{proof}
            \step{a}{\assume{$f \cup g$ is a function.}}
            \step{b}{\pflet{$x \in \dom f \cap \dom g$}}
            \step{c}{$(x,f(x))$ and $(x,g(x))$ are both elements of $f \cup g$}
            \step{d}{$f(x) = g(x)$}
        \end{proof}
        \step{2}{If, for all $x \in \dom f \cap \dom g$, we have $f(x) = g(x)$, then $f \cup g$ is a function.}
        \begin{proof}
            \step{a}{\assume{For all $x \in \dom f \cap \dom g$, we have $f(x) = g(x)$}}
            \step{b}{$f \cup g$ is a relation.}
            \begin{proof}
                \pf\ Since every element of either $f$ or $g$ is an ordered pair.
            \end{proof}
            \step{c}{Whenever $(x,y)$ and $(x,z)$ are elements of $f \cup g$ we have $y = z$}
            \begin{proof}
                \step{i}{\pflet{$(x,y),(x,z) \in f \cup g$}}
                \step{ii}{\case{$(x,y),(x,z) \in f$}}
                \begin{proof}
                    \pf\ Then $y = z$ since $f$ is a function.
                \end{proof}
                \step{iii}{\case{$(x,y) \in f$,$(x,z) \in g$}}
                \begin{proof}
                    \pf\ Then $y = z$ by \stepref{a}
                \end{proof}
                \step{iv}{\case{$(x,y) \in g$,$(x,z) \in f$}}
                \begin{proof}
                    \pf\ Then $y = z$ by \stepref{a}
                \end{proof}
                \step{v}{\case{$(x,y),(x,z) \in g$}}
                \begin{proof}
                    \pf\ Then $y = z$ since $g$ is a function.
                \end{proof}
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 15}
    \begin{proof}
        \pf
        \step{1}{$\bigcup \mathcal{A}$ is a relation.}
        \begin{proof}
            \pf\ Since every member of $\mathcal{A}$ is a relation.
        \end{proof}
        \step{2}{Whenever $(x,y)$ and $(x,z)$ are elements of $\bigcup \mathcal{A}$ then $y = z$}
        \begin{proof}
            \step{a}{\pflet{$(x,y),(x,z) \in \bigcup \mathcal{A}$}}
            \step{b}{\pick\ $f, g \in \mathcal{A}$ such that $(x,y) \in f$ and $(x,z) \in g$}
            \step{c}{\assume{w.l.o.g. $f \subseteq g$}}
            \step{d}{$(x,y),(x,z) \in g$}
            \step{e}{$y = z$}
            \begin{proof}
                \pf\ Since $g$ is a function.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 16}
    If every function belongs to $A$ then every set belongs to $\dom \bigcup A$ contradiction Theorem 2A.

    \paragraph{Exercise 17}
    \begin{proof}
        \pf
        \step{1}{\pflet{$R$ and $S$ be single-rooted.}}
        \step{2}{\pflet{$(x,z),(y,z) \in R \circ S$}}
        \step{3}{\pick\ $t$ and $t'$ such that $(x,t) \in S$, $(t,z) \in R$, $(y,t') \in S$ and $(t',z) \in R$}
        \step{4}{$t = t'$}
        \begin{proof}
            \pf\ Since $R$ is single-rooted.
        \end{proof}
        \step{5}{$x = y$}
        \begin{proof}
            \pf\ Since $S$ is single-rooted.
        \end{proof}
    \end{proof}

    Thus if $F$ and $G$ are one-to-one functions then $F \circ G$ is single-rooted and a function by Theorem
    3H, hence a one-to-one function.
    
    \paragraph{Exercise 18}
    \begin{align*}
        R \circ R & = \{ \langle 0,2 \rangle, \langle 0,3 \rangle, \langle 1,3 \rangle \} \\
        R \restriction \{ 1 \} & = \{ \langle 1,2 \rangle, \langle 1,3 \rangle \} \\
        R^{-1} \restriction \{ 1 \} & = \{ \langle 1, 0 \rangle \} \\
        R [\![ \{ 1 \} ]\!] & = \{ 2, 3 \} \\
        R^{-1} [\![ \{1\} ]\!] & = \{ 0 \}
    \end{align*}

    \paragraph{Exercise 19}
    \begin{align*}
        A(\emptyset) & = \{ \emptyset, \{ \emptyset \} \} \\
        A [\![ \emptyset ]\!] & = \emptyset \\
        A [\![ \{ \emptyset \} ]\!] & = \{ \{ \emptyset, \{ \emptyset \} \} \} \\
        A [\![ \{ \emptyset, \{ \emptyset \} \} ]\!] & = \{ \{ \emptyset, \{ \emptyset \} \}, \emptyset \} \\
        A^{-1} & = \{ \langle \{ \emptyset, \{ \emptyset \} \}, \emptyset \rangle,
        \langle \emptyset, \{ \emptyset \} \rangle \} \\
        A \circ A & = \{ \langle \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \rangle \} \\
        A \restriction \emptyset & = \emptyset \\
        A \restriction \{ \emptyset \} & = \{ \langle \emptyset, \{ \emptyset, \{ \emptyset \} \} \rangle \} \\
        A \restriction \{ \emptyset, \{ \emptyset \} \} & = \{ \langle \emptyset, \{ \emptyset, \{ \emptyset \} \} \rangle,
        \langle \{ \emptyset \}, \emptyset \rangle \} \\
        & = A \\
        \bigcup \bigcup A & = \{ \emptyset , \{ \emptyset, \{ \emptyset \} \},
        \{ \emptyset \} \} 
    \end{align*}

    \paragraph{Exercise 20}
    \begin{align*}
        z \in F \restriction A & \Leftrightarrow z \in F \ \&\ \exists x,y. (z = \langle x,y \rangle \ \&\ x \in A) \\
        & \Leftrightarrow z \in F \ \&\ \exists x,y (z = \langle x,y \rangle \ \&\ x \in A \ \&\ y \in \ran F) \\
        & \Leftrightarrow z \in F \cap (A \times \ran F)
    \end{align*}

    \paragraph{Exercise 21}
    Both are equal to $\{ \langle x,w \rangle \mid \exists y,z. xTy\ \&\ ySz\ \&\ zRw \}$.

    \paragraph{Exercise 22}
    \subparagraph{(a)}
    \begin{proof}
        \pf
        \step{1}{\assume{$A \subseteq B$}}
        \step{2}{\pflet{$y \in F [\![ A ]\!]$}}
        \step{3}{\pick\ $x \in A$ such that $xFy$}
        \step{4}{$x \in B$ and $xFy$}
        \qed
    \end{proof}
    \subparagraph{(b)}
    Both are equal to $\{ z : \exists x,y. x \in A\ \&\ xGy\ \&\ yFz \}$
    \subparagraph{(c)}
    Both are equal to $\{ \langle x,y \rangle : (x \in A \text{ or } x \in B) \ \&\ xQy \}$

    \paragraph{Exercise 23}
    \begin{align*}
        B \circ I_A & = \{ \langle x,z \rangle : \exists y(xI_Ay \ \&\ yBz) \} \\
        & = \{ \langle x,z \rangle : \exists y(x \in A \ \&\ x = y \ \&\ yBz) \} \\
        & = \{ \langle x,z \rangle : x \in A \ \&\ xBz \} \\
        & = B \restriction A \\
        I_A[\![C]\!] & = \{ y : \exists x \in C. xI_Ay \} \\
        & = \{ y : \exists x \in C (x \in A \ \&\ x = y) \} \\
        & = \{ y : y \in C \ \&\ y \in A \} \\
        & = A \cap C
    \end{align*}

    \paragraph{Exercise 24}
    \begin{align*}
        F^{-1}[\![A]\!] & = \{ x : \exists y \in A. yF^{-1}x \} \\
        & = \{ x : \exists y \in A. x F y \} \\
        & = \{ x \in \dom F : F(x) \in A \}
    \end{align*}

    \paragraph{Exercise 25}
    \subparagraph{(a)}
    \begin{proof}
        \pf
        \step{1}{\pflet{$G$ be a one-to-one function.}}
        \step{2}{$G^{-1}$ is a function.}
        \begin{proof}
            \pf\ Theorem 3F.
        \end{proof}
        \step{3}{$G \circ G^{-1}$ is a function.}
        \begin{proof}
            \pf\ Theorem 3H.
        \end{proof}
        \step{4}{$\dom (G \circ G^{-1}) = \ran G$}
        \begin{proof}
            \pf
            \begin{align*}
                \dom (G \circ G^{-1}) & = \{ x \in \dom G^{-1} : G^{-1}(x) \in \dom G \} & (\text{Theorem 3H}) \\
                & = \{ x \in \ran G : G^{-1}(x) \in \dom G \} & (\text{Theorem 3E}) \\
                & = \ran G
            \end{align*}
        \end{proof}
        \step{5}{$\forall x \in \ran G. (G \circ G^{-1})(x) = x$}
        \begin{proof}
            \pf\ Theorem 3G.
        \end{proof}
        \qed
    \end{proof}

    \subparagraph{(b)}
    Let $G$ be a function. Then
    \begin{align*}
        G \circ G^{-1} & = \{ \langle x,z \rangle : \exists y(xG^{-1}y \ \&\ yGz) \} \\
        & = \{ \langle x,z \rangle : \exists y(yGx\ \&\ yGz) \} \\
        & = \{ \langle x,x \rangle : \exists y. yGx \} & (\text{$G$ is a function}) \\
        & = I_{\ran G}
    \end{align*}

    \paragraph{Exercise 26}
    \subparagraph{(a)}
    \begin{align*}
        F [\![ \bigcup \mathcal{A} ] \! ]
        & = \{ y : \exists x. \exists A \in \mathcal{A} (x \in A \ \&\ xFy) \} \\
        & = \{ y : \exists A \in \mathcal{A}. \exists x (x \in A \ \&\ xFy) \} \\
        & = \bigcup \{ F [\![ A ]\!] : A \in \mathcal{A} \}
    \end{align*}

    \subparagraph{(b)}
    \begin{align*}
        F [\![ \bigcup \mathcal{A} ] \! ]
        & = \{ y : \exists x. \forall A \in \mathcal{A} (x \in A \ \&\ xFy) \} \\
        & \subseteq \{ y : \forall A \in \mathcal{A}. \exists x (x \in A \ \&\ xFy) \} \\
        & = \bigcap \{ F [\![ A ]\!] : A \in \mathcal{A} \}
    \end{align*}

    \paragraph{Exercise 27}
    \begin{align*}
        \dom (F \circ G) & = \{ x : \exists y. x(F \circ G) y \} \\
        & = \{ x : \exists y \exists z(xGz \ \&\ zFy) \} \\
        & = \{ x : \exists z(zG^{-1}x\ \&\ z \in \dom F) \} \\
        & = G^{-1}[\![ \dom F ]\!]
    \end{align*}

    \paragraph{Exercise 28}
    \begin{proof}
        \pf
        \step{1}{$G : \mathcal{P} A \rightarrow \mathcal{P} B$}
        \begin{proof}
            \pf\ Since $f[\![X]\!] \subseteq \ran f \subseteq B$
        \end{proof}
        \step{2}{For all $X, Y \in \mathcal{P} A$, if $G(X) = G(Y)$ then $X = Y$}
        \begin{proof}
            \step{a}{\pflet{$X, Y \in \mathcal{P} A$}}
            \step{b}{\assume{$f[\![X]\!] = f[\![Y]\!]$}}
            \step{c}{$X \subseteq Y$}
            \begin{proof}
                \step{i}{\pflet{$x \in X$}}
                \step{ii}{$f(x) \in f[\![X]\!]$}
                \step{iii}{$f(x) \in f[\![Y]\!]$}
                \step{iv}{\pick\ $y \in Y$ such that $f(x) = f(y)$}
                \step{v}{$x = y$}
                \begin{proof}
                    \pf\ Because $f$ is one-to-one.
                \end{proof}
                \step{vi}{$x \in Y$}
                \begin{proof}
                    \pf\ Similar.
                \end{proof}
            \end{proof}
            \step{d}{$Y \subseteq X$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Example 29}

    \begin{proof}
        \pf
        \step{1}{\assume{$f$ maps $A$ onto $B$}}
        \step{2}{\pflet{$b, b' \in B$}}
        \step{3}{\assume{$G(b) = G(b')$}}
        \step{4}{\pick\ $x \in A$ such that $f(x) = b$}
        \begin{proof}
            \pf\ By \stepref{1}.
        \end{proof}
        \step{5}{$x \in G(b)$}
        \step{6}{$x \in G(b')$}
        \step{7}{$f(x) = b'$}
        \step{8}{$b = b'$}
        \qed
    \end{proof}

    The converse does not hold. Let $A = \{0\}$ and $B = \{0,1\}$. Let $f$ be the function that maps 0 to 0.
    Then
    \begin{align*}
        G(0) & = \{ 0 \} \\
        G(1) & = \emptyset
    \end{align*}
    Thus $G$ is one-to-one but $f$ does not map $A$ onto $B$.

    \paragraph{Exercise 30}
    \subparagraph{(a)}
    \begin{proof}
        \pf
        \step{1}{$F(B) = B$}
        \begin{proof}
            \step{a}{$F(B) \subseteq B$}
            \begin{proof}
                \step{ii}{\pflet{$X \in \mathcal{P} A$ be such that $F(X) \subseteq X$} \prove{$F(B) \subseteq X$}}
                \step{iii}{$B \subseteq X$}
                \step{iv}{$F(B) \subseteq F(X)$}
                \step{v}{$F(B) \subseteq X$}
                \begin{proof}
                    \pf\ From \stepref{ii} and \stepref{iv}.
                \end{proof}
            \end{proof}
            \step{b}{$B \subseteq F(B)$}
            \begin{proof}
                \pf\ From \stepref{a} and the definition of $B$, since $B$ is one of the sets $X$ such that
                $F(X) \subseteq X$
            \end{proof}
        \end{proof}
        \step{2}{$F(C) = C$}
        \begin{proof}
            \step{a}{$C \subseteq F(C)$}
            \begin{proof}
                \step{i}{\pflet{$X \in \mathcal{P} A$ with $X \subseteq F(X)$} \prove{$X \subseteq F(C)$}}
                \step{ii}{$X \subseteq C$}
                \step{iii}{$F(X) \subseteq F(C)$}
                \step{iv}{$X \subseteq F(C)$}
                \begin{proof}
                    \pf\ From \stepref{i} and \stepref{iii}
                \end{proof}
            \end{proof}
            \step{b}{$F(C) \subseteq C$}
            \begin{proof}
                \pf\ From \stepref{a} and the definition of $C$.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \subparagraph{(b)}
    If $F(X) = X$ then we have $B \subseteq X$ (because $F(X) \subseteq X$) and $X \subseteq C$
    (because $X \subseteq F(X)$).

    \section{Infinite Cartesian Products}

    \paragraph{Exercise 31}
    \begin{proof}
        \pf
        \step{1}{If the Axiom of Choice is true then, for any set $I$ and any function $H$ with domain
        $I$, if $H(i) \neq \emptyset$ for all $i \in I$, then $\prod_{i \in I} H(i) \neq \emptyset$.}
        \begin{proof}
            \step{a}{\assume{The Axiom of Choice.}}
            \step{b}{\pflet{$I$ be a set.}}
            \step{c}{\pflet{$H$ be a function with domain $I$.}}
            \step{d}{\assume{$H(i) \neq \emptyset$ for all $i \in I$.}}
            \step{e}{\pflet{$R = \{ (i,x) : i \in I, x \in H(i) \}$}}
            \step{f}{\pick\ a function $F \subseteq R$ with $\dom F = \dom R$ \prove{$F \in \prod_{i \in I} H(i)$}}
            \begin{proof}
                \pf\ By the Axiom of Choice.
            \end{proof}
            \step{g}{$\dom H = I$}
            \begin{proof}
                \pf\ We have $\dom R = I$ since for all $i \in I$ there exists $x$ such that $x \in H(i)$.
            \end{proof}
            \step{h}{$\forall i \in I. F(i) \in H(i)$}
            \begin{proof}
                \pf\ Since $iRF(i)$.
            \end{proof}
        \end{proof}
        \step{2}{If, for any set $I$ and any function $H$ with domain
        $I$, if $H(i) \neq \emptyset$ for all $i \in I$, then $\prod_{i \in I} H(i) \neq \emptyset$,
        then the Axiom of Choice is true.}
        \begin{proof}
            \step{a}{\assume{For any set $I$ and any function $H$ with domain
            $I$, if $H(i) \neq \emptyset$ for all $i \in I$, then $\prod_{i \in I} H(i) \neq \emptyset$}}
            \step{b}{\pflet{$R$ be a relation}}
            \step{c}{\pflet{$I = \dom R$}}
            \step{d}{Define the function $H$ with domain $I$ by: for $i \in I$, $H(i) = \{ y : iRy \}$}
            \step{e}{$H(i) \neq \emptyset$ for all $i \in I$}
            \step{f}{\pick\ $F \in \prod_{i \in I} H(i)$}
            \begin{proof}
                \pf\ By \stepref{a}
            \end{proof}
            \step{g}{$F$ is a function}
            \step{h}{$F \subseteq R$}
            \begin{proof}
                \pf\ For all $i \in I$ we have $F(i) \in H(i)$ and so $iRF(i)$.
            \end{proof}
            \step{i}{$\dom F = \dom R$}
        \end{proof}
        \qed
    \end{proof}

    \section{Equivalence Relations}

    \paragraph{Exercise 32}
    \subparagraph{(a)}
    \begin{align*}
        & \text{$R$ is symmetric} \\
        \Leftrightarrow & \forall x,y(xRy \Rightarrow yRx) \\
        \Leftrightarrow & \forall x,y(\langle y,x \rangle \in R^{-1} \Rightarrow \langle y,x \rangle \in R) \\
        \Leftrightarrow & R^{-1} \subseteq R
    \end{align*}

    \subparagraph{(b)}
    \begin{align*}
        & \text{$R$ is transitive} \\
        \Leftrightarrow & \forall x,y,z(xRy \ \&\ yRz \Rightarrow xRz) \\
        \Leftrightarrow & \forall x,z(\exists y(xRy\ \&\ yRz) \Rightarrow xRz) \\
        \Leftrightarrow & \forall x,z(\langle x,z \rangle \in R \circ R \Rightarrow \langle x,z \rangle \in R) \\
        \Leftrightarrow & R \circ R \subseteq R
    \end{align*}

    \paragraph{Exercise 33}
    \begin{proof}
        \pf
        \step{1}{If $R$ is a symmetric and transitive relation then $R = \inv{R} \circ R$.}
        \begin{proof}
            \step{a}{\assume{$R$ is a symmetric and transitive relation.}}
            \step{b}{$R \subseteq \inv{R} \circ R$}
            \begin{proof}
                \step{i}{\pflet{$xRy$}}
                \step{ii}{$yRy$}
                \begin{proof}
                    \pf\ By Theorem 3M.
                \end{proof}
                \step{ii}{$xRy$ and $yR^{-1}y$}
                \step{iii}{$x(R^{-1}\circ R)y$}
            \end{proof}
            \step{c}{$\inv{R} \circ R \subseteq R$}
            \begin{proof}
                \pf
                \begin{align*}
                    \inv{R} \circ R & \subseteq R \circ R & (\text{Exercise 32(a)}) \\
                    & \subseteq R & (\text{Exercise 32(b)})
                \end{align*}
            \end{proof}
        \end{proof}
        \step{2}{If $R = \inv{R} \circ R$ then $R$ is a symmetric and transitive relation.}
        \begin{proof}
            \step{a}{\assume{$R = \inv{R} \circ R$}}
            \step{b}{$R$ is a relation.}
            \step{c}{$R$ is symmetric.}
            \begin{proof}
                \step{i}{\pflet{$xRy$}}
                \step{ii}{\pick\ $z$ such that $xRz$ and $z\inv{R}y$}
                \step{iii}{$yRz$ and $z\inv{R}x$}
                \step{iv}{$y(\inv{R} \circ R)x$}
                \step{v}{$yRx$}
            \end{proof}
            \step{d}{$R$ is transitive.}
            \begin{proof}
                \step{i}{\pflet{$xRy$ and $yRz$}}
                \step{ii}{$zRy$}
                \begin{proof}
                    \pf\ By \stepref{c}
                \end{proof}
                \step{iii}{$xRy$ and $y\inv{R}z$}
                \step{iv}{$x(\inv{R} \circ R)z$}
                \step{v}{$xRz$}
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 34}
    \subparagraph{(a)}
    $\bigcap \mathcal{A}$ is a transitive relation.
    \begin{proof}
        \pf
        \step{a}{$\bigcap \mathcal{A}$ is a relation.}
        \begin{proof}
            \pf\ Every member of a member of $\mathcal{A}$ is an ordered pair.
        \end{proof}
        \step{b}{$\bigcap \mathcal{A}$ is transitive.}
        \begin{proof}
            \step{i}{\pflet{$\langle x,y \rangle$ and $\langle y,z \rangle$ be in $\bigcap \mathcal{A}$}
            \prove{$\langle x,z \rangle \in \bigcap \mathcal{A}$}}
            \step{ii}{\pflet{$R \in \mathcal{A}$}}
            \step{iii}{$xRy$ and $yRz$}
            \step{iv}{$xRz$}
            \begin{proof}
                \pf\ Since $R$ is transitive.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \subparagraph{(b)}
    Not necessarily. If $\mathcal{A} = \{ \{ \langle 0, 1 \rangle \}, \{ \langle 1,2 \rangle \} \}$
    then each member of $\mathcal{A}$ is transitive but $\bigcup \mathcal{A} = \{ \langle 0,1 \rangle,
    \langle 1,2 \rangle \}$ is not.

    \paragraph{Example 35}
    \begin{align*}
        R[\![\{x\}]\!] & = \{ y : \exists z(z \in \{x\} \ \&\ zRy) \} \\
        & = \{y : \exists z(z = x\ \&\ zRy) \} \\
        & = \{y : xRy \} \\
        & = [x]_R
    \end{align*}

    \paragraph{Example 36}

    \begin{proof}
        \pf
        \step{1}{$Q$ is a relation on $A$.}
        \begin{proof}
            \pf\ By definition.
        \end{proof}
        \step{2}{$Q$ is reflexive on $A$.}
        \begin{proof}
            \step{a}{\pflet{$x \in A$}}
            \step{b}{$f(x)Rf(x)$}
            \begin{proof}
                \pf\ Since $R$ is reflexive on $B$.
            \end{proof}
            \step{c}{$xQx$}
        \end{proof}
        \step{3}{$Q$ is symmetric.}
        \begin{proof}
            \step{a}{\assume{$xQy$}}
            \step{b}{$f(x)Rf(y)$}
            \step{c}{$f(y)Rf(x)$}
            \begin{proof}
                \pf\ $R$ is symmetric.
            \end{proof}
            \step{d}{$yQx$}
        \end{proof}
        \step{4}{$Q$ is transitive.}
        \begin{proof}
            \step{a}{\assume{$xQy$ and $yQz$}}
            \step{b}{$f(x)Rf(y)$ and $f(y)Rf(z)$}
            \step{c}{$f(x)Rf(z)$}
            \begin{proof}
                \pf\ $R$ is transitive.
            \end{proof}
            \step{d}{$xQz$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 37}

    \begin{proof}
        \pf
        \step{1}{$R_\Pi$ is a relation on $A$.}
        \begin{proof}
            \pf\ If $B \in \Pi$, $x \in B$ and $y \in B$ then $x,y \in A$.
        \end{proof}
        \step{2}{$R_\Pi$ is reflexive on $A$.}
        \begin{proof}
            \step{a}{\pflet{$x \in A$}}
            \step{b}{\pick\ $B \in \Pi$ such that $x \in B$}
            \begin{proof}
                \pf\ Because $\Pi$ is exhaustive.
            \end{proof}
            \step{c}{$x \in B$ and $x \in B$}
            \step{d}{$xR_\Pi x$}
        \end{proof}
        \step{3}{$R_\Pi$ is symmetric.}
        \begin{proof}
            \step{a}{\assume{$xR_\Pi y$}}
            \step{b}{\pick\ $B \in \Pi$ such that $x \in B$ and $y \in B$}
            \step{c}{$y \in B$ and $x \in B$}
            \step{d}{$yR_\Pi x$}
        \end{proof}
        \step{4}{$R_\Pi$ is transitive.}
        \begin{proof}
            \step{a}{\assume{$xR_\Pi y$ and $yR_\Pi z$}}
            \step{b}{\pick\ $B \in \Pi$ such that $x \in B$ and $y \in B$}
            \step{c}{\pick\ $C \in \Pi$ such that $y \in C$ and $z \in C$}
            \step{d}{$B = C$}
            \begin{proof}
                \pf\ Since $y \in B$ and $y \in C$
            \end{proof}
            \step{e}{$x \in B$ and $z \in B$}
            \step{f}{$xR_\Pi z$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 38}

    \begin{proof}
        \pf
        \step{0}{If $B \in \Pi$ and $x \in B$ then $B = [x]_{R_\Pi}$}
        \begin{proof}
            \step{a}{\pflet{$B \in \Pi$}}
            \step{b}{\pflet{$x \in B$}}
            \step{c}{$[x]_{R_\Pi} \subseteq B$}
            \begin{proof}
                \step{i}{\pflet{$y \in [x]_{R_\Pi}$}}
                \step{ii}{$xR_\Pi y$}
                \step{iii}{\pick\ $C \in \Pi$ such that $x \in C$ and $y \in C$}
                \step{iv}{$B = C$}
                \begin{proof}
                    \pf\ Since $x \in B$ and $x \in C$.
                \end{proof}
                \step{v}{$y \in B$}
            \end{proof}
            \step{d}{$B \subseteq [x]_{R_\Pi}$}
            \begin{proof}
                \pf\ For all $y \in B$, we have $x \in B$ and $y \in B$ hence $x R_\Pi y$.
            \end{proof}
        \end{proof}
        \step{1}{$A/R_\Pi \subseteq \Pi$}
        \begin{proof}
            \step{a}{\pflet{$x \in A$} \prove{$[x]_{R_\Pi} \in \Pi$}}
            \step{b}{\pick\ $B \in \Pi$ such that $x \in B$}
            \step{c}{$[x]_{R_\Pi} = B$}
            \begin{proof}
                \pf\ By \stepref{0}
            \end{proof}
            \step{d}{$[x]_{R_\Pi} \in \Pi$}
        \end{proof}
        \step{2}{$\Pi \subseteq A/R_\Pi$}
        \begin{proof}
            \step{a}{\pflet{$B \in \Pi$}}
            \step{b}{\pick\ $x \in B$}
            \begin{proof}
                \pf\ Since every member of $\Pi$ is nonempty.
            \end{proof}
            \step{c}{$B = [x]_{R_\Pi}$}
            \begin{proof}
                \pf\ By \stepref{0}.
            \end{proof}
            \step{d}{$B \in A/R_\Pi$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 39}

    \begin{proof}
        \pf
        \step{1}{$R_\Pi \subseteq R$}
        \begin{proof}
            \step{a}{\pflet{$xR_\Pi y$}}
            \step{b}{\pick\ $B \in \Pi$ such that $x \in B$ and $y \in B$}
            \step{c}{\pick\ $z \in A$ such that $B = [z]_R$}
            \step{d}{$z R x$}
            \step{e}{$z R y$}
            \step{f}{$x R y$}
            \begin{proof}
                \pf\ Since $R$ is symmetric and transitive.
            \end{proof}
        \end{proof}
        \step{2}{$R \subseteq R_\Pi$}
        \begin{proof}
            \step{a}{\pflet{$xRy$}}
            \step{b}{$x \in [x]_R$}
            \step{c}{$y \in [x]_R$}
            \step{d}{$x R_\Pi y$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 40}
    We have $[2]_R = [3]_R$ but $[6]_R \neq [9]_R$ so there is no such function $f$.

    \paragraph{Exercise 41}
    \subparagraph{(a)}
    \begin{proof}
        \pf
        \step{1}{$Q$ is reflexive on $\mathbb{R} \times \mathbb{R}$.}
        \begin{proof}
            \pf\ For any $x, y \in \mathbb{R}$, we have $x + y = x + y$,
            hence $\langle x,y \rangle Q \langle x,y \rangle$
        \end{proof}
        \step{2}{$Q$ is symmetric.}
        \begin{proof}
            \step{a}{\assume{$\langle u,v \rangle Q \langle x,y \rangle$}}
            \step{b}{$u + y = x + v$}
            \step{c}{$x + v = u + y$}
            \step{d}{$\langle x,y \rangle Q \langle u,v \rangle$}
        \end{proof}
        \step{3}{$Q$ is transitive.}
        \begin{proof}
            \step{a}{\assume{$\langle a,b \rangle Q \langle u,v \rangle$ and
            $\langle u,v \rangle Q \langle x,y \rangle$}}
            \step{b}{$a+v=u+b$}
            \step{c}{$u+y=x+v$}
            \step{d}{$a+y+x+b$}
            \begin{proof}
                \pf\ Adding \stepref{b} and \stepref{c} gives $a + u + v + y = b + u + v + x$.
            \end{proof}
            \step{e}{$\langle a,b \rangle Q \langle x,y \rangle$}
        \end{proof}
        \qed
    \end{proof}

    \subparagraph{(b)}
    We prove that, if $\langle u,v \rangle Q \langle x,y \rangle$ then $\langle u+2v,v+2u \rangle
    Q \langle x+2y,y+2x \rangle$. It follows from Theorem 3Q that the function $G$ exists.

    If $u+y=v+x$ then $u + 2v + y + 2x = v + 2u + x + 2y$ by adding $u + v + y + x$ to both sides.

    \paragraph{Exercise 42}
    Assume that $R$ is an equivalence relation on $A$ and that $F : A \times A \rightarrow A$.
    Let us say that $F$ is \emph{compatible} with $R$ iff, whenever $xRx'$ and $yRy'$, then $F(\langle x,y \rangle) R F(\langle x',y' \rangle)$.
    If $F$ is compatible with $R$ then there exists a unique $\hat{F} : (A / R) \times (A / R) \rightarrow A / R$ such that
    \[ \hat{F}(\langle [x]_R, [y]_R \rangle) = [F(\langle x,y \rangle)]_R \text{ for all } x,y \in A \enspace . \]
    If $F$ is not compatible with $R$ then no such $\hat{F}$ exists.

    \section{Ordering Relations}

    \paragraph{Exercise 43}
    \begin{proof}
        \pf
        \step{1}{$\inv{R}$ is transitive.}
        \begin{proof}
            \step{a}{\assume{$x \inv{R} y$ and $y \inv{R} z$}}
            \step{b}{$zRy$ and $yRx$}
            \step{c}{$zRx$}
            \begin{proof}
                \pf\ Since $R$ is transitive.
            \end{proof}
            \step{d}{$x\inv{R}z$}
        \end{proof}
        \step{2}{$\inv{R}$ satisfies trichotomy on $A$.}
        \begin{proof}
            \step{a}{\pflet{$x, y \in A$}}
            \step{b}{Exactly one of $xRy$, $x=y$, $yRx$ holds.}
            \step{c}{Exactly one of $y\inv{R}x$, $x=y$, $x\inv{R}y$ holds.}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 44}
    \begin{proof}
        \pf
        \step{1}{$f$ is one-to-one.}
        \begin{proof}
            \step{a}{\pflet{$x,y \in A$ with $f(x) = f(y)$}}
            \step{b}{$f(x) < f(y)$ and $f(y) < f(x)$ do not hold.}
            \begin{proof}
                \pf\ By trichotomy.
            \end{proof}
            \step{c}{$x < y$ and $y < x$ do not hold.}
            \step{d}{$x = y$}
            \begin{proof}
                \pf\ By trichotomy.
            \end{proof}
        \end{proof}
        \step{2}{Whenever $f(x) < f(y)$ then $x < y$}
        \begin{proof}
            \step{a}{\pflet{$x,y \in A$ with $f(x) < f(y)$}}
            \step{b}{$f(x) = f(y)$ and $f(y) < f(x)$ do not hold.}
            \begin{proof}
                \pf\ By trichotomy.
            \end{proof}
            \step{c}{$x = y$ and $y < x$ do not hold.}
            \step{d}{$x < y$}
            \begin{proof}
                \pf\ By trichotomy.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 45}
    \begin{proof}
        \pf
        \step{1}{$<_L$ is transitive.}
        \begin{proof}
            \step{a}{\pflet{$\langle a_1,b_1 \rangle <_L \langle a_2,b_2 \rangle$ and 
            $\langle a_2, b_2 \rangle <_L \langle a_3, b_3 \rangle$}
            \prove{$\langle a_1, b_1 \rangle < \langle a_3, b_3 \rangle$}}
            \step{b}{\case{$a_1 <_A a_2$ and $a_2 <_A a_3$}}
            \begin{proof}
                \pf\ Then $a_1 <_A <_3$
            \end{proof}
            \step{c}{\case{$a_1 <_A a_2$, $a_2 = a_3$, $b_2 <_B b_3$}}
            \begin{proof}
                \pf\ Then $a_1 <_A <_3$
            \end{proof}
            \step{d}{\case{$a_1 = a_2$, $b_1 <_B b_2$ and $a_2 <_A a_3$}}
            \begin{proof}
                \pf\ Then $a_1 <_A <_3$
            \end{proof}
            \step{e}{\case{$a_1 = a_2$, $b_1 <_B b_2$, $a_2 = a_3$, $b_2 <_B b_3$}}
            \begin{proof}
                \pf\ Then $a_1 = a_3$ and $b_1 <_B b_3$
            \end{proof}
        \end{proof}
        \step{2}{$<_L$ satisfies trichotomy on $A \times B$.}
        \begin{proof}
            \step{a}{\pflet{$\langle a_1, b_1 \rangle$ and $\langle a_2, b_2 \rangle$ be elements of $A \times B$}}
            \step{b}{Exactly one of $a_1 <_A a_2$, $a_1 = a_2$, $a_2 <_A a_1$ holds.}
            \step{c}{Exactly one of $b_1 <_B b_2$, $b_1 = b_2$, $b_2 <_B b_1$ holds.}
            \step{d}{Exactly one of $a_1 <_A a_2$, ($a_1 = a_2$ and $b_1 <_B b_2$), ($a_1 = a_2$ and $b_1 = b_2$),
            ($a_1 = a_2$ and $b_2 <_L b_1$), $a_2 <_A a_1$ holds.}
            \step{e}{Exactly one of $\langle a_1, b_1 \rangle <_L \langle a_2, b_2 \rangle$,
            $\langle a_1, b_1 \rangle = \langle a_2, b_2 \rangle$,
            $\langle a_2, b_2 \rangle <_L \langle a_1, b_1 \rangle$ holds.}
        \end{proof}
        \qed
    \end{proof}

    \section{Review Exercises}

    \paragraph{Exercise 46}
    \subparagraph{(a)}
    \begin{align*}
        \bigcap \bigcap \langle x,y \rangle & = \bigcap \{ x \} \\
        & = x
    \end{align*}

    \subparagraph{(b)}
    \begin{align*}
        \bigcap \bigcap \bigcap \{ \langle x,y \rangle \}^{-1}
        & = \bigcap \bigcap \bigcap \{ \langle y,x \rangle \} \\
        & = \bigcap \bigcap \langle y,x \rangle \\
        & = y & (\text{by part (a)})
    \end{align*}

    \paragraph{Exercise 47}
    \subparagraph{(a)}
    There are eight:
    \begin{align*}
        \{ \langle 0, 3 \rangle, \langle 1, 3 \rangle, \langle 2, 3 \rangle \}, \\
        \{ \langle 0, 3 \rangle, \langle 1, 3 \rangle, \langle 2, 4 \rangle \}, \\
        \{ \langle 0, 3 \rangle, \langle 1, 4 \rangle, \langle 2, 3 \rangle \}, \\
        \{ \langle 0, 3 \rangle, \langle 1, 4 \rangle, \langle 2, 4 \rangle \}, \\
        \{ \langle 0, 4 \rangle, \langle 1, 3 \rangle, \langle 2, 3 \rangle \}, \\
        \{ \langle 0, 4 \rangle, \langle 1, 3 \rangle, \langle 2, 4 \rangle \}, \\
        \{ \langle 0, 4 \rangle, \langle 1, 4 \rangle, \langle 2, 3 \rangle \}, \\
        \{ \langle 0, 4 \rangle, \langle 1, 4 \rangle, \langle 2, 4 \rangle \}
    \end{align*}

    \subparagraph{(b)}
    There are six:
    \begin{align*}
        \{ \langle 0,3 \rangle, \langle 1, 4 \rangle, \langle 2, 5 \rangle \}, \\
        \{ \langle 0,3 \rangle, \langle 1, 5 \rangle, \langle 2, 4 \rangle \}, \\
        \{ \langle 0,4 \rangle, \langle 1, 3 \rangle, \langle 2, 5 \rangle \}, \\
        \{ \langle 0,4 \rangle, \langle 1, 5 \rangle, \langle 2, 3 \rangle \}, \\
        \{ \langle 0,5 \rangle, \langle 1, 3 \rangle, \langle 2, 4 \rangle \}, \\
        \{ \langle 0,5 \rangle, \langle 1, 4 \rangle, \langle 2, 3 \rangle \}
    \end{align*}

    \paragraph{Exercise 48}
    \subparagraph{(a)}
    The only ordered pair in $\mathcal{P} T$ is $\langle \emptyset, \emptyset \rangle = \{ \{ \emptyset \} \}$.

    \subparagraph{(b)}
    \begin{align*}
        (\mathcal{P} T)^{-1} \circ (\mathcal{P} T \restriction \{ \emptyset \})
        & = \{ \langle \emptyset, \emptyset \rangle \} \circ \{ \langle \emptyset, \emptyset \rangle \} \\
        & = \{ \langle \emptyset, \emptyset \rangle \}
    \end{align*}

    \paragraph{Exercise 49}
    There are six:
    \begin{align*}
        \{ \langle 0,0 \rangle, \langle 1,1 \rangle, \langle 2,2 \rangle \}, \\
        \{ \langle 0,0 \rangle, \langle 0,1 \rangle, \langle 1,0 \rangle, \langle 1,1 \rangle, \langle 2,2 \rangle \}, \\
        \{ \langle 0,0 \rangle, \langle 0,2 \rangle, \langle 1,1 \rangle, \langle 2,0 \rangle, \langle 2,2 \rangle \}, \\
        \{ \langle 0,0 \rangle, \langle 1,1 \rangle, \langle 1,2 \rangle, \langle 2,1 \rangle, \langle 2,2 \rangle \}, \\
        \{ \langle 0,0 \rangle, \langle 0,1 \rangle, \langle 0,2 \rangle,
        \langle 1,0 \rangle, \langle 1,1 \rangle, \langle 1,2 \rangle,
        \langle 2,0 \rangle, \langle 2,1 \rangle, \langle 2,2 \rangle \}
    \end{align*}

    \paragraph{Exercise 50}
    \subparagraph{(a)}
    $\{ \langle 0,1 \rangle, \langle 0,2 \rangle, \langle 0,3 \rangle, \langle 1,3 \rangle,
    \langle 2,1 \rangle, \langle 2,3 \rangle \}$
    \subparagraph{(b)}
    $\{ \langle 0,1 \rangle, \langle 0,2 \rangle, \langle 0,3 \rangle,
    \langle 2,1 \rangle, \langle 3,1 \rangle, \langle 3,2 \rangle \}$

    \paragraph{Exercise 51}
    There are three:
    \begin{align*}
        \{ \langle 1,0 \rangle, \langle 1,2 \rangle, \langle 2,0 \rangle \}, \\
        \{ \langle 1,0 \rangle, \langle 2,0 \rangle, \langle 2,1 \rangle \}, \\
        \{ \langle 0,1 \rangle, \langle 2,0 \rangle, \langle 2,1 \rangle \}
    \end{align*}

    \paragraph{Exercise 52}
    We can conclude this if we know that $A$ and $B$ are nonempty, or that $C$ and $D$ are nonempty.

    Suppose $A$ and $B$ are nonempty. Then $A \times B = C \times D \neq \emptyset$ so $C$ and $D$ are nonempty.
    We now prove $A \subseteq C$.

    Let $a \in A$. Pick some $b \in B$. Then $\langle a,b \rangle \in A \times B = C \times D$ and so $a \in C$.

    We can similarly prove $C \subseteq A$, $B \subseteq D$ and $D \subseteq B$.

    \paragraph{Exercise 53}
    \begin{align*}
        x(R \cup S)^{-1} y & \Leftrightarrow y (R \cup S) x \\
        & \Leftrightarrow yRx \text{ or } ySx \\
        & \Leftrightarrow xR^{-1}y \text{ or } xS^{-1}y \\
        & \Leftrightarrow x(R^{-1} \cup S^{-1}) y \\
        x(R \cap S)^{-1} y & \Leftrightarrow y (R \cap S) x \\
        & \Leftrightarrow yRx \text{ and } ySx \\
        & \Leftrightarrow xR^{-1}y \text{ and } xS^{-1}y \\
        & \Leftrightarrow x(R^{-1} \cap S^{-1}) y \\
        x(R - S)^{-1} y & \Leftrightarrow y (R - S) x \\
        & \Leftrightarrow yRx \text{ and } \neg ySx \\
        & \Leftrightarrow xR^{-1}y \text{ and } \neg xS^{-1}y \\
        & \Leftrightarrow x(R^{-1} - S^{-1}) y
    \end{align*}

    \paragraph{Exercise 54}
    \subparagraph{(a)}
    \begin{align*}
        \langle x,y \rangle \in A \times (B \cap C) & \Leftrightarrow x \in A \ \&\ y \in B \ \&\ y \in C \\
        & \Leftarrow \langle x,y \rangle \in (A \times B) \cap (A \times C)
    \end{align*}

    \subparagraph{(b)}
    \begin{align*}
        \langle x,y \rangle \in A \times (B \cup C) & \Leftrightarrow x \in A \ \& (y \in B \text{ or } y \in C) \\
        & \Leftrightarrow (x \in A \ \&\ y \in B) \text{ or } (x \in A \ \&\ y \in C) \\
        & \Leftrightarrow \langle x,y \rangle \in (A \times B) \cup (A \times C)
    \end{align*}

    \subparagraph{(c)}
    \begin{align*}
        \langle x,y \rangle \in A \times (B - C) & \Leftrightarrow x \in A \ \&\ y \in B \ \&\ y \notin C \\
        & \Leftrightarrow \langle x,y \rangle \in (A \times B) - (A \times C)
    \end{align*}

    \paragraph{Exercise 55}
    \subparagraph{(a)}
    No. Take $A = \{0\}$, $B = \{1\}$, $C = \{2\}$. Then $(A \times A) \cup (B \times C) = \{ \langle 0,0
    \rangle, \langle 1,2 \rangle \}$ while $(A \cup B) \times (A \cup C) = \{
        \langle 0,0 \rangle, \langle 0,2 \rangle, \langle 1,0 \rangle, \langle 1,2 \rangle \}$.

    \subparagraph{(b)}
    Yes.
    \begin{align*}
        \langle x,y \rangle \in (A \times A) \cap (B \times C)
        & \Leftrightarrow x \in A\ \&\ y \in A\ \&\ x \in B\ \&\ y \in C \\
        & \Leftrightarrow \langle x,y \rangle \in (A \cap B) \times (A \cap C)
    \end{align*}

    \paragraph{Exercise 56}
    \subparagraph{(a)}
    Yes.
    \begin{align*}
        x \in \dom (R \cup S) & \Leftrightarrow \exists y (xRy \text{ or } xSy) \\
        & \Leftrightarrow \exists y.xRy \text{ or } \exists y.xSy \\
        & \Leftrightarrow x \in \dom R \cup \dom S
    \end{align*}

    \subparagraph{(b)}
    No. Take $R = \{ \langle 0,0 \rangle \}$ and $S = \{ \langle 0,1 \rangle \}$. Then $\dom (R \cap S)
    = \dom \emptyset = \emptyset$ while $\dom R \cap \dom S = \{ 0 \} \cap \{ 0 \} = \{ 0 \}$.

    \paragraph{Exercise 57}
    \subparagraph{(a)}
    Yes.
    \begin{align*}
        x(R\circ(S \cup T))y & \Leftrightarrow \exists z (x(S \cup T)z \ \&\ zRy) \\
        & \Leftrightarrow \exists z (xSz \ \&\ zRy) \text{ or } \exists z(xTz\ \&\ zRy) \\
        & \Leftrightarrow x((R\circ S)\cup(R\circ T)) y
    \end{align*}

    \subparagraph{(b)}
    No. Take $R = \{ \langle 0,0 \rangle, \langle 1,0 \rangle \}$, $S = \{ \langle 0,0 \rangle \}$
    and $T = \{ \langle 0,1 \rangle \}$. Then
    \begin{align*}
        R \circ (S \cap T) & = R \circ \emptyset \\
        & = \emptyset \\
        (R \circ S) \cap (R \circ T) & = \{ \langle 0,0 \rangle \} \cap \{ \langle 0,0 \rangle \} \\
        & = \{ \langle 0,0 \rangle \}
    \end{align*}

    \paragraph{Exercise 58}
    Take $F = \emptyset$ and $S = \{ \emptyset \}$. Then $F [\![ F^{-1} [\![ S ]\!] ]\!] = \emptyset \neq S$.

    \paragraph{Exercise 59}
    \begin{align*}
        x (Q \restriction (A \cap B)) y & \Leftrightarrow xQy\ \&\ x \in A\ \&\ x \in B \\
        & \Leftrightarrow x ((Q \restriction A) \cap (Q \restriction B)) y \\
        x (Q \restriction (A - B)) y & \Leftrightarrow xQy\ \&\ x \in A\ \&\ x \notin B \\
        & \Leftrightarrow (xQy\ \&\ x \in A) \ \&\ \neg (xQy\ \&\ x \in B) \\
        & \Leftrightarrow x ((Q \restriction A) - (Q \restriction B)) y
    \end{align*}

    \paragraph{Exercise 60}
    \begin{align*}
        x((R \circ S) \restriction A) y & \Leftrightarrow \exists z (xRz\ \&\ zSy\ \&\ x \in A) \\
        & \Leftrightarrow x(R \circ (S \restriction A)) y
    \end{align*}

    \chapter{Chapter 4 --- Natural Numbers}

    \section{Inductive Sets}

    \paragraph{Exercise 1}
    We have 
    \[ 3 = 2 \cup \{ 2 \} = 1 \cup \{ 1, 2 \} \]
    and so $1 \in 3$. But $1 \notin 1$ (since $1 = \{ \emptyset \}$ and we know $\{ \emptyset \} \neq
    \emptyset$ hence $\{ \emptyset \} \notin \{ \emptyset \}$). Therefore $1 \neq 3$.

    \section{Peano's Postulates}

    \paragraph{Exercise 2}
    If $a$ is a transitive set then
    \begin{align*}
        \bigcup (a^+) & = a & (\text{Theorem 4E}) \\
        & \subseteq a^+
    \end{align*}

    \paragraph{Exercise 3}
    \subparagraph{(a)}
    Suppose $a$ is a transitive set. Then $a \subseteq \mathcal{P} a$. Hence we have
    $\bigcup \mathcal{P} a = a \subseteq \mathcal{P} a$ and so $\mathcal{P} a$.
    
    \subparagraph{(b)}
    Suppose $\mathcal{P} a$ is a transitive set. Then $a = \bigcup \mathcal{P} a \subseteq \mathcal{P} a$
    hence $a$ is transitive.

    \paragraph{Exercise 4}
    If $a$ is a transitive set then $\bigcup a \subseteq a$ so $\bigcup \bigcup a \subseteq \bigcup a$.
    Hence $\bigcup a$ is transitive.

    \paragraph{Exercise 5}
    \subparagraph{(a)}
    \begin{proof}
        \pf
        \step{1}{\pflet{$b \in \bigcup \mathcal{A}$}}
        \step{2}{\pick\ $A \in \mathcal{A}$ such that $b \in A$}
        \step{3}{$b \subseteq A$}
        \begin{proof}
            \pf\ Since $A$ is transitive.
        \end{proof}
        \step{4}{$b \subseteq \bigcup \mathcal{A}$}
        \qed
    \end{proof}

    \subparagraph{(b)}
    \begin{proof}
        \pf
        \step{1}{\pflet{$b \in \bigcap \mathcal{A}$}}
        \step{2}{For all $A \in \mathcal{A}$ we have $b \subseteq A$}
        \begin{proof}
            \pf\ Since $b \in A$ and $A$ is transitive.
        \end{proof}
        \step{3}{$b \subseteq \bigcap \mathcal{A}$}
        \qed
    \end{proof}

    \paragraph{Exercise 6}
    We have $\bigcup (a^+) = \bigcup a \cup a$ (see the proof of Theorem 4E). So if $\bigcup (a^+) = a$
    we have $\bigcup a \cup a = a$ and so $\bigcup a \subseteq a$.

    \section{Recursion on $\omega$}

    \paragraph{Exercise 7}
    We have $h_1(0) = h_2(0) = a$ so $0 \in S$.

    Now let $n \in S$; we prove $n^+ \in S$. We have $h_1(n) = h_2(n)$ and therefore
    \begin{align*}
        h_1(n^+) & = F(h_1(n)) \\
        & = F(h_2(n)) \\
        & = h_2(n^+)
    \end{align*}

    \paragraph{Exercise 8}
    \begin{proof}
        \pf
        \step{1}{$\forall m,n \in \omega. h(n) = h(m) \Rightarrow n = m$}
        \begin{proof}
            \step{a}{$\forall n \in \omega. h(n) = h(0) \Rightarrow n = 0$}
            \begin{proof}
                \step{i}{\pflet{$n \in \omega$}}
                \step{ii}{\assume{$h(n) = h(0)$}}
                \step{iii}{$h(n) = c$}
                \step{iv}{$\forall p \in \omega. n \neq p^+$}
                \begin{proof}
                    \pf\ Otherwise $f(h(p)) = c$ contradicting the fact that $c \in A - \ran f$.
                \end{proof}
                \step{v}{$n = 0$}
                \begin{proof}
                    \pf\ Theorem 4C.
                \end{proof}
            \end{proof}
            \step{b}{For all $m \in \omega$, if $\forall n \in \omega. h(n) = h(m) \Rightarrow n = m$,
                then $\forall n \in \omega. h(n) = h(m^+) \Rightarrow n = m^+$}
            \begin{proof}
                \step{i}{\pflet{$m \in \omega$}}
                \step{ii}{\assume{$\forall n \in \omega. h(n) = h(m) \Rightarrow n = m$}}
                \step{iii}{\pflet{$n \in \omega$}}
                \step{iv}{\assume{$h(n) = h(m^+)$}}
                \step{x}{$h(n) = f(h(m))$}
                \step{v}{$n \neq 0$}
                \begin{proof}
                    \pf\ Otherwise $c = f(h(m))$ contradicting the fact that $c \in A - \ran f$.
                \end{proof}
                \step{vi}{\pick\ $p$ such that $n = p^+$}
                \step{vii}{$f(h(p)) = f(h(m))$}
                \step{viii}{$h(p) = h(m)$}
                \begin{proof}
                    \pf\ $f$ is one-to-one.
                \end{proof}
                \step{ix}{$p = m$}
                \begin{proof}
                    \pf\ By \stepref{ii}.
                \end{proof}
                \step{x}{$n = p^+ = m^+$}
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 9}
    \begin{proof}
        \pf
        \step{1}{$C^* \subseteq C_*$}
        \begin{proof}
            \step{a}{$f[\![ C_* ]\!] \subseteq C_*$}
            \begin{proof}
                \step{i}{\pflet{$x \in C_*$} \prove{$f(x) \in C_*$}}
                \step{ii}{\pick\ $n$ such that $x \in h(n)$}
                \step{iii}{$f(x) \in h(n^+)$}
                \step{iv}{$f(x) \in C_*$}
            \end{proof}
        \end{proof}
        \step{2}{$C_* \subseteq C^*$}
        \begin{proof}
            \step{a}{$\forall n \in \omega. h(n) \subseteq C^*$}
            \begin{proof}
                \step{i}{$h(0) \subseteq C^*$}
                \begin{proof}
                    \pf\ If $A \subseteq X \subseteq B$ and $f[\![X]\!] \subseteq X$ then $A \subseteq X$.
                \end{proof}
                \step{ii}{$\forall n \in \omega (h(n) \subseteq C^* \Rightarrow h(n^+) \subseteq C^*)$}
                \begin{proof}
                    \step{one}{\pflet{$n \in \omega$}}
                    \step{two}{\assume{$h(n) \subseteq C^*$}}
                    \step{three}{$f[\![h(n)]\!] \subseteq C^*$}
                    \begin{proof}
                        \step{A}{\pflet{$X$ be such that $A \subseteq X \subseteq B$ and $f[\![X]\!] \subseteq
                        X$} \prove{$f[\![h(n)]\!] \subseteq X$}}
                        \step{B}{$h(n) \subseteq X$}
                        \step{C}{$f[\![h(n)]\!] \subseteq f[\![X]\!]$}
                        \step{D}{$f[\![h(n)]\!] \subseteq X$}
                    \end{proof}
                    \step{four}{$h(n^+) \subseteq C^*$}
                \end{proof}
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 10}
    $C^* = C_* = (0,1]$

    \paragraph{Exercise 11}
    $\{ n \in \mathbb{Z} \mid n \leq 0 \}$

    \paragraph{Exercise 12}
    Let $f : B \times B \rightarrow B$ and $A \subseteq B$. Let
    \[ C^* = \bigcap \{ X \mid A \subseteq X \subseteq B\ \&\ f[\![X \times X]\!] \subseteq X \} \enspace . \]
    Define the function $h : \omega \rightarrow \mathcal{P} B$ by
    \begin{align*}
        h(0) & = A \\
        h(n^+) & = h(n) \cup f[\![h(n) \times h(n)]\!] & (n \in \omega)
    \end{align*}
    Define $C_* = \bigcup \ran h$. Then $C^* = C_*$.

    \section{Arithmetic}

    \paragraph{Exercise 13}
    We prove the contrapositive. Assume $m \neq 0$ and $n \neq 0$. Then by Theorem 4C
    there are natural numbers $p$, $q$ such that $m = p^+$ and $n = q^+$. Hence
    $mn = p^+ q^+ = (p^+ q + p)^+ \neq 0$.

    \paragraph{Exercise 14}
    We prove the following facts for any natural number $n$:

    \begin{enumerate}
        \item $n$ is even if and only if $n^+$ is odd.
        \begin{proof}
            \pf\ If $n$ is even, say $n = 2p$, then $n^+ = 2p+1$ is odd.

            If $n^+$ is odd, say $n^+ = 2p+1$, then $n = 2p$ is even.
        \end{proof}
        \item $n$ is odd if and only if $n^+$ is even.
        \begin{proof}
            \pf\ If $n$ is odd, say $n = 2p+1$, then $n^+ = 2(p+1)$ is even.

            If $n^+$ is even, say $n^+ = 2p$, then we cannot have $p = 0$ (since $n^+ \neq 0$).
            So $p = q + 1$ for some $q$. But then $n^+ = 2q+2$ so $n = 2q+1$ and $n$ is odd.
        \end{proof}
    \end{enumerate}

    Now, 0 is even and 0 is not odd. By the two facts above, if $n$ is either even or odd but not both,
    then $n^+$ is either odd or even but not both. The result follows by induction.

    \paragraph{Exercise 15}
    We have
    \begin{align*}
        m + (n + 0) & = m + n & \text{by (A1)} \\
        & = (m + n) + 0 & \text{by (A1)}
    \end{align*}
    If $m + (n + p) = (m + n) + p$ then 
    \begin{align*}
        m + (n + p^+) & = m + (n + p)^+ & \text{by (A2)} \\
        & = (m + (n + p))^+ & \text{by (A2)} \\
        & = ((m + n) + p)^+ & \text{by induction hypothesis} \\
        & = (m + n) + p^+ & \text{by (A2)}
    \end{align*}

    \paragraph{Exercise 16}
    We first prove that $0 \cdot n = 0$ for all $n$. We have $0 \cdot 0 = 0$ by (M1), and if
    $0 \cdot n = 0$ then
    \begin{align*}
        0 \cdot n^+ & = 0 \cdot n + 0 & \text{by (M2)} \\
        & = 0 \cdot n & \text{by (A1)} \\
        & = 0 & \text{by induction hypothesis}
    \end{align*}

    Now we prove that $m^+ \cdot n = m \cdot n + n$ for all $m, n$. We have
    \begin{align*}
        m^+ \cdot 0 & = 0 & \text{by (M1)} \\
        m \cdot 0 + 0 & = m \cdot 0 & \text{by (A1)} \\
        & = 0 & \text{by (M1)}
    \end{align*}
    Thus, $m^+ \cdot 0 = m \cdot 0 + 0$.

    If $m^+ \cdot n = m \cdot n + n$ then
    \begin{align*}
        m^+ \cdot n^+ & = m^+ \cdot n + m^+ & \text{by (M2)} \\
        & = (m^+ \cdot n + m)^+ & \text{by (A2)} \\
        & = ((m \cdot n + n) + m)^+ & \text{by induction hypothesis} \\
        & = ((m \cdot n + m) + n)^+ & \text{by associativity and commutativity of addition} \\
        & = (m \cdot n^+ + n)^+ & \text{by (M2)} \\
        & = m \cdot n^+ + n^+ & \text{by (A2)}
    \end{align*}

    \paragraph{Exercise 17}
    The proof is by induction on $p$. We have
    \begin{align*}
        m^{n + 0} & = m^n & \text{by (A1)} \\
        & = 0 + m^n & \text{by Theorem 4K(2)} \\
        & = m^n \cdot 0 + m^n & \text{by (M1)} \\
        & = m^n \cdot 1 & \text{by (M2)} \\
        & = m^n \cdot m^0 & \text{by (E1)}
    \end{align*}
    If $m^{n+p} = m^n \cdot m^p$ then
    \begin{align*}
        m^{n+p^+} & = m^{(n+p)^+} & \text{by (A2)} \\
        & = m^{n+p} m & \text{by (E2) }\\
        & = (m^n m^p) m & \text{by induction hypothesis} \\
        & = m^n (m^p m) & \text{by Theorem 4K (4)} \\
        & = m^n m^{p^+} & \text{by (E2)}
    \end{align*}

    \section{Ordering on $\omega$}

    \paragraph{Exercise 18}
    \begin{align*}
        \in_\omega^{-1} [\![ \{ 7,8 \} ]\!]
        & = \{ x \in \omega \mid x \in 7 \text{ or } x \in 8 \} \\
        & = \{ 0, 1, 2, 3, 4, 5, 6, 7 \}
    \end{align*}

    \paragraph{Exercise 19}
    The proof is by induction on $m$.

    For $m = 0$, take $q = r = 0$. Then $m = d \cdot 0 + 0$ and $0 \in d$.

    Suppose $m = dq + r$ and $r < d$. Then $r + 1 \leq d$. If $r + 1 < d$, then we have $m + 1 = dq + (r + 1)$ as required.
    If $r + 1 = d$, then we have $m + 1 = dq + d = d(q+1) + 0$.

    \paragraph{Exercise 20}
    We first prove $A$ is closed downwards; that is, if $n \in A$ and $m \in n$ then $m \in A$. This holds
    because if $n \in A$ and $m \in n$ then $m \in \bigcup A$ and $\bigcup A = A$.

    Now, we prove $\forall n \in \omega. n \in A$ by induction on $n$.

    To prove $0 \in A$: we are given that $A$ is nonempty. Pick some $a \in A$. Then $0 \underline{in} a$
    so $0 \in A$ since $A$ is closed downwards.

    Now let $n \in A$; we prove $n^+ \in A$. We have $n \in \bigcup A$; pick some $k \in A$ such that $n \in k$.
    Then $n^+ \underline{\in} k$ so $n^+ \in A$ since $A$ is closed downwards.

    This completes the induction. We have $\forall n \in \omega. n \in A$, i.e. $A = \omega$.

    \paragraph{Exercise 21}
    Suppose $n$ is a natural number, $k \in n$ and $n \subseteq k$. Then $k \in k$, contradicting
    Lemma 4L(b).

    \paragraph{Exercise 22}
    We have $0 \in p^+$ (by trichotomy since $p^+ \notin 0$ because 0 is empty, and $p^+ \neq 0$ by Peano's
    First Postulate.) Hence $n = n + 0 \in n + p^+$ by Theorem 4N.

    \paragraph{Exercise 23}
    The proof is by induction on $n$. The statement is vacuously true for $n = 0$.

    Suppose the statement is true for $n$. Let $m \in n^+$. Then $m \underline{\in} n$.

    If $m = n$, then we have $m + 0^+ = n^+$.

    If $m \in n$, pick $p$ such that $m + p^+ = n$ by the induction hypothesis. Then $m + p^{++} = n^+$.

    \paragraph{Exercise 24}
    Suppose $m \in p$. Then we cannot have $n \in q$ or $n = q$, as either of these would imply
    $m + n \in p + q$. Hence $q \in n$ by trichotomy.

    We prove $q \in n \Rightarrow m \in p$ similarly.

    \paragraph{Exercise 25}
    By Exercise 23, pick natural numbers $a$ and $b$ such that $m = n + a^+$ and $p = q + b^+$.
    Then
    \begin{align*}
        mp + nq & = (n + a^+)(q + b^+) + nq \\
        & = nq + nq + a^+ q + n b^+ + a^+ b^+ \\
        & = (n + a^+) q + n (q + b^+) + a^+ b^+ \\
        & = mq + np + (a^+ + b)^+
    \end{align*}
    Hence $mq + np \in mp + nq$ by Exercise 22.

    \paragraph{Exercise 26}
    The proof is by induction on $n$.

    If $n = 0$ then $\ran f$ is a singleton and its sole element is the largest element.

    Suppose the result is true for $n$. Let $f : n^{++} \rightarrow A$. Then $f [\![ n^+ ]\!]$ has a largest
    element $f(k)$, say. If $f(k) \underline{\in} f(n^+)$ then $f(n^+)$
    is greatest in $\ran f$; otherwise $f(k)$ is greatest.

    \paragraph{Exercise 27}
    We prove $f_1(n) = f_2(n)$ for all $n \in \omega$ by strong induction on $n$.

    Assume that $(\forall m \in n) f_1(m) = f_2(m)$. Then $f_1 \restriction n = f_2 \restriction n$. So
    \begin{align*}
        f_1(n) & = G(f_1 \restriction n) \\
        & = G(f_2 \restriction n) \\
        & = f_2(n)
    \end{align*}

    \paragraph{Exercise 28}
    Suppose $\omega$ is not transitive. Then there exists a natural number $n$ such that $n \nsubseteq \omega$.
    Let $n$ be the least such number. There exists $x \in n$ such that $x \notin \omega$. Now, $n \neq 0$
    (because it is nonempty) so $n = p^+$ for some natural number $p$. We have $x \in p^+$ so $x \in p$
    or $x = p$. We cannot have $x = p$ (because $x$ is not a natural number) so we have $x \in p$.
    But this contradicts the minimality of $n$.

    \section{Review Exercises}

    \paragraph{Exercise 29}
    $4 = \{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \},
        \{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \} \}$

    \paragraph{Exercise 30}
    $\bigcup 4 = 0 \cup 1 \cup 2 \cup 3 = 3$ since $0$, $1$ and $2$ are all subsets of 3.

    $\bigcap 4 = 0 \cap 1 \cap 2 \cap 3 = 0 (= \emptyset)$.

    \paragraph{Exercise 31}
    Similarly to Exercise 30 we have $\bigcup \bigcup 7 = \bigcup 6 = 5$.

    \paragraph{Exercise 32}
    \subparagraph{(a)}
    $A^+ = A \cup \{ A \} = \{ 1, A \} = \{ 1, \{ 1 \} \}$

    So $\bigcup A^+ = 1 \cup \{ 1 \} = \{ 0, 1 \} = 2$

    \subparagraph{(b)}
    $\bigcup (\{2\}^+) = \bigcup \{ 2, \{ 2 \} \} = \{ 0, 1, 2 \} = 3$

    \paragraph{Exercise 33}
    \subparagraph{(a)}
    Yes - if $x \in y \in \{ 0, 1, \{ 1 \} \}$ then $x$ is either 0 or 1, and in either case
    $x \in \{ 0, 1, \{ 1 \} \}$

    \subparagraph{(b)}
    No - $0 \in 1 \in \{ 1 \}$ but $0 \notin \{ 1 \}$

    \subparagraph{(c)}
    No - $0 \in \{ 0 \} \in \langle 0,1 \rangle$ but $0 \notin \langle 0,1 \rangle$.

    \paragraph{Exercise 34}
    \subparagraph{(a)}
    Let $a = \{ \emptyset \}$ and $b = \emptyset$

    \subparagraph{(b)}
    Let $c = \{ \{ \emptyset \} \}$, $d = \{ \emptyset \}$ and $e = \emptyset$

    \paragraph{Exercise 35}
    \subparagraph{(a)}
    Let $T_1 = \{ \{1\}, \{1,0\}, 0, 1 \}$

    \subparagraph{(b)}
    Let $T_2 = \{ \langle 1, 0 \rangle, \{1\}, \{1,0\}, 0, 1 \}$.

    \paragraph{Exercise 36}
    \begin{align*}
        h(4) & = 2h(3) \\
        & = 4h(2) \\
        & = 8h(1) \\
        & = 16h(0) \\
        & = 48
    \end{align*}

    \paragraph{Exercise 37}
    \subparagraph{(a)}
    Let $f : m \rightarrow A$ and $g : n \rightarrow B$ be bijections. Define $h : m + n \rightarrow A \cup B$
    by
    \begin{align*}
        h(p) & = f(p) & \text{if } p \in m \\
        h(m + q) & = g(q) & \text{if } q \in n
    \end{align*}
    To show that this is well-defined, we must prove two things:
    \begin{enumerate}
        \item For all $p \in m + n$, then either $p \in m$ or there
    exists $q \in n$ such that $p = m + n$.
        \item We never have $p \in m$ and $p = m + q$ for some $q \in n$.
    \end{enumerate}

    We prove 1 by induction on $n$. For all $p \in m + 0$ we have $p \in m$, so the result holds for $n = 0$.

    Now, suppose the result holds for $n$. Let $p \in m + n^+ = (m+n)^+$ so $p \underline{in} m + n$.
    If $p \in m + n$, we simply apply the induction hypothesis. If $p = m + n$ then $p = m + q$ where
    $q = n \in n^+$.

    To prove 2, if $p = m + q$ then $m = m + 0 \underline{in} m + q = p$ by Theorem 4N, hence $p \notin m$
    by trichotomy.

    It remains to show that $h$ is a bijection.

    To prove $h$ is injective, we consider three cases. If $h(p) = h(p')$ where $p, p' \in m$,
    then $f(p) = f(p')$ so $p = p'$. If $h(m+q) = h(m+q')$ where $q,q' \in n$, then $g(q) = g(q')$
    so $q = q'$. And we cannot have $h(p) = h(m+q)$ for $p \in m$ and $q \in n$ since $h(p) \in A$,
    $h(m+q) \in B$, and $A \cap B = \emptyset$.

    To prove $h$ is surjective, let $x \in A \cup B$. If $x \in A$, there is some $p \in m$ with $f(p) = x$,
    so $h(p) = x$. If $x \in B$, there is some $q \in n$ with $g(q) = x$, so $h(m+q) = x$.

    \subparagraph{(b)}
    Let $f : m \rightarrow A$ and $g : n \rightarrow B$ be bijections.

    We first show that, for any $p \in mn$, there exist unique $i \in m$ and $j \in n$ such that
    $p = mj+i$. 
    
    By Exercise 19, there exist $j$ and $i \in m$ such that $p = mj+i$. We have $j \in n$
    since otherwise $p = mj+i \underline{\ni} mj \underline{\ni} mn$.

    For uniqueness, suppose $mj + i = mj' + i'$ where $i, i' \in m$ and $j, j' \in n$.
    Then we have
    \[ mj \underline{\in} mj + i = mj' + i' \in mj' + m = m(j')^+ \]
    so $j \in (j')^+$ and $j \underline{\in} j'$. Similarly $j' \underline{\in} j$, and so $j = j'$. Therefore
    $i = i'$ by the cancellation law for addition.

    Now define $h : mn \rightarrow A \times B$ by
    \[ h(mj+i) = \langle f(i), g(j) \rangle \]
    where $i \in m$ and $j \in n$. It is easy to check that $h$ is bijective.

    \paragraph{Exercise 38}
    $h(n) = 3n+1$

    \paragraph{Exercise 39}
    $h(n) = n^2$

    \paragraph{Exercise 40}
    $h(n^+) = h(n) + 5$

    \chapter{Chapter 5 --- Construction of the Real Numbers}

    \section{Integers}
    
    \paragraph{Exercise 1}
    No, because $[\langle 0,0 \rangle] = [\langle 1,1 \rangle]$ but $[\langle 0,0 \rangle] \neq [\langle
        2,1 \rangle]$.

    \paragraph{Exercise 2}
    Yes, because if $[\langle m,n \rangle] = [\langle p,q \rangle]$ then $[\langle m,m \rangle] =
    [\langle p,p \rangle]$ because $m + p = m + p$.

    \paragraph{Exercise 3}
    Yes, because if $[\langle m,n \rangle] = [\langle p,q \rangle]$ then $[\langle n,m \rangle] =
    [\langle q,p \rangle]$ because $n + p = m + q$.

    \paragraph{Exercise 4}
    Let $a = [\langle m,n \rangle]$, $b = [\langle p,q \rangle]$ and $c = [\langle r,s \rangle]$.
    Then
    \begin{align*}
        a +_Z (b +_Z c) & = [\langle m,n \rangle] +_Z [\langle p + r, q + s \rangle] \\
        & = [\langle m + (p + r), n + (q + s) \rangle] \\
        & = [\langle (m + p) + r, (n + q) + s \rangle] \\
        & = [\langle m + p, n + q \rangle] +_Z [\langle r,s \rangle] \\
        & = (a +_Z b) +_Z c
    \end{align*}

    \paragraph{Exercise 5}
    \[ [\langle m,n \rangle] - [\langle p,q \rangle] = [\langle m,n \rangle] + [\langle q,p \rangle]
    = [\langle m+q, n+p \rangle] \]

    \paragraph{Exercise 6}
    Let $a = [\langle m,n \rangle]$. Then
    \begin{align*}
        a \cdot_Z 0_Z & = [\langle m,n \rangle] \cdot_Z [\langle 0,0 \rangle] \\
        & = [\langle m 0 + n 0, m 0 + n 0 \rangle] \\
        & = [\langle 0,0 \rangle] \\
        & = 0_Z
    \end{align*}

    \paragraph{Exercise 7}
    We have $a \cdot_Z b +_Z a \cdot_Z (-b) = a \cdot_Z (b +_Z (-b)) = a \cdot_Z 0_Z = 0_Z$,
    hence $a \cdot_Z (-b) = -(a \cdot_Z b)$ by the uniqueness of inverses.

    We prove $(-a) \cdot_Z b = -(a \cdot_Z b)$ similarly.

    \paragraph{Exercise 8}
    \subparagraph{(a)}
    This says $[\langle m + n, 0 \rangle] = [\langle m,0 \rangle] +_Z [\langle n,0 \rangle]$,
    which is true from the definition of $+_Z$.

    \subparagraph{(b)}
    We have
    \begin{align*}
        E(m) \cdot_Z E(n) & = [\langle m, 0 \rangle] \cdot_Z [\langle n,0 \rangle] \\
        & = [\langle mn + 0 \cdot 0, m0 + n0 \rangle] \\
        & = E(mn)
    \end{align*}

    \subparagraph{(c)}
    \begin{align*}
        E(m) <_Z E(n) & \Leftrightarrow [\langle m,0 \rangle] <_Z [\langle n,0 \rangle] \\
        & \Leftrightarrow m + 0 \in n + 0 \\
        & \Leftrightarrow m \in n
    \end{align*}

    \paragraph{Exercise 9}
    \begin{align*}
        E(m) - E(n) & = [\langle m,0 \rangle] - [\langle n, 0 \rangle] \\
        & = [\langle m, n \rangle]
    \end{align*}
    by Exercise 5.

    \section{Rational Numbers}

    \paragraph{Exercise 10}
    Let $r = [\langle a,b \rangle]$. Then
    \begin{align*}
        r \cdot_Q 0_Q & = [\langle a,b \rangle] \cdot_Q [\langle 0,1 \rangle] \\
        & = [\langle a \cdot_Z 0, b \cdot_Z 1 \rangle] \\
        & = [\langle 0, b \rangle] \\
        & = [\langle 0,1 \rangle]
    \end{align*}
    since $\langle 0, b \rangle \sim \langle 0,1 \rangle$ because $0 \cdot_Z 1 = 0 \cdot_Z b = 0$.

    \paragraph{Exercise 11}
    Let $r = [\langle a,b \rangle]$ and $s = [\langle c,d \rangle]$. Suppose $r \cdot_Q s = 0_Q$.
    Then
    \[ [\langle ac,bd \rangle] = [\langle 0, 1 \rangle] \]
    that is, $ac = 0$. Hence $a = 0$ or $c = 0$, which means $r = 0_Q$ or $s = 0_Q$.

    \paragraph{Exercise 12}
    This follows from Theorem 5QJ(a) with $s = 0_Q$ and $t = -r$.

    \paragraph{Exercise 13}
    Let $a,b,c \in \mathbb{Z}$. If $a +_Z c = b +_Z c$ then
    \begin{align*}
        a +_Z c +_Z (-c) & = b +_Z c +_Z (-c) \\
        \therefore a +_Z 0 & = b +_Z 0 & (\text{Theorem 5ZD(b)}) \\
        \therefore a & = b & (\text{Theorem 5ZD(a)})
    \end{align*}
    
    \paragraph{Exercise 14}
    Suppose $p <_Q s$. Let $r = (p +_Q s) / 2$. Then
    \begin{align*}
        p & <_Q s \\
        \therefore 2p & <_Q p +_Q s \\
        \therefore p & <_Q (p +_Q s) / 2 \\
        & = r \\
        p & <_Q s \\
        \therefore p +_Q s & <_Q 2s \\
        \therefore (p +_Q s)/2 & <_Q s \\
        \therefore r & <_Q s
    \end{align*}

    \section{Real Numbers}

    \paragraph{Exercise 15}
    \begin{proof}
        \pf
        \step{1}{$\bigcup A$ is closed downwards.}
        \begin{proof}
            \step{a}{\pflet{$q \in \bigcup A$ and $p < q$}}
            \step{b}{\pick\ $x \in A$ such that $q \in x$}
            \step{c}{$p \in x$}
            \begin{proof}
                \pf\ Since $x$ is closed downwards.
            \end{proof}
            \step{d}{$p \in \bigcup A$}
        \end{proof}
        \step{2}{$\bigcup A$ has no largest element.}
        \begin{proof}
            \step{a}{\pflet{$q \in \bigcup A$}}
            \step{b}{\pick\ $x \in A$ such that $q \in x$}
            \step{c}{\pick\ $r \in x$ such that $q < r$}
            \begin{proof}
                \pf\ Since $x$ has no largest element.
            \end{proof}
            \step{d}{$r \in \bigcup A$}
        \end{proof}
        \qed
    \end{proof}
    
    \paragraph{Exercise 16}
    \begin{proof}
        \pf
        \step{1}{\pflet{$q \in x +_R y$}}
        \step{2}{\pick\ rationals $a \in x$ and $b \in y$ such that $q = a + b$}
        \step{3}{\pick\ $a' \in x$ and $b' \in y$ such that $a < a'$ and $b < b'$}
        \begin{proof}
            \pf\ Since $x$ and $y$ each have no largest element.
        \end{proof}
        \step{4}{$q < a' + b' \in x +_R y$}
        \qed
    \end{proof}

    \paragraph{Exercise 17}
    If $b < 0$ we can take $k = 0$. If $b \geq 0$ then there is a natural number $n$ such that $b = E(n)$;
    take $k = n^+$. Then $b < ak$ since $1 \leq a$ and $b < k$.

    \paragraph{Exercise 18}
    Let $p = [\langle a,b \rangle]$ and $r = [\langle c,d \rangle]$ where $a$, $b$ and $d$ are positive.
    By Exercise 17, there exists a natural number $k$ such that $bc < ad E(k)$. Therefore $r < p \cdot E(E(k))$.

    \paragraph{Exercise 19}
    Pick a rational $a \in x$ (which we can do since $x \neq \emptyset$). We first prove that there exists
    a natural number $k$ such that $a + kp \notin x$.

    Pick a rational $b \notin x$ (which we can do since $x \neq \mathbb{Q}$). We have $a < b$ (since $x$ is
    closed downwards). By Exercise 18, there exists a natural number $k$ such that
    \begin{align*}
        b - a & < kp \\
        \therefore a + kp & > b \\
        \therefore a + kp & \notin x
    \end{align*}

    Now, let $k$ be the least natural number such that $a + kp \notin x$ (by the Well-Ordering Principle).
    We have $k \neq 0$ (since $a \in x$);
    let $k = n^+$. Then we have
    \[ a + np \in x \qquad a + np + p \notin x \]
    Take $q = a + np$.

    \paragraph{Exercise 20}
    We must prove $0 \subseteq x \cup -x$. Let $q \in 0$ and assume $q \notin x$. Then $q < 0$ and $-0 = 0
    \notin x$, so $q \in -x$.

    \paragraph{Exercise 21}
    \begin{proof}
        \pf
        \step{1}{\pflet{$x,y$ be real numbers with $x < y$}}
        \step{2}{\pick\ $r \in y$ such that $r \notin x$}
        \step{3}{\pick\ $s \in y$ such that $r < s$ \prove{$x < E(s) < y$}}
        \step{4}{$x \subseteq E(s)$}
        \begin{proof}
            \pf\ If $p \in x$ then $p < r < s$
        \end{proof}
        \step{5}{$x \neq E(s)$}
        \begin{proof}
            \pf\ Since $r \in E(s)$ and $r \notin x$
        \end{proof}
        \step{6}{$E(s) \subseteq y$}
        \begin{proof}
            \pf\ Since $y$ is closed downwards.
        \end{proof}
        \step{7}{$E(s) \neq y$}
        \begin{proof}
            \pf\ Since $s \in y$ but $s \notin E(s)$.
        \end{proof}
    \end{proof}

    \paragraph{Exercise 22}
    $|x|$ is either $x$ or $-x$, and they are both real numbers.

    \chapter{Chapter 6 --- Cardinal Numbers and the Axiom of Choice}

    \section{Equinumerosity}

    \paragraph{Exercise 1}
    \begin{proof}
        \pf
        \step{1}{$f$ is injective.}
        \begin{proof}
            \step{a}{\assume{$f(m,n) = f(m',n')$}}
            \step{b}{$2^m(2n+1) = 2^{m'}(2n'+1)$}
            \step{c}{$m = m'$}
            \begin{proof}
                \step{i}{\assume{w.l.o.g. $m \leq m'$}}
                \step{ii}{$2n+1 = 2^{m'-m}(2n'+1)$}
                \begin{proof}
                    \pf\ From \stepref{b} dividing by $2^m$.
                \end{proof}
                \step{iii}{$m'-m = 0$}
                \begin{proof}
                    \pf\ Since $2^{m'-m}(2n'+1)$ is odd.
                \end{proof}
            \end{proof}
            \step{d}{$2n+1 = 2n'+1$}
            \step{e}{$n = n'$}
        \end{proof}
        \step{2}{$f$ is surjective.}
        \begin{proof}
            \step{a}{\pflet{$n \in \omega$}
            \assume{$\forall m < n. m \in \ran f$}
            \prove{$n \in \ran f$}}
            \step{b}{\case{$n$ is even}}
            \begin{proof}
                \step{i}{\pflet{$k$ be such that $n = 2k$}}
                \step{ii}{$n = f(0,k)$}
            \end{proof}
            \step{c}{\case{$n$ is odd}}
            \begin{proof}
                \step{i}{\pflet{$k$ be such that $n = 2k+1$}}
                \step{ii}{\pflet{$k = f(i,j)$}}
                \step{iii}{$n = f(i+1,j)$}
                \begin{proof}
                    \pf
                    \begin{align*}
                        n & = 2k+1 \\
                        & = 2(2^i(2j+1)-1) +1 \\
                        & = 2^{i+1}(2j+1)-2+1 \\
                        & = 2^{i+1}(2j+1) - 1
                    \end{align*}
                \end{proof}
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 2}
    Let us call $(0)$ the $0$th diagonal, $(1,2)$ the 1st diagonal, $(3,4,5)$ the 2nd diagonal, etc.
    Then the $k$th is the set of all positions with coordinates $(m,n)$ such that $m + n = k$.

    Therefore, the number $J(m,n)$ at position $(m,n)$ is the $m+1$st number in the $(m+n)$th diagonal. So the number
    of numbers that come before $J(m,n)$ is
    \[ (1 + 2 + \cdots + (m+n)) + m \]
    Therefore, since the natural numbers start at 0,
    \[ J(m,n) = (1 + 2 + \cdots + (m+n)) + m \]
    We know $1 + 2 + \cdots + k = k(k+1)/2$. Therefore,
    \begin{align*}
        J(m,n) & = 1/2(m+n)(m+n+1) + m \\
        & = 1/2(m^2 + 2mn + m + n + n^2) + m \\
        & = 1/2(m^2 + 2mn + 3m + n + n^2) \\
        & = 1/2((m+n)^2 + 3m + n)
    \end{align*}

    \paragraph{Exercise 3}
    Define $f : (0,1) \rightarrow \mathbb{R}$ by: $f(x) = 1/x - 2$ if $0 < x \leq 1/2$; $f(x) = 2 - 1/(1-x)$
    if $1/2 < x < 1$.

    \paragraph{Exercise 4}
    Define $f : [0,1] \rightarrow (0,1)$ by 
    \begin{align*}
        f(1/2 - 1/2^n) & = 1/2 - 1/2^{n-1} & (\text{for $n$ a positive integer}) \\
        f(1/2 + 1/2^n) & = 1/2 + 1/2^{n-1} & (\text{for $n$ a positive integer}) \\
        f(x) & = x & (\text{for all other $x$})
    \end{align*}

    \paragraph{Exercise 5}
    \subparagraph{(a)}
    For any set $A$, the identity function $I_A$ is a bijection between $A$ and $A$. It is injective
    because, if $I_A(x) = I_A(y)$ then $x = y$ immediately. It is surjective because for any $y \in I_A$
    we have $y = I_A(y)$.
    
    \subparagraph{(b)}
    We prove that, if $f$ is a bijection between $A$ and $B$, then $\inv{f}$ is a bijection between
    $B$ and $A$. It is an injective function by Theorem 3F, and maps $B$ onto $A$ by Theorem 3E.

    \subparagraph{(c)}
    Let $f$ be a bijection between $A$ and $B$, and $g$ a bijection between $A$ and $C$. We prove $g \circ f$
    is a bijection between $A$ and $C$.

    It is a function from $A$ to $C$ by Theorem 3H.

    We prove it is injective. Let $x,y \in A$ and assume $(g \circ f)(x) = (g \circ f)(y)$. Then
    \begin{align*}
        g(f(x)) & = g(f(y)) \\
        \therefore f(x) & = f(y) & (\text{$g$ is injective}) \\
        \therefore x & = y & (\text{$f$ is injective})
    \end{align*}

    Now we prove it maps $A$ onto $C$. Let $c \in C$. Pick $b \in B$ such that $g(b) = c$
    (since $g$ is surjective). Pick
    $a \in A$ such that $f(a) = b$ (since $f$ is injective). Then $(g \circ f)(a) = c$.

    \section{Finite Sets}

    \paragraph{Exercise 6}
    Suppose every set of cardinality $\kappa$ belongs to $A$. We will prove that every set belongs to
    $\bigcup A$.

    Let $x$ be any set. Pick a set $y$ of cardinality $\kappa$. If $x \in y$ then $x \in y \in A$
    so $x \in \bigcup A$.
    
    Assume $x \notin y$. Pick an element $z \in y$ (we know
    $y$ is nonempty because $\kappa \neq 0$). Then $y - \{ z \} \cup \{ x \}$ has cardinality $\kappa$,
    and so $x \in (y - \{z\} \cup \{x\}) \in A$ hence $x \in \bigcup A$.

    Thus, every set is in $\bigcup A$, which we know is impossible by Theorem 2A.

    \paragraph{Exercise 7}
    If $f$ is one-to-one then $f$ is a bijection between $A$ and $\ran f$. So we must have $\ran f = A$, otherwise $f$ would be a bijection between $A$
    and a proper subset of $A$, contradicting the Pigeonhole Principle.

    Conversely, suppose $\ran f = A$. Pick a right inverse $h : A \rightarrow A$ for $f$ (by Theorem 3J(b).
    Note: Theorem 3J(b) can in fact be proved for the case $B$ is finite without using the Axiom of Choice.).
    Now, $h$ is one-to-one by Theorem 3J(a). So $\ran h = A$ by the first paragraph.

    We prove $f$ is one-to-one. Let $x,y \in A$ and assume $f(x) = f(y)$. Pick $a, b \in A$ such that
    $h(a) = x$ and $h(b) = y$. Then
    \begin{align*}
        f(h(a)) & = f(h(b)) \\
        \therefore a & = b \\
        \therefore x & = y
    \end{align*}

    \paragraph{Exercise 8}
    \begin{proof}
        \pf
        \step{1}{For any sets $A$ and $x$, if $A$ is finite then $A \cup \{x\}$ is finite.}
        \begin{proof}
            \step{a}{\case{$x \in A$}}
            \begin{proof}
                \pf\ In this case $A \cup \{x\} = A$.
            \end{proof}
            \step{b}{\case{$x \notin A$}}
            \begin{proof}
                \pf\ Then $|A \cup \{x\}| = |A|^+$.
            \end{proof}
        \end{proof}
        \step{1.5}{\pflet{$A$ be a finite set.}}
        \step{2}{For any set $B$, if $B \approx 0$ then $A \cup B$ is finite.}
        \begin{proof}
            \pf\ Because $B = \emptyset$ so $A \cup B = A$.
        \end{proof}
        \step{3}{Let $n$ be a natural number. Assume that, for any set $B$, if $B \approx n$
        then $A \cup B$ is finite. Then for any set $B$, if $B \approx n^+$ then $A \cup B$ is finite.}
        \begin{proof}
            \step{a}{\pflet{$n \in \omega$}}
            \step{b}{\assume{For any set $B$, if $B \approx n$ then $A \cup B$ is finite.}}
            \step{c}{\pflet{$B$ be a set.}}
            \step{d}{\assume{$B \approx n^+$}}
            \step{e}{\pick\ a bijection $f : n^+ \rightarrow B$}
            \step{f}{$B - \{f(n)\} \approx n$}
            \step{g}{$A \cup (B - \{f(n)\})$ is finite.}
            \step{h}{$A \cup B$ is finite.}
            \begin{proof}
                \pf\ By \stepref{1} since $A \cup B = (A \cup (B - \{ f(n) \})) \cup \{ f(n) \}$.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 9}
    \begin{proof}
        \pf
        \step{1}{\pflet{$A$ be a finite set.}}
        \step{2}{For any set $B$, if $B \approx 0$ then $A \times B$ is finite.}
        \begin{proof}
            \pf\ In this case $A \times B = \emptyset$.
        \end{proof}
        \step{3}{Let $n$ be a natural number. Suppose that, for any set $B$, if $B \approx n$
        then $A \times B$ is finite. Then for any set $B$, if $B \approx n^+$ then $A \times B$ is finite.}
        \begin{proof}
            \step{a}{\pflet{$n$ be a natural number.}}
            \step{b}{\assume{For any set $B$, if $B \approx n$ then $A \times B$ is finite.}}
            \step{c}{\pflet{$B$ be a set.}}
            \step{d}{\assume{$B \approx n^+$}}
            \step{e}{\pick\ a bijection $f : n^+ \approx B$}
            \step{f}{$A \times (B - \{ f(n) \})$ is finite.}
            \begin{proof}
                \pf\ By the induction hypothesis \stepref{b}.
            \end{proof}
            \step{g}{$A \times B$ is finite.}
            \begin{proof}
                \pf\ By Exercise 8 since $A \times B = (A \times (B - \{ f(n) \})) \cup (A \times \{ f(n) \})$
                and $A \times \{ f(n) \}$ is finite because it is equinumerous with $A$.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}
    
    \section{Cardinal Arithmetic}

    \paragraph{Exercise 10}
    We must show that $^{(L \cup M)}K \approx ^L K \times ^M K$ where $L \cap M = \emptyset$.

    Define $\Phi : ^{(L \cup M)}K \rightarrow ^L K \times ^M K$ by: $\Phi(f) = \langle f \restriction L,
    f \restriction M \rangle$.

    To show $\Phi$ is one-to-one: suppose $\Phi(f) = \Phi(g)$. Then $f \restriction L = g \restriction L$
    and $f \restriction M = g \restriction M$. Hence $f(x) = g(x)$ for all $x \in L$ and $f(x) = g(x)$
    for all $x \in M$, so $f(x) = g(x)$ for all $x$, i.e. $f = g$.

    To show $\Phi$ is surjective: given a function $g : L \rightarrow K$ and $h : M \rightarrow K$,
    we have $g \cup h : L \cup M \rightarrow K$ and $\Phi(g \cup h) = \langle g, h \rangle$.

    \paragraph{Exercise 11}
    We must show that $^M(K \times L) \approx ^M K \times ^M L$.

    Define $\Phi : ^M(K \times L) \rightarrow ^M K \times ^M L$ by: $\Phi(f) = \langle \pi_1 \circ f,
    \pi_2 \circ f \rangle$, where $\pi_1 : K \times L \rightarrow K$ is the function defined by
    \[ \pi_1(\langle x,y \rangle) = x \]
    and $\pi_2 : K \times L \rightarrow L$ is the function defined by
    \[ \pi_2(\langle x,y \rangle) = y \enspace . \]

    To show $\Phi$ is one-to-one: suppose $\Phi(f) = \Phi(g)$. For any $x \in M$, we have $\pi_1(f(x)) = \pi_1(g(x))$
    and $\pi_2(f(x)) = \pi_2(g(x))$, so $f(x) = g(x)$ by Theorem 3A.

    To show $\Phi$ is surjective: given $g : M \rightarrow K$ and $h : M \rightarrow L$,
    define $f : M \rightarrow K \times L$ by $f(x) = \langle g(x), h(x) \rangle$ for $x \in M$.
    Then $\Phi(f) = \langle g, h \rangle$.

    \paragraph{Exercise 12}
    We have:
    \begin{align*}
        K \cup L & = L \cup K \\
        K \cup (L \cup M) & = (K \cup L) \cup M \\
        K \times (L \cup M) & = (K \times L) \cup (K \times M)
    \end{align*}

    \paragraph{Exercise 13}
    Now that we have shown the union of two finite sets is finite, this follows by an easy induction on
    $|B|$.
    
    \paragraph{Exercise 14}
    For any set $A$, let $Perm(A)$ be the set of all permutations of $A$.

    Assume $K \approx L$: we must show $Perm(K) \approx Perm(L)$. Pick a bijection $f : K \rightarrow L$.
    Define $\Phi : Perm(K) \rightarrow Perm(L)$ by: $\Phi(g) = f \circ g \circ \inv{f}$. It is easy to
    show $\Phi(g)$ is a permutation of $L$ whenever $g$ is a permutation of $K$, and $\Phi$ is a bijection.

    \section{Ordering Cardinal Numbers}

    \paragraph{Exercise 15}
    Suppose for a contradiction $\mathcal{A}$ is a set and, for every set $x$, there exists $y \in \mathcal{A}$
    such that $x \preccurlyeq y$. Pick $y \in \mathcal{A}$ such that $\mathcal{P} \bigcup \mathcal{A} \preccurlyeq y$.
    But $y \subseteq \bigcup \mathcal{A}$ so $\mathcal{P} \bigcup \mathcal{A} \preccurlyeq \bigcup \mathcal{A}$,
    contradicting Cantor's Theorem.

    \paragraph{Exercise 16}
    Define $G : S \rightarrow ^S 2$ by
    \[ G(x)(y) = \begin{cases}
        1 & \text{if } x = y \\
        0 & \text{if } x \neq y
    \end{cases} \]
    Then $G$ is injective.

    Now, assume for a contradiction $F : S \rightarrow ^S 2$ is bijective. Define $g : S \rightarrow 2$ by
    $g(x) = 1 - F(x)(x)$. Then $g(x) \neq F(x)(x)$ for all $x \in S$, so $g \neq F(x)$ for all $x \in S$.
    Hence $g \notin \ran F$. This contradicts the assumption that $F$ is surjective.

    \paragraph{Exercise 17}
    We have $1 < 2$ but $\aleph_0 + 1 = \aleph_0 + 2 = \aleph_0$.

    We have $1 < 2$ but $\aleph_0 \cdot 1 = \aleph_0 \cdot 2 = \aleph_0$.

    We have $2 < 3$ but $2^{\aleph_0} = 3^{\aleph_0}$.

    We have $2 < 3$ but $\aleph_0^2 = \aleph_0^3 = \aleph_0$.

    \section{Axiom of Choice}
    
    \paragraph{Exercise 18}
    \begin{proof}
        \pf
        \step{1}{If the Axiom of Choice is true then the statement is true.}
        \begin{proof}
            \pf\ The statement is a special case of the multiplicative axiom, taking $I = \mathcal{A}$
            and $H(X) = X$ for each $X \in \mathcal{A}$.
        \end{proof}
        \step{2}{If the statement is true then the Axiom of Choice is true.}
        \begin{proof}
            \step{a}{\assume{The statement is true.} \prove{Axiom of choice IV}}
            \step{b}{\pflet{$\mathcal{A}$ be a set such that each member of $\mathcal{A}$ is a nonempty set,
            and any two distinct members of $\mathcal{A}$ are disjoint.}}
            \step{c}{\pick\ a function $f$ with domain $\mathcal{A}$ such that $f(X) \in X$ for all $X \in \mathcal{A}$}
            \step{d}{\pflet{$C = \ran f$}}
            \step{e}{$\forall B \in \mathcal{A}. C \cap B = \{ f(B) \}$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 19}
    \begin{proof}
        \pf
        \step{1}{For $n \in \omega$, let $P(n)$ be the statement: for every set $I$ with $\card I = n$
        and function $H$ with domain $I$ such that $H(i)$ is nonempty for each $i \in I$, there exists a
        function $f$ with domain $I$ such that $\forall i \in I. f(i) \in H(i)$.}
        \step{2}{$P(0)$ is true}
        \begin{proof}
            \pf\ Take $f = \emptyset$
        \end{proof}
        \step{3}{$\forall n \in \omega. P(n) \Rightarrow P(n+1)$}
        \begin{proof}
            \step{a}{\pflet{$n \in \omega$}}
            \step{b}{\assume{$P(n)$}}
            \step{c}{\pflet{$I$ be a set with $\card I = n+1$}}
            \step{d}{\pflet{$H$ be a function with domain $I$ such that $H(i)$ is nonempty for each $i \in I$}}
            \step{e}{\pick\ a bijection $g : n + 1 \approx I$}
            \step{f}{\pick\ a function $h$ with domain $g[\![n]\!]$ such that $\forall i \in g[\![n]\!].
            h(i) \in H(i)$}
            \step{g}{\pick\ $a \in H(g(n))$}
            \step{h}{\pflet{$f = h \cup \{ (g(n), a) \}$}}
            \step{i}{$f$ is a function with domain $I$ such that $\forall i \in I. f(i) \in H(i)$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 20}

    \begin{proof}
        \pf
        \step{1}{\pick\ a choice function $F$ for $A$}
        \step{2}{\pick\ $a \in A$}
        \step{3}{Define the function $f : \omega \rightarrow A$ by:
        \begin{align*}
            f(0) & = a \\
            f(n^+) & = F(\inv{R}(f(n)))
        \end{align*}}
        \begin{proof}
            \pf\ We know $\inv{R}(x)$ is nonempty for all $x \in A$ because $\forall x \in A. \exists y \in A. yRx$.
        \end{proof}
        \step{4}{$\forall n \in \omega. f(n^+) R f(n)$}
        \qed
    \end{proof}

    \paragraph{Exercise 21}

    \begin{proof}
        \pf
        \step{1}{For every chain $\mathcal{B} \subseteq \mathcal{A}$ we have $\bigcup \mathcal{B} \in
        \mathcal{A}$}
        \begin{proof}
            \step{a}{\pflet{$\mathcal{B} \subseteq \mathcal{A}$ be a chain.}}
            \step{b}{Every finite subset of $\bigcup \mathcal{B}$ is a member of $\mathcal{A}$.}
            \begin{proof}
                \step{i}{\pflet{$\{ x_1, \ldots, x_n \} \subseteq \bigcup \mathcal{B}$ be finite.}}
                \step{ii}{For $1 \leq i \leq n$, \pick\ $B_i \in \mathcal{B}_i$ such that $x_i \in B_i$}
                \step{iii}{\pick\ $m$ such that $B_1, \ldots, B_n \subseteq B_m$}
                \begin{proof}
                    \pf\ Since $\mathcal{B}$ is a chain.
                \end{proof}
                \step{iv}{$\{ x_1, \ldots, x_n \}$ is a finite subset of $B_m$.}
                \step{v}{$\{x_1, \ldots, x_n \} \in \mathcal{A}$}
                \begin{proof}
                    \pf\ Since $B_m \in \mathcal{A}$ so every finite subset of $B_m$ is a member of
                    $\mathcal{A}$.
                \end{proof}
            \end{proof}
            \step{c}{$\bigcup \mathcal{B} \in \mathcal{A}$}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ By Zorn's Lemma.
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 22}
    \begin{proof}
        \pf
        \step{1}{If the Axiom of Choice is true then the statement is true.}
        \begin{proof}
            \step{a}{\assume{The Axiom of Choice}}
            \step{b}{\pflet{$A$ be a set.}}
            \step{c}{\pflet{$R = \{ \langle x, y \rangle : y \in A, x \in t \}$}}
            \step{d}{\pick\ a function $F \subseteq R$ such that $\dom F = \dom R$}
            \step{e}{$\dom R = \bigcup A$}
            \step{f}{$\forall x \in \bigcup A. x \in F(x) \in A$}
        \end{proof}
        \step{2}{If the statement is true then the Axiom of Choice is true.}
        \begin{proof}
            \step{a}{\assume{the statement}}
            \step{b}{\pflet{$R$ be a relation}}
            \step{c}{\pflet{$A = \{ \{ \langle 0,x \rangle, \langle 1, y \rangle \} : xRy \}$}}
            \step{d}{\pick\ a function $F$ with domain $\bigcup A$ such that $\dom F = \bigcup A$
            and $\forall x \in \bigcup A. x \in F(x) \in A$}
            \step{3}{\pflet{$H = \{ \langle x, y \rangle \mid x \in \dom R, F(x) = \{ \langle 0, x \rangle,
            \langle 1,y \rangle \} \}$}}
            \step{4}{$H$ is a function, $H \subseteq R$, $\dom H = \dom R$}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 23}
    \begin{proof}
        \step{1}{$g[\![0]\!]=h(0)$}
        \begin{proof}
            \pf\ Both are equal to $\emptyset$.
        \end{proof}
        \step{2}{$\forall n \in \omega.g[\![n]\!] = h(n) \Rightarrow g[\![n^+]\!] = h(n^+)$}
        \begin{proof}
            \step{a}{\pflet{$n \in \omega$}}
            \step{b}{\assume{$g[\![n]\!] = h(n)$}}
            \step{c}{$g[\![n^+]\!] = h(n^+)$}
            \begin{proof}
                \pf
                \begin{align*}
                    h(^+) & = h(n) \cup \{ F(A-h(n)) \} \\
                    & = g[\![n]\!] \cup \{ g(n) \} \\
                    & = g[\![n^+]\!]
                \end{align*}
            \end{proof}
        \end{proof}
    \end{proof}

    \paragraph{Exercise 24}
    Let $\{ \kappa_i \}_{i \in I}$ be a family of cardinal numbers. For $i \in I$, let $K_i$
    be a set such that $\card K_i = \kappa_i$.

    We define $\sum_{i \in I} \kappa_i$ to be $\card \{ \langle i, x \rangle : i \in I, x \in K_i \}$

    We define $\prod_{i \in I} \kappa_i$ to be $\card \{ f : f \text{ is a function},
    \dom f = I, \forall i \in I. f(i) \in K_i \}$.

    \paragraph{Exercise 25}
    \begin{proof}
        \pf
        \step{1}{\assume{for a contradiction $\forall n \in \omega. B \nsubseteq S(n)$}}
        \step{2}{\pick\ a function $b : \omega \rightarrow B$ such that $\forall n \in \omega. b(n) \notin S(n)$}
        \begin{proof}
            \pf\ By the Axiom of Choice.
        \end{proof}
        \step{3}{\pflet{$B' = \{ b(n) : n \in \omega \}$}}
        \step{3}{$B'$ is infinite.}
        \begin{proof}
            \step{a}{\assume{for a contradiction $B'$ is finite.}}
            \step{b}{There exists $N$ such that $\forall n > N. \exists k \leq N. b(n) = b(k)$}
            \step{c}{\pick\ $M > N$ such that $\forall k \leq N. b(k) \in S(M)$}
            \begin{proof}
                \pf\ For $k \leq N$ there exists $n_k$ such that $b(k) \in S(n_k)$. Take $M$ to be the largest of these
                numbers and $N + 1$.
            \end{proof}
            \step{d}{$b(M) \in S(M)$}
            \begin{proof}
                \pf\ Since $b(M) = b(k)$ for some $k \leq N$.
            \end{proof}
            \qedstep
            \begin{proof}
                \pf\ This contradicts \stepref{2}.
            \end{proof}
        \end{proof}
        \step{4}{\pick\ $n$ such that $B' \cap S(n)$ is infinite.}
        \step{5}{\pick\ $m > n$ such that $b(m) \in B' \cap S(n)$}
        \begin{proof}
            \pf\ There must be some $m$ otherwise $B' \cap S(n) \subseteq \{ b(0), b(1), \ldots, b(n) \}$
            would be finite.
        \end{proof}
        \step{6}{$b(m) \in S(m)$}
        \begin{proof}
            \pf\ Since $S(n) \subseteq S(m)$.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ This contradicts \stepref{2}.
        \end{proof}
        \qed
    \end{proof}

    \section{Countable Sets}

    \paragraph{Exercise 26}
    \begin{proof}
        \pf
        \step{1}{\pick\ a set $K$ of cardinality $\kappa$}
        \step{2}{For all $X \in \mathcal{A}$, there exists an injective function $X \rightarrow K$}
        \step{3}{\pick\ a function $F$ with domain $\mathcal{A}$ such that, for all $X \in A$,
        $F(X)$ is an injective function $X \rightarrow K$}
        \begin{proof}
            \pf\ By the Axiom of Choice.
        \end{proof}
        \step{4}{\pick\ a function $G$ with domain $\bigcup \mathcal{A}$ such that, for all $x \in \bigcup
        \mathcal{A}$, we have $x \in G(x) \in \mathcal{A}$}
        \begin{proof}
            \pf\ By Exercise 22.
        \end{proof}
        \step{4}{Define $f : \bigcup \mathcal{A} \rightarrow \mathcal{A} \times K$ by $f(x) = \langle
            G(x), F(G(x))(x) \rangle$}
        \step{5}{$f$ is injective.}
        \begin{proof}
            \step{a}{\pflet{$x, y \in \bigcup \mathcal{A}$}}
            \step{b}{\assume{$f(x) = f(y)$}}
            \step{c}{$G(x) = G(y)$ and $F(G(x))(x) = F(G(y))(y)$}
            \step{d}{$F(G(x))(x) = F(G(x))(y)$}
            \step{e}{$x = y$}
            \begin{proof}
                \pf\ Since $F(G(x))$ is injective.
            \end{proof}
        \end{proof}
        \qed
    \end{proof}

    \paragraph{Exercise 27}
    \subparagraph{(a)}
    Pick a function $f : A \rightarrow \mathbb{Q}^2$ such that $f(c) \in c$ for all $c \in A$.
    Then $f$ is an injection, so $A \preccurlyeq \mathbb{Q}^2$ which is countable.
    \subparagraph{(b)}
    No: the set of all circles with center $(0,0)$ is an uncountable set of circles no two of which intersect.
    \subparagraph{(c)}
    Yes. Pick a function $f : C \rightarrow \mathbb{Q}^4$ such that $f(x)$ is a pair of points with rational
    coordinates, one in each circle of $x$, for all $x \in C$. Then $f$ is an injection; it is not possible
    for two points to be in separate circles of two non-intersecting figure-eights. Hence $C \preccurlyeq
    \mathbb{Q}^4$.

    \paragraph{Exercise 28}
    Let $\mathcal{A} = \{ (a, \sqrt{2}) : a < \sqrt{2} \} \cup \{ (\sqrt{2}, b) : b > \sqrt{2} \}$.
    Then every rational is in some member of $\mathcal{A}$ but $\bigcup \mathcal{A} = \mathbb{R} - \{ \sqrt{2} \}$.

    (Enderton's hint suggests he had a different solution in mind, but I am not sure what it is.)

    \paragraph{Exercise 29}
    For each integer $n \geq 2$, let $B_n = \{ x \in A : x > b / n \}$. Then each $B_n$ is finite ($B_n$ cannot
    have more than $n - 1$ elements because $n$ elements in $B_n$ would have a sum $> b$) and $A =
    \bigcup_n B_n$. So $A$ is a countable union of finite sets, and therefore countable.

    \paragraph{Exercise 30}
    \begin{proof}
        \pf
        \step{1}{\pick\ $a \in A$}
        \step{2}{Define $f : Sq(A) \rightarrow \omega \times ^\omega A$ by $f(s) = \langle n, g \rangle$,
        where $n$ is the length pf $s$, and $g(i) = s(i)$ for $i < n$, $g(i) = a$ for $i \geq n$}
        \step{3}{$f$ is injective.}
        \step{4}{$Sq(A) \preccurlyeq \omega \times ^\omega A$}
        \step{5}{$\card Sq(A) \leq (\card A)^{\aleph_0}$}
        \begin{proof}
            \pf
            \begin{align*}
                \card Sq(A) & \leq \aleph_0 \cdot (\card A)^{\aleph_0} & (\text{\stepref{4}})\\
                & \leq (\card A)^{\aleph_0} \cdot (\card A)^{\aleph_0} & (\text{Cantor's Theorem})\\
                & = (\card A)^{\aleph_0 + \aleph_0} & (\text{Theorem 6I})\\
                & = (\card A)^{\aleph_0} & 
            \end{align*}
        \end{proof}
    \end{proof}

    \section{Arithmetic of Infinite Cardinals}

    \paragraph{Exercise 31}
    If $f$ is a one-to-one correspondence between $A \times A$ and $A$, where $A \subseteq B$,
    then
    \[ f \subseteq (A \times A) \times A \subseteq (B \times B) \times B \enspace . \]
    Also $\emptyset \subseteq (B \times B) \times B$. So we can form $\mathcal{H}$ by applying a Subset
    Axiom to $\mathcal{P} ((B \times B) \times B)$.

    \paragraph{Exercise 32}
    The function that maps $x$ to $\{x\}$ is an injection $A \rightarrow \mathcal{F} A$, so we have
    $A \approx \mathcal{F} A$.

    For the converse, let $F_n = \{ X \in \mathcal{F} A : \card X \leq n \}$ for $n \in \omega$. The function
    that sends $\langle a_1, \ldots, a_n \rangle$ to $\{ a_1, \ldots, a_n \}$ is a surjection $A^n \rightarrow
    F_n$, so we have
    \[ \card F_n \leq (\card A)^n = \card A \]
    by Lemma 6R. Now, $\mathcal{F} A = \bigcup_n F_n$, so
    \[ \card \mathcal{F} A \leq \aleph_0 \cdot \card A = \card A \]
    by the Absorption Law.

    \paragraph{Exercise 33}
    The function that maps $a$ to the sequence of length 1 containing $a$ is an injection $A \rightarrow Sq(A)$,
    so $A \preccurlyeq Sq(A)$.

    For the converse, we have $\card (^n A) = (\card A)^n = \card A$ for any natural number $n$
    \begin{align*}
        \card Sq(A) & = \card (^0 A \cup ^1 A \cup ^2 A \cup \cdots) \\
        & = \aleph_0 \cdot \card A \\
        & = \card A
    \end{align*}
    by the Absorption Law.

    \paragraph{Exercise 34}
    \begin{align*}
        2^\lambda & \leq \kappa^\lambda \\
        & \leq (2^\kappa)^\lambda \\
        & = 2^{\kappa \cdot \lambda} \\
        & = 2^\lambda & (\text{Absorption Law})
    \end{align*}

    \paragraph{Exercise 35}
    For any infinite set of primes $A$ and natural number $n$, let $f(A,n) = \prod \{ p \in A : p \leq n \}$.
    Let $P(A) = \{ f(A,n) : n \in \omega \}$. Let $\mathcal{A}$ be the set of all sets of the form $P(A)$.

    The number of infinite sets of primes is $2^{\aleph_0}$ (there are $2^{\aleph_0}$ sets of primes and
    $\aleph_0$ finite sets of primes by Exercise 32.)

    If $P(A) = P(B)$ then $A = B$. (If $p \in A - B$ then $p \mid f(A,p)$ but $p$ does not divide any
    member of $P(B)$.) So $P$ is an
    injection from the set of infinite sets of primes into $\mathcal{A}$. Hence $\card \mathcal{A} =
    2^{\aleph_0}$.

    We now prove that, if $A \neq B$, then $P(A) \cap P(B)$ is finite. Let $p \in A - B$. For $n \geq p$
     we have $f(A,n) \notin P(B)$ since $p \mid f(A,n)$ but $p$ does not divide any member of $B$. Hence
     $A \cap B \subseteq \{ f(A,0), f(A,1), \ldots, f(A,p-1) \}$.

     \paragraph{Exercise 36}
     \begin{proof}
        \pf
        \step{1}{For any set $A$, there exists a permutation of $A$ with no fixed points.}
        \begin{proof}
            \step{a}{For every natural number $n$, there exists a permuatation of $n$ with no fixed points.}
            \begin{proof}
                \pf\ Map $i$ to $i+1$ if $i+1 < n$, and map $n-1$ to 0.
            \end{proof}
            \step{b}{For every infinite set $A$, there exists a permutation of $A$ with no fixed points.}
            \begin{proof}
                \step{i}{\pick\ a bijection $f : A \approx A \times 2$}
                \step{ii}{Define $\pi : A \times 2 \rightarrow A \times 2$ by $\pi(x,0) = (x,1)$ and
                $\pi(x,1) = (x,0)$}
                \step{iii}{$\inv{f} \circ \pi \circ f$ is a permutation of $A$ with no fixed point.}
            \end{proof}
        \end{proof}
        \step{2}{$\kappa! \leq 2^\kappa$}
        \begin{proof}
            \pf\ Because the set of permutations of $K$ is a subset of $^K K$, where $K$ is a set of
            cardinality $\kappa$.
        \end{proof}
        \step{3}{$2^\kappa \leq \kappa!$}
        \begin{proof}
            \step{a}{\pick\ a set $K$ of cardinality $\kappa$}
            \step{b}{\pflet{$Perm(K)$ be the set of permutations of $K$.}}
            \step{c}{Define $f : \mathcal{P} K \rightarrow Perm(K)$ as follows. Given $A \subseteq \mathcal{P}
            K$, pick a permutation $\pi_{K-A}$ of $K-A$ with no fixed point. Then $f(A) = I_A \cup \pi_{K - A}$}
            \step{d}{$f$ is injective}
            \begin{proof}
                \pf\ The function that maps a permutation to its set of fixed points is a left inverse.
            \end{proof}
            \step{e}{$2^\kappa \leq \kappa!$}
        \end{proof}
        \qed
     \end{proof}

     \chapter{Chapter 7 --- Orderings and Ordinals}

     \section{Partial Orderings}

     \paragraph{Exercise 1}

     \subparagraph{(a)}
     No we cannot. Let $A = \mathcal{P} 3$ and $B = \omega$. Let $<_A = \subset_3$ and $<_B$ be the usual
     ordering on $\omega$. Define $f : A \rightarrow B$ by: $f(X) = \card X$. Then $X \subset_2 Y \Rightarrow
     \card X < \card Y$ but $f$ is not one-to-one because $f(\{0\}) = f(\{1\}) = 1$.

     \subparagraph{(b)}
     No we cannot. With the same example, we have $f(\{0\}) < f(\{1,2\})$ but $\{0\} \not\subset \{1,2\}$.

     \paragraph{Exercise 2}
     We show $\inv{R}$ is transitive. Suppose $x \inv{R} y$ and $y \inv{R} z$. Then $zRy$ and $yRx$, so $zRx$
     because $R$ is transitive. Hence $x \inv{R} z$.

     We now show $\inv{R}$ is irreflexive. For any $x$, we have $\langle x,x \rangle \notin R$, so
     $\langle x,x \rangle \notin \inv{R}$.

     \paragraph{Exercise 3}
     The proof is by induction on $n$.

     The only linear ordering on $\emptyset$ is $\emptyset$, which has 0 pairs.

     Suppose that, whenever $\card S = n$, then every linear ordering on $S$ has $1/2 n (n-1)$ pairs.
     Let $S$ be a set of cardinality $n+1$. Let $<$ be a linear ordering on $S$.

     Pick an element $a \in S$ and let $T = S - \{a\}$. Then $< \cap (T \times T)$ is a linear ordering on $T$,
     hence has $1/2 n (n-1)$ pairs. Now, for every $x \in T$, exactly one of $\langle x, a \rangle$
     and $\langle a,x \rangle$ is in $<$. Hence $<$ has $n$ pairs that are not in $< \cap (T \times T)$.
     So
     \[ \card < = 1/2 n (n-1) + n = 1/2 n (n+1) \enspace . \]

     \section{Well Orderings}

     \paragraph{Exercise 4}
     \begin{proof}
        \pf
        \step{1}{$R$ is transitive.}
        \begin{proof}
            \step{a}{\assume{$mRn$ and $nRp$.}}
            \step{b}{\case{$f(m) < f(n)$}}
            \begin{proof}
                \pf\ In this case $f(m) < f(p)$ so $mRp$.
            \end{proof}
            \step{c}{\case{$f(m) = f(n)$ and $m < n$.}}
            \begin{proof}
                \step{i}{\case{$f(n) < f(p)$}}
                \begin{proof}
                    \pf\ In this case $f(m) < f(p)$ so $mRp$.
                \end{proof}
                \step{ii}{\case{$f(n) = f(p)$ and $n < p$.}}
                \begin{proof}
                    \pf\ In this case $f(m) = f(p)$ and $m < p$ so $mRp$.
                \end{proof}
            \end{proof}
        \end{proof}
        \step{2}{$R$ satisfies trichotomy on $P$.}
        \begin{proof}
            \step{a}{\pflet{$m, n \in P$}}
            \step{b}{Exactly one of $f(m) < f(n)$, $f(n) < f(m)$, $f(n) = f(m)$ holds.}
            \step{c}{Exactly one of $m < n$, $n < m$, $n = m$ holds.}
            \step{d}{Exactly one of $f(m) < f(n)$, $(f(m) = f(n) \ \&\ m < n)$,
            $(f(m) = f(n)\ \&\ m = n)$, $(f(m) = f(n)\ \&\ n < m)$, $f(n) < f(m)$ holds.}
            \step{e}{Exactly one of $mRn$, $m=n$, $nRm$ holds.}
        \end{proof}
        \step{3}{Every nonempty subset of $P$ has an $R$-least element.}
        \begin{proof}
            \step{a}{\pflet{$A \subseteq P$ be nonempty.}}
            \step{b}{\pflet{$k$ be the least element of $f(A)$.}}
            \step{c}{\pflet{$n$ be the least element of $\inv{f}(k) \cap A$.}}
            \step{d}{$n$ is the $R$-least element of $A$.}
        \end{proof}
        \qed
     \end{proof}

     $\langle P,R \rangle$ resembles Fig. 45 (d).

     \paragraph{Exercise 5}
     \begin{proof}
        \pf
        \step{0}{\pflet{$x \in A$}}
        \step{1}{\assume{for a contradiction $f(x) < x$}}
        \step{2}{Define $g : \omega \rightarrow A$ by $g(0) = x$ and $g(n^+) = f(g(n))$ for all $n \in \omega$}
        \step{3}{$\forall n \in \omega. g(n^+) < g(n)$}
        \begin{proof}
            \pf\ By induction on $n$ using \stepref{1} and the hypothesis.
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ This contradicts Theorem 7B.
        \end{proof}
        \qed
     \end{proof}

     \paragraph{Exercise 6}
     \begin{proof}
        \pf
        \step{1}{For all $x \in S$ that is not greatest, there exists $y \in S$ and $q \in \mathbb{Q}$
        such that $x < q < y$ and there is no $z \in S$ such that $x < z < y$}
        \step{2}{\pick\ a function $f : S \rightarrow \mathbb{Q}$ such that $\forall x \in S. x < f(x)$
        and, if $x$ is not greatest, then $f(x) < y$ where $y$ is the next element in $S$.}
        \step{3}{$f$ is injective.}
        \step{4}{$S \preccurlyeq \mathbb{Q}$}
        \qed
     \end{proof}

     \paragraph{Exercise 7}
     \subparagraph{(a)}
     We have $F(t) = C \cup \bigcup \bigcup \ran (F \restriction t)$ for all $t \in \omega$. So:
     \begin{align*}
        F(0) & = C \cup \bigcup \bigcup \ran \emptyset \\
        & = C \\
        F(1) & = C \cup \bigcup \bigcup \ran (F \restriction 0) \\
        & = C \cup \bigcup \bigcup \{ C \} \\
        & = C \cup \bigcup C \\
        F(2) & = C \cup \bigcup \bigcup \{ C, C \cup \bigcup C \} \\
        & = C \cup \bigcup (C \cup \bigcup C) \\
        & = C \cup \bigcup C \cup \bigcup \bigcup C
     \end{align*}
     We guess:
     \[ F(n) = C \cup \bigcup C \cup \cdots \cup \overbrace{n}{\bigcup \bigcup \cdots \bigcup} C \]
     
     \subparagraph{(b)}
     \begin{proof}
        \pf
        \step{1}{\pflet{$a \in F(n)$}}
        \step{2}{$a \in \bigcup \ran (F \restriction n^+)$}
        \step{3}{$a \subseteq \bigcup \bigcup \ran (F \restriction n^+)$}
        \step{4}{$a \subseteq F(n^+)$}
        \qed
     \end{proof}

     \subparagraph{(c)}
     \begin{proof}
        \pf
        \step{1}{$\overline{C}$ is a transitive set.}
        \begin{proof}
            \step{a}{\pflet{$x \in y \in \overline{C}$}}
            \step{b}{\pick\ $n \in \omega$ such that $y \in F(n)$}
            \step{c}{$x \in F(n^+)$}
            \begin{proof}
                \pf\ By (b).
            \end{proof}
            \step{d}{$x \in \overline{C}$}
        \end{proof}
        \step{2}{$C \subseteq \overline{C}$}
        \begin{proof}
            \step{a}{Since $C = F(0)$}
        \end{proof}
        \qed
     \end{proof}

     \section{Replacement Axioms}
     \paragraph{Exercise 8}

     Let $P(x)$ be a formula not containing $B$. We prove the statement
     \[ \forall c \exists B \forall x (x \in B \Leftrightarrow x \in c \ \&\ P(x)) \enspace . \]

     Let $Q(x,y)$ be the formula $P(x) \wedge y = x$. Now we reason as follows.
     
     Let $c$ be any set. Then we have
     \[ (\forall x \in c) \forall y_1 \forall y_2 (Q(x,y_1) \ \&\ Q(x,y_2) \Rightarrow y_1 = y_2) \]
     Then, by a Replacement Axiom, there exists a set $B$ such that
     \[ \forall y (y \in B \Leftrightarrow (\exists x \in c) Q(x,y)) \enspace . \]
     This is equivalent to $\forall x (x \in B \Leftrightarrow x \in c \ \&\ P(x))$.

     \paragraph{Exercise 9}

     Let $a$ and $b$ be sets. Let $P(x,y)$ be the formula $(x = \emptyset \ \&\ y = a) \text{ or }
     (x = \mathcal{P} \emptyset \ \&\ y = b)$. Then we have $(\forall x \in \mathcal{P} \mathcal{P}
     \emptyset) \forall y_1 \forall y_2 (P(x,y_1) \ \&\ P(x,y_2) \Rightarrow y_1 = y_2)$,
     hence there exists a set $c$ such that
     \[ \forall y (y \in c \Leftrightarrow (\exists x \in \mathcal{P} \mathcal{P} \emptyset) P(x,y)) \]
     The members of $c$ are just $a$ and $b$.

     \section{Epsilon-Images}

     \paragraph{Exercise 10}
     \subparagraph{(a)}
     Let $n$ be a natural number. Let $\alpha$ be its epsilon-image, and $E : n \rightarrow \alpha$ be as in
     the definition of epsilon-image.

     We prove $\forall x \in n. E(x) = x$ by strong induction on $x$. Let $x \in n$ and assume
     $\forall y \in x. E(y) = y$. Then
     \begin{align*}
        E(x) & = \{ E(y) : y \in x \} \\
        & = \{ y : y \in x \} \\
        & = x
     \end{align*}

     Hence
     \begin{align*}
        \alpha & = \{ E(x) : x \in n \} \\
        & = \{ x : x \in n \} \\
        & = n
     \end{align*}

     \subparagraph{(b)}
     Similarly the $\epsilon$-image of $\omega$ is $\omega$.

     \paragraph{Exercise 11}
     \subparagraph{(a)}
     Let $R$ be the ordering given in the question. Thus $xRy$ iff ($x$ and $y$ are nonnegative and
     $x < y$) or ($x$ and $y$ are both negative and $y < x$) or ($x$ is nonnegative and $y$ is negative).
     \begin{proof}
        \pf
        \step{1}{$R$ is transitive}
        \begin{proof}
            \step{a}{\assume{$xRy$ and $yRz$}}
            \step{b}{\case{$x$ and $y$ are nonnegative and $x < y$}}
            \begin{proof}
                \step{i}{\case{$z$ is nonnegative and $y < z$}}
                \begin{proof}
                    \pf\ In this case $x$ and $z$ are nonnegative and $x < z$.
                \end{proof}
                \step{ii}{\case{$z$ is negative}}
                \begin{proof}
                    \pf\ In this case $x$ is nonnegative and $z$ is negative.
                \end{proof}
            \end{proof}
            \step{c}{\case{$x$ and $y$ are both negative and $y < x$}}
            \begin{proof}
                \pf\ We must have $z$ is negative and $z < y$, hence $z < x$.
            \end{proof}
            \step{d}{\case{$x$ is nonnegative and $y$ is negative}}
            \begin{proof}
                \pf\ We must have $z$ is negative.
            \end{proof}
        \end{proof}
        \step{2}{$R$ satisfies trichotomy on $\mathbb{Z}$}
        \begin{proof}
            \step{a}{\pflet{$x, y \in \mathbb{Z}$}}
            \step{b}{\case{$x$ and $y$ are nonnegative.}}
            \begin{proof}
                \pf\ Exactly one of $x < y$, $x = y$, $y < x$ holds.
            \end{proof}
            \step{c}{\case{$x$ is nonnegative and $y$ is negative.}}
            \begin{proof}
                \pf\ In this case $x < y$.
            \end{proof}
            \step{d}{\case{$x$ is negative and $y$ is nonnegative.}}
            \begin{proof}
                \pf\ In this case $y < x$.
            \end{proof}
            \step{e}{\case{$x$ and $y$ are negative.}}
            \begin{proof}
                \pf\ Exactly one of $x < y$, $x = y$, $y < x$ holds.
            \end{proof}
        \end{proof}
        \step{3}{$R$ is well-founded}
        \begin{proof}
            \step{a}{\pflet{$A \subseteq \mathbb{Z}$ be nonempty.}}
            \step{b}{\case{There exists a nonnegative integer in $A$.}}
            \begin{proof}
                \pf\ Let $n$ be the least nonnegative element of $A$. Then $n$ is the $R$-least element of $A$.
            \end{proof}
            \step{c}{\case{All elements of $A$ are negative.}}
            \begin{proof}
                \pf\ Let $n$ be least such that $-n \in A$. Then $-n$ is the $R$-least element of $A$.
            \end{proof}
        \end{proof}
        \qed
     \end{proof}

     \subparagraph{(b)}
     \begin{align*}
        E(3) & = \{ \emptyset, \{ \emptyset \}, \{ \emptyset, \{ \emptyset \} \} \} \\
        & = 3 \\
        E(-1) & = \omega \\
        E(-2) & = \omega^+ \\
        \ran E & = \omega \cup \{ \omega, \omega^+, \omega^{++}, \ldots \}
     \end{align*}

     \section{Isomorphisms}

     \paragraph{Exercise 12}
     \subparagraph{(a)}
     \begin{proof}
        \pf
        \step{1}{$<_A$ is irreflexive.}
        \begin{proof}
            \pf\ For any $x \in A$ we have $f(x) \nless_B f(x)$ so $x \nless_A x$.
        \end{proof}
        \step{2}{$<_A$ is transitive.}
        \begin{proof}
            \pf\ If $x <_A y$ and $y <_A z$ then $f(x) <_B f(y) <_B f(z)$ hence $f(x) <_B f(z)$ and so
            $x <_A z$.
        \end{proof}
    \end{proof}

    \subparagraph{(b)}
    For any $x, y \in A$ we have that exactly one of $f(x) <_B f(y)$, $f(x) = f(y)$, $f(y) <_B f(x)$ holds.
    Hence exactly one of $x <_A y$, $x = y$, $y <_A x$ holds. (Using the fact that $x = y$ iff $f(x) = f(y)$
    since $f$ is one-to-one.)

    \paragraph{Exercise 13}
    \begin{proof}
        \pf
        \step{1}{\pflet{$\langle A, <_A \rangle$ and $\langle B, <_B \rangle$ be two well-ordered
        structures.}}
        \step{2}{\pflet{$f, g : A \rightarrow B$ be isomorphisms.} \prove{$\forall x \in A. f(x) = g(x)$}}
        \step{3}{\pflet{$x \in A$}}
        \step{4}{\assume{$\forall y < x. f(y) = g(y)$}}
        \step{5}{$f(x)$ is the least element in $B - f[\![\seg x]\!]$}
        \begin{proof}
            \step{a}{$f(x) \notin f[\![\seg x]\!]$}
            \begin{proof}
                \pf\ Since $f$ is one-to-one.
            \end{proof}
            \step{b}{$\forall b \in B - f[\![\seg x]\!]. f(x) \leq b$}
            \begin{proof}
                \step{i}{\pflet{$b \in B - f[\![\seg x]\!]$}}
                \step{ii}{\pflet{$a \in A$ be such that $f(a) = b$}}
                \begin{proof}
                    \pf\ $f$ is surjective.
                \end{proof}
                \step{iii}{$a \notin \seg x$}
                \step{iv}{$x \leq a$}
                \begin{proof}
                    \pf\ By trichotomy
                \end{proof}
                \step{v}{$f(x) \leq b$}
            \end{proof}
        \end{proof}
        \step{6}{$g(x)$ is the least element in $B - g[\![\seg x]\!]$}
        \begin{proof}
            \pf\ Similar.
        \end{proof}
        \step{7}{$f[\![\seg x]\!] = g[\![\seg x]\!]$}
        \begin{proof}
            \pf\ By \stepref{4}
        \end{proof}
        \step{8}{$f(x) = g(x)$}
        \qed
    \end{proof}

    \paragraph{Exercise 14}
    \begin{proof}
        \pf
        \step{1}{$\forall a,b \in A. a < b \Rightarrow F(a) \subset F(b)$}
        \begin{proof}
            \step{a}{\pflet{$a, b \in A$}}
            \step{b}{\assume{$a < b$}}
            \step{c}{$F(a) \subseteq F(b)$}
            \begin{proof}
                \pf\ If $x \leq a$ then $x \leq b$
            \end{proof}
            \step{d}{$F(a) \neq F(b)$}
            \begin{proof}
                \pf\ Since $b \in F(b)$ but $b \notin F(a)$
            \end{proof}
        \end{proof}
        \step{2}{$\forall a,b \in A. F(a) \subset F(b) \Rightarrow a < b$}
        \begin{proof}
            \pf\ We cannot have $b < a$ or $b = a$ (as then $F(b) \subset F(a)$ or $F(b) = F(a)$
            by \stepref{1}),
            so $a < b$ by trichotomy.
        \end{proof}
        \step{3}{$F$ is one-to-one}
        \begin{proof}
            \pf\ If $F(a) = F(b)$ then we cannot have $a < b$ or $b < a$ by \stepref{1},
            so $a = b$ by trichotomy.
        \end{proof}
        \step{4}{$F$ maps $A$ onto $\ran F$}
        \begin{proof}
            \pf\ By definition of $\ran F$.
        \end{proof}
        \qed
    \end{proof}

    \section{Ordinal Numbers}

    \paragraph{Exercise 15}
    \subparagraph{(a)}
    \begin{proof}
        \pf
        \step{1}{\assume{$f : A \rightarrow \seg t$ is an isomorphism}}
        \step{2}{Define $g : \omega \rightarrow A$ by recursion:
        \begin{align*}
            g(0) & = t \\
            g(n^+) & = f(g(n)) & (n \in \omega)
        \end{align*}}
        \step{3}{$\forall n \in \omega. g(n^+) < g(n)$}
        \begin{proof}
            \step{a}{$g(0^+) < g(0)$}
            \begin{proof}
                \pf\ Since $g(0^+) = f(t) \in \seg t$ so $g(0^+) < t = g(0)$.
            \end{proof}
            \step{b}{$\forall n \in \omega. (g(n^+) < g(n) \Rightarrow g(n^{++}) < g(n^+))$}
            \begin{proof}
                \step{i}{\pflet{$n \in \omega$}}
                \step{ii}{\assume{$g(n^+) < g(n)$}}
                \step{iii}{$f(g(n^+)) < f(g(n))$}
                \begin{proof}
                    \pf\ Since $f$ is an isomorphism.
                \end{proof}
                \step{iv}{$g(n^{++}) < g(n^+)$}
            \end{proof}
        \end{proof}
        \qedstep
        \begin{proof}
            \pf\ This contradicts Theorem 7B.
        \end{proof}
        \qed
    \end{proof}

    \subparagraph{(b)}
    If two of them hold then we have a well-ordered set isomorphic with an initial segment, contradicting
    part (a):

    If $A \cong B$ and $A \cong \seg b$ then $B \cong \seg b$.

    If $A \cong B$ and $\seg a \cong B$ then $A \cong \seg a$.

    Now assume $A \cong \seg b$ and $\seg a \cong B$. Let $f : A \cong \seg b$ and $g : \seg a \cong B$
    be isomorphisms. Let $b_0 = f(a)$. Then $f \restriction \seg a : \seg a \cong \seg b_0$ and so
    $B \cong \seg b_0$.

    \paragraph{Exercise 16}
    Suppose $\alpha \in \beta$. We first prove that $\beta \notin \alpha^+$.

    If $\beta \in \alpha^+$ then $\beta \in \alpha$ or $\beta = \alpha$. In either case we have $\alpha \in
    \alpha$, which is impossible.

    So $\beta \notin \alpha^+$. Therefore $\alpha^+ \underline{\in} \beta$, and so $\alpha^+ \in \beta^+$.

    Now, suppose $\alpha \neq \beta$. Then $\alpha \in \beta$ or $\beta \in \alpha$. Hence $\alpha^+ \in
    \beta^+$ or $\beta^+ \in \alpha^+$, and in either case $\alpha^+ \neq \beta^+$.

    \paragraph{Exercise 17}
    Suppose for a contradiction $\alpha \in \beta$. Then $A$ is isomorphic to $\seg_B b$ for some $b \in B$.
    Let $f : A \rightarrow \seg b$ be an isomorphism.

    We have $f \restriction B : B \rightarrow \seg_B b$. Now, define $g : \omega \rightarrow B$ by
    \begin{align*}
        g(0) & = b \\
        g(n^+) & = f(g(n))
    \end{align*}
    Then $g(n^+) < g(n)$ for all $n \in \omega$, contradicting Theorem 7B.

    \paragraph{Exercise 18}
    Suppose first $\bigcup S \in S$. For all $\alpha \in S$ we have $\alpha \subseteq \bigcup S$ and so
    $\alpha \in \bigcup S$, and so $\bigcup S$ is the greatest element of $S$.

    Suppose now $\bigcup S \notin S$. Suppose for a contradiction $\alpha \in S$ is the greatest element of $S$.
    We have $\alpha \subseteq \bigcup S$ (because $\alpha \in S$).
    Also for all $\beta \in S$ we have $\beta \subseteq \alpha$, hence $\bigcup S \subseteq \alpha$.
    Thus $\bigcup S = \alpha \in S$, which is a contradiction.

    So if $\bigcup S \notin S$ then $S$ has no greatest element. Therefore $S$ cannot be the successor of
    any ordinal, because $\alpha$ is the greatest element of $\alpha^+$ for any $\alpha$.

    \paragraph{Exercise 19}
    By Theorem 7B, every linear ordering on a finite set is a well ordering.

    If $<$ and $\prec$ are two linear orderings on the same set $A$, we cannot have that
    $(A, <)$ is isomorphic to $(\seg a, \prec)$ for any $a \in A$, because then we would have a finite set
    bijective with a proper subset of itself.

    So by Theorem 7E we must have $\langle A, < \rangle \cong \langle A, \prec \rangle$.

    \paragraph{Exercise 20}
    Let $R$ be a well ordering on the set $S$.  Assume $S$ is infinite; we will prove $\inv{R}$ is not
    a well-ordering on $S$.

    Define $g : \omega \rightarrow S$ by: $g(n)$ is the least element of $S - g[\![n]\!]$. For each $n$,
    we know $S - g[\![n]\!]$ is nonempty because $S$ is infinite.

    Then $g[\![\omega]\!]$ is a nonempty subset of $S$ that has no $\inv{R}$-least element (no $R$-greatest
    element), so $\inv{R}$ is not a well ordering on $S$.

    \paragraph{Exercise 21}
    Let $\mathcal{A} = \{ C \in \mathcal{P} A : <^\circ \text{ is a linear ordering on } C \}$.

    We prove that, for every chain $\mathcal{B} \subseteq \mathcal{A}$, we have $\bigcup \mathcal{B} \in
    \mathcal{A}$.

    Let $\mathcal{B} \subseteq \mathcal{A}$ be a chain. Let $x, y \in \bigcup \mathcal{B}$. Pick $C, D \in
    \mathcal{B}$ such that $x \in C$ and $y \in D$. Then either $C \subseteq D$ or $D \subseteq C$;
    assume without loss of generality $C \subseteq D$. We have $x,y \in D$, and so exactly one of $x < y$, $x = y$, $y < x$ holds.
    Thus, $<^\circ$ linearly orders $\bigcup \mathcal{B}$, i.e. $\bigcup \mathcal{B} \in \mathcal{A}$.

    Hence by Zorn's Lemma $\mathcal{A}$ has a maximal element $C$, say. Now, by hypothesis, $C$ has an upper bound
    $m$. We prove $m$ is maximal in $A$.

    Let $x \in A$ and suppose $m \leq x$. Then $C \cup \{ m, x \}$ is linearly ordered by $<^\circ$,
    and so $C = C \cup \{ m,x \}$ by maximality of $C$. Hence $x \in C$ and so $x \leq m$, hence $x = m$. Thus,
    $m$ is maximal in $A$.

    \section{Debts Paid}

    \paragraph{Exercise 22}
    Let $A$ be any set. Let $\mathcal{A}$ be the set of all pairs $\langle B, R \rangle$ where $B \subseteq A$
    and $R$ is a well ordering on $B$, and define $<$ on $\mathcal{A}$ by:
    $\langle B, R \rangle < \langle C, S \rangle$ iff $B$ is an initial segment of $C$ and $R = S \cap B^2$.

    It is easy to see that $<$ is a partial ordering on $\mathcal{A}$

    We prove that, if $\mathcal{C} \subseteq \mathcal{A}$ and $<$ is a linear ordering on $\mathcal{C}$,
    then $\mathcal{C}$ has an upper bound in $\mathcal{A}$. Let $B = \bigcup \{ C : \exists S. \langle C, S \rangle \in \mathcal{C} \}$
    and $R = \bigcup \{ S : \exists C. \langle C, S \rangle \in \mathcal{C} \}$. We prove that $R$ well orders $B$.
    It is then easy to see that $\langle B, R \rangle$ is an upper bound for $\mathcal{C}$ is $\mathcal{A}$.

    \begin{proof}
        \pf
        \step{1}{$R$ is transitive.}
        \begin{proof}
            \step{a}{\assume{$xRy$ and $yRz$}}
            \step{b}{\pick\ $\langle C, S \rangle, \langle D,T \rangle \in \mathcal{C}$ such that $xSy$ and $yTz$}
            \step{c}{$\langle C,S \rangle \leq \langle D,T \rangle$ or $\langle D,T \rangle \leq \langle C,S \rangle$}
            \step{d}{\assume{w.l.o.g. $\langle C, S \rangle \leq \langle D,T \rangle$}}
            \step{e}{$xTy$ and $yTz$}
            \step{f}{$xTz$}
            \step{g}{$xRz$}
        \end{proof}
        \step{2}{$R$ is irreflexive.}
        \begin{proof}
            \step{a}{\assume{for a contradiction $xRx$}}
            \step{b}{\pick\ $\langle C,S \rangle \in \mathcal{C}$ such that $xSx$}
            \step{c}{This is a contradiction.}
        \end{proof}
        \step{3}{$R$ satisfies trichotomy.}
        \begin{proof}
            \step{a}{\pflet{$x,y \in B$}}
            \step{b}{\pick\ $\langle C,S \rangle, \langle D,T \rangle \in \mathcal{C}$ such that $x \in C$ and $y \in D$}
            \step{c}{\assume{w.l.o.g. $\langle C,S \rangle \leq \langle D,T \rangle$}}
            \step{d}{$x, y \in D$}
            \step{e}{$xTy$ or $yTx$}
            \step{f}{$xRy$ or $yRx$}
        \end{proof}
        \step{4}{Every non-empty subset of $B$ has an $R$-least element.}
        \begin{proof}
            \step{a}{\pflet{$C \subseteq B$ be nonempty}}
            \step{b}{\pick\ $c \in C$}
            \step{c}{\pick\ $\langle D, T \rangle \in \mathcal{C}$ such that $c \in D$}
            \step{d}{\pflet{$x$ be the $T$-least element of $C \cap D$} \prove{$x$ is $R$-least in $C$}}
            \step{e}{\pflet{$y \in C$}}
            \step{f}{\pick\ $\langle E,U \rangle \in \mathcal{C}$ such that $y \in E$}
            \step{g}{$\langle D, T \rangle \leq \langle E,U \rangle$ or $\langle E,U \rangle \leq \langle D,T \rangle$}
            \step{h}{\case{$\langle D,T \rangle \leq \langle E,U \rangle$}}
            \begin{proof}
                \step{i}{$xUy$ or $x=y$}
                \begin{proof}
                    \pf
                    \step{i}{\assume{for a contradiction $yUx$}}
                    \step{ii}{$y \in D$ and $yTx$}
                    \begin{proof}
                        \pf\ Since $D$ is an initial segment of $E$ and $T = U \cap D^2$
                    \end{proof}
                    \qedstep
                    \begin{proof}
                        \pf\ This contradicts the $T$-minimality of $x$.
                    \end{proof}
                \end{proof}
            \end{proof}
            \step{i}{\case{$\langle E,U \rangle \leq \langle D,T \rangle$}}
            \begin{proof}
                \pf\ $xTy$ or $x=y$, so $xRy$ or $x=y$.
            \end{proof}
        \end{proof}
    \end{proof}

    Hence by Exercise 21 there is a maximal element $\langle B, R \rangle$ in $\mathcal{A}$.
    We must have $B = A$; for if $a \in A - B$ then $\langle B \cup \{ a \}, R \cup \{ \langle x, a \rangle : x \in B \} \rangle$
    would be a larger element. Hence $R$ is a well ordering on $A$.

    \paragraph{Exercise 23}
    \subparagraph{(i)}
    We must show that $\alpha$ is an initial ordinal. So let $\beta \in \alpha$. Then $\beta \preccurlyeq A$
    but $\alpha \not\preccurlyeq A$. Hence $\alpha \not\approx \beta$.

    \subparagraph{(ii)}
    We know that $\alpha \not\preccurlyeq A$, so $\alpha \nleq \card A$.

    \subparagraph{(iii)}
    Let $\kappa$ be any cardinal greater than $\card A$. Then $\kappa$ is not dominated by $A$,
    so $\kappa \notin \alpha$, and so $\alpha \underline{\in} \kappa$.

    \paragraph{Exercise 24}
    The cardinal number of $\mathcal{P} \alpha$ is larger than $\alpha$ (both as a cardinal and as an
    ordinal).

    \paragraph{Exercise 25}
    Suppose there exists an ordinal $\alpha$ such that $\neg \phi(\alpha)$. Let $\alpha_0$ be the least
    such ordinal. Then we have $\forall x \in \alpha_0. \phi(x)$ but $\neg \phi(\alpha_0)$. This
    contradicts the hypothesis.

    \section{Rank}

    \paragraph{Exercise 26}
    The proof is by transfinite induction on $\alpha$. Suppose that $\alpha$ is an ordinal and, for all
    $\beta \in \alpha$, we have $\beta$ is grounded and $\rank \beta = \beta$. Then by Theorem 7V(b)
    we have that $\alpha$ is grounded and
    \begin{align*}
        \rank \alpha & = \bigcup \{ (\rank \beta)^+ \mid \beta \in \alpha \} \\
        & = \bigcup \{ \beta^+ \mid \beta \in \alpha \} & (\text{induction hypothesis})
    \end{align*}
    So we must show that $\bigcup \{ \beta^+ \mid \beta \in \alpha \} = \alpha$.

    If $\beta \in \alpha$ then $\beta^+ \underline{\in} \alpha$ so $\beta^+ \subseteq \alpha$. This shows that
    $\bigcup \{ \beta^+ \mid \beta \in \alpha \} \subseteq \alpha$.

    If $\beta \in \alpha$ then $\beta \in \beta^+$ so $\beta \in \bigcup \{ \beta^+ \mid \beta \in \alpha \}$.
    This shows that $\alpha \subseteq \bigcup \{ \beta^+ \mid \beta \in \alpha \}$

    \paragraph{Exercise 27}
    \begin{proof}
        \pf
        \step{1}{For natural numbers $m$ and $n$, we have $\rank \langle m,n \rangle = \max(m,n)^{+++}$}
        \begin{proof}
            \pf
            \begin{align*}
                \rank \{ \{ m \}, \{ m, n \} \} & = (\rank \{ m \})^+ \cup (\rank \{ m,n \})^+ \\
                & = (\rank m)^{++} \cup ((\rank m)^+ \cup (\rank n)^+) ^+ \\
                & = m^{++} \cup (m^+ \cup n^+)^+ & (\text{Exercise 26})\\
                & = \max(m,n)^{++}
            \end{align*}
        \end{proof}
        \step{2}{For any integer $a$ we have $\rank a = \omega$}
        \begin{proof}
            \pf\ For any natural numbers $m$ and $n$, we have
            \begin{align*}
                \rank [\langle m,n \rangle] & = \bigcup \{ (\rank \langle p,q \rangle)^+ : m + q = n + p \} \\
                & = \bigcup \{ \max(p,q)^+ : m + q = n + p \} \\
                & = \omega
            \end{align*}
            since for any natural number $p > m$ there exists $q$ such that $m + q = n + p$.
        \end{proof}
        \step{4}{For any integers $a$ and $b$ we have $\rank \langle a,b \rangle = \omega^{++}$}
        \begin{proof}
            \pf
            \begin{align*}
                \rank \{ \{ a \}, \{ a, b \} \} & = (\rank \{ a \})^+ \cup (\rank \{ a,b \})^+ \\
                & = (\rank a)^{++} \cup ((\rank a)^+ \cup (\rank b)^+) ^+ \\
                & = \omega^{++} \cup (\omega^+ \cup \omega^+)^+ \\
                & = \omega^{++}
            \end{align*}
        \end{proof}
        \step{5}{For any rational $q$ we have $\rank q = \omega^{+++}$}
        \begin{proof}
            \pf\ Since every element of $q$ has rank $\omega^{++}$
        \end{proof}
        \step{6}{For any real number $r$ we have $\rank r = \omega^{++++}$}
        \begin{proof}
            \pf\ Since every element of $r$ has rank $\omega^{+++}$.
        \end{proof}
        \step{7}{$\rank \mathbb{R} = \omega^{+++++}$}
        \qed
    \end{proof}

    \paragraph{Exercise 28}
    If $X \in V_\alpha$ then $X \subseteq V_\beta$ for some $\beta \in \alpha$. Hence $\rank X \underline{\in}
    \beta$ and so $\rank X \in \alpha$.

    Conversely, if $\rank X \in \alpha$ then $X \in V_{(\rank X)^+} \subseteq V_\alpha$.

    \paragraph{Exercise 29}
    Direct proofs:

    For any set $a$, there exists $m \in \{ a \}$ such that $m \cap \{ a \} = \emptyset$. This $m$ must be
    the set $a$, so $a \cap \{ a \} = \emptyset$, meaning $a \notin a$.

    For any sets $a$ and $b$, there exists $m \in \{ a,b \}$ such that $m \cap \{ a,b \} = \emptyset$. Now,
    $m$ is either $a$ or $b$. If $m = a$ then $a \cap \{ a,b \} = \emptyset$ so $b \notin a$. And if $m = b$
    then $b \cap \{ a,b \} = \emptyset$ so $a \notin b$.

    Consequences of part (c):

    Assume $a \in a$. Define $f : \omega \rightarrow \{ a \}$ by $f(n) = a$ for all $n \in \omega$.
    Then $f(n^+) \in f(n)$ for all $n$, contradicting (c).

    Assume now $a \in b$ and $b \in a$. Define $f : \omega \rightarrow \{ a, b \}$ by $f(n) = a$ if $n$ is
    even, $f(n) = b$ if $n$ is odd. Then $f(n^+) \in f(n)$ for all $n$, contradicting (c).

    \paragraph{Exercise 30}
    \begin{align*}
        \rank \{ a,b \} & = (\rank a)^+ \cup (\rank b)^+ & (\text{Theorem 7V(b)}) \\
        & = \max((\rank a)^+, (\rank b)^+) \\
        & = \max(\rank a, \rank b)^+
    \end{align*}

    We have
    \begin{align*}
        a & \subseteq V_{\rank a} \\
        \therefore \mathcal{P} a & \subseteq \mathcal{P} V_{\rank a} \\
        & = V_{(\rank a)^+} \\
        \therefore \rank \mathcal{P} a & \underline{\in} (\rank a)^+ \\
        a & \in \mathcal{P} a \\
        \therefore \rank a & \in \rank \mathcal{P} a \\
        \therefore \rank \mathcal{P} a & = (\rank a)^+
    \end{align*}

    Now, for all $x \in \bigcup a$, there exists $y$ such that $x \in y \in a$. Hence
    \[ \rank x \in \rank y \in \rank a \enspace . \]
    \[ \therefore (\rank x)^+ \in \rank a \enspace . \]
    So $\rank a$ is an upper bound for $\{ (\rank x)^+ : x \in \bigcup a \}$, and so
    \[ \rank \bigcup a \underline{\in} \rank a \enspace . \]

    \paragraph{Exercise 31}
    \subparagraph{(a)}
    If $A \approx B$ and nothing of rank less than $\rank B$ is equinumerous to $B$, then
    $\rank B \underline{\in} \rank A$, and so $B \in V_{(\rank A)^+}$. So we can construct the
    set $\operatorname{kard} A$ by applying a Subset Axiom to $V_{(\rank A)^+}$.

    \subparagraph{(b)}
    There exists a set of rank $\rank A$ that is equinumerous with $A$ (namely $A$!). Let $\mu$
    be the least ordinal $\leq \rank A$ such that there exists a set of rank $\mu$ that is equinumerous with $A$.
    Pick a set $B$ of rank $\mu$ such that $B \approx A$. Then $B \in \operatorname{kard} A$.

    \subparagraph{(c)}
    Suppose $\operatorname{kard} A = \operatorname{kard} B$. Pick $C \in \operatorname{kard} A$. Then
    $C \approx A$ and $C \approx B$, so $A \approx B$.

    Conversely, suppose $A \approx B$. Then we have ($A \approx C$ and nothing of rank less than $\rank C$
    is equinumerous with $C$) iff ($B \approx C$ and nothing of rank less than $\rank C$ is equinumerous with
    $C$), i.e. $\operatorname{kard} A = \operatorname{kard} B$.

    \paragraph{Exercise 32}
    Similar to Exercise 31.

    \paragraph{Exercise 33}
    Suppose for a contradiction $D$ is not a subset of $B$. Then $D - B$ is nonempty. So by the Regularity
    Axiom, there exists $m \in D - B$ such that $m \cap (D - B) = \emptyset$. Now, for all $x \in m$,
    we have $x \in D$ (since $D$ is a transitive set) and $x \notin D - B$, so we must have $x \in X$;
    that is, $m \subseteq B$. But then $m \in B$, which is a contradiction.

    \paragraph{Exercise 34}
    \begin{proof}
        \pf
        \step{1}{\assume{$\{ x, \{ x,y \} \} = \{ u, \{ u, v \} \}$}}
        \step{2}{$x = u$ or $x = \{ u,v \}$}
        \step{3}{$u = x$ or $u = \{ x,y \}$}
        \step{4}{$x \neq \{ u, v \}$}
        \begin{proof}
            \step{a}{\assume{for a contradiction $x = \{ u,v \}$}}
            \step{b}{$u = x$ or $u = \{ x,y\}$}
            \step{c}{\case{$u = x$}}
            \begin{proof}
                \pf\ In this case $x = u \in \{ u,v \} = x$ contradicting Theorem 7X(a).
            \end{proof}
            \step{d}{\case{$u = \{x,y\}$}}
            \begin{proof}
                \pf\ In this case $u \in x$ and $x \in u$ contradicting Theorem 7X(b).
            \end{proof}
        \end{proof}
        \step{5}{$x = u$}
        \step{6}{$\{ x,y \} = \{ u,v \}$}
        \begin{proof}
            \pf\ We cannot have $\{x,y\} = u$ because then we would have $x \in x$ contradicting Theorem 7X(a).
        \end{proof}
        \step{7}{$y = u$ or $y = v$}
        \step{8}{$v = x$ or $v = y$}
        \step{9}{If $y = u$ and $v = x$ then $y = v$}
        \step{10}{$y = v$}
        \begin{proof}
            \pf\ Checking all the cases in \stepref{7} and \stepref{8}.
        \end{proof}
        \qed
    \end{proof}
    
\end{document}