\documentclass{article}

\title{C1 Set Theory}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage[all]{xy}

\newtheorem{axiom}{Axiom}
\newtheorem{axs}[axiom]{Axiom Schema}
\newtheorem{lemma}[axiom]{Lemma}
\newtheorem{proposition}[axiom]{Proposition}
\newtheorem{props}[axiom]{Proposition Schema}
\newtheorem{theorem}[axiom]{Theorem}
\newtheorem{corollary}{Corollary}[axiom]
\theoremstyle{definition}
\newtheorem{definition}[axiom]{Definition}

\newcommand{\dom}{\ensuremath{\operatorname{dom}}}
\newcommand{\ran}{\ensuremath{\operatorname{ran}}}
\newcommand{\fld}{\ensuremath{\operatorname{fld}}}

\begin{document}
    \maketitle

    \section{Primitive Notions}

    Let there be \emph{sets}.

    Let there be a binary relation called \emph{membership}, $\in$. When $x \in y$ holds, we say $x$ is a
    \emph{member} or \emph{element} of $y$. We write $x \notin y$ iff $x$ is not a member of $y$.

    \section{The Axioms}

    \begin{axiom}[Extensionality]
        If two sets have exactly the same members, then they are equal.
    \end{axiom}

    As a consequence of this axiom, we may identify a set $A$ with the class $\{ x : x \in A \}$. The use of
    the symbols $\in$ and $=$ is consistent.

    \begin{definition}
    We say that a class $\mathbf{A}$ \emph{is a set} iff there exists a set $A$ such that $A = \mathbf{A}$.
    That is, the class $\{ x : P(x) \}$ is a set iff
    \[ \exists A. \forall x (x \in A \leftrightarrow P(x)) \enspace . \]
    Otherwise, $\mathbf{A}$ is a \emph{proper class}.
    \end{definition}

    \begin{definition}[Subset]
        If $A$ is a set and $\mathbf{B}$ is a class, we say $A$ is a \emph{subset} of $\mathbf{B}$
        iff $A \subseteq \mathbf{B}$.
    \end{definition}

    \begin{axiom}[Empty Set]
        The empty class is a set, called the \emph{empty set}.
    \end{axiom}

    \begin{axiom}[Pairing]
        For any objects $a$ and $b$, the class $\{a,b\}$ is a set, called a \emph{pair set}.
    \end{axiom}

    \begin{definition}[Union]
        For any class of sets $\mathbf{A}$, the \emph{union} $\bigcup \mathbf{A}$ is the class
        $\{ x : \exists A \in \mathbf{A}. x \in A \}$.

        We write $\bigcup_{P[x_1, \ldots, x_n]} t[x_1, \ldots, x_n]$ for $\bigcup \{ t[x_1, \ldots, x_n]
        : P[x_1, \ldots, x_n] \}$.
    \end{definition}

    \begin{proposition}
        If $\mathbf{A} \subseteq \mathbf{B}$ then $\bigcup \mathbf{A} \subseteq \bigcup \mathbf{B}$.
    \end{proposition}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{axiom}[Union]
        For any set $A$, the union $\bigcup A$ is a set.
    \end{axiom}

    \begin{proposition}
        For any sets $A$ and $B$, the class $A \cup B$ is a set.
    \end{proposition}

    \begin{proof}
        \pf\ It is $\bigcup \{ A, B \}$. \qed
    \end{proof}

    \begin{props}
        For any objects $a_1$, \ldots, $a_n$, the class $\{ a_1, \ldots, a_n \}$ is a set.
    \end{props}

    \begin{proof}
        \pf\ By repeated application of the Pairing and Union axioms. \qed
    \end{proof}

    \begin{definition}[Power Set]
        For any set $A$, the \emph{power set} of $A$, $\mathcal{P} A$, is the class of all subsets of $A$.
    \end{definition}

    \begin{axiom}[Power Set]
        For any set $A$, the class $\mathcal{P} A$ is a set.
    \end{axiom}

    \begin{axiom}[Subset, Aussonderung]
        For any class $\mathbf{A}$ and set $B$, if $\mathbf{A} \subseteq B$ then $\mathbf{A}$ is a set.
    \end{axiom}

    \begin{proposition}
        For any set $A$ and class $\mathbf{B}$, the intersection $A \cap \mathbf{B}$ is a set.
    \end{proposition}

    \begin{proof}
        \pf\ By the Subset Axiom since it is a subclass of $A$. \qed
    \end{proof}

    \begin{proposition}
        For any set $A$ and class $\mathbf{B}$, the relative complement $A - \mathbf{B}$ is a set.
    \end{proposition}

    \begin{proof}
        \pf\ By the Subset Axiom since it is a subclass of $A$. \qed
    \end{proof}

    \begin{theorem}
        The universal class $\mathbf{V}$ is a proper class.
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{\assume{$\mathbf{V}$ is a set.}}
        \step{2}{\pflet{$R = \{ x : x \notin x \}$}}
        \step{3}{$R$ is a set.}
        \begin{proof}
            \pf\ By the Subset Axiom.
        \end{proof}
        \step{4}{$R \in R$ if and only if $R \notin R$}
        \qedstep
        \begin{proof}
            \pf\ This is a contradiction.
        \end{proof}
        \qed
    \end{proof}
    
    \begin{definition}[Intersection]
        For any class of sets $\mathbf{A}$, the \emph{intersection} $\bigcap \mathbf{A}$ is the class
        $\{ x : \forall A \in \mathbf{A}. x \in A \}$.

        We write $\bigcap_{P[x_1, \ldots, x_n]} t[x_1, \ldots, x_n]$ for $\bigcap \{ t[x_1, \ldots, x_n]
        : P[x_1, \ldots, x_n] \}$.
    \end{definition}

    \begin{proposition}
        For any nonempty class of sets $\mathbf{A}$, the class $\bigcap \mathbf{A}$ is a set.
    \end{proposition}

    \begin{proof}
        \pf\ Pick $A \in \mathbf{A}$. Then $\bigcap \mathbf{A} \subseteq A$. \qed
    \end{proof}
    
    \begin{proposition}
        If $\mathbf{A} \subseteq \mathbf{B}$ then $\bigcap \mathbf{B} \subseteq \bigcap \mathbf{A}$.
    \end{proposition}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{proposition}
        For any set $A$ and class of sets $\mathbf{B}$, we have
        \[ A \cup \bigcap \mathbf{B} = \bigcap \{ A \cup X \mid X \in \mathbf{B} \} \]
    \end{proposition}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{proposition}
        For any set $A$ and class of sets $\mathbf{B}$, we have
        \[ A \cap \bigcup \mathbf{B} = \bigcup \{ A \cap X \mid X \in \mathbf{B} \} \]
    \end{proposition}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{proposition}
        For any set $C$ and class of sets $\mathbf{A}$, we have
        \[ C - \bigcup \mathbf{A} = \bigcap \{ C - X \mid X \in \mathbf{A} \} \enspace . \]
    \end{proposition}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{proposition}
        For any set $C$ and class of sets $\mathbf{A}$, we have
        \[ C - \bigcap \mathbf{A} = \bigcup \{ C - X \mid X \in \mathbf{A} \} \enspace . \]
    \end{proposition}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \section{Ordered Pairs}

    \begin{definition}[Ordered Pair]
        For any objects $a$ and $b$, the \emph{ordered pair} $(a,b)$ is $\{ \{ a \}, \{a, b \} \}$.
        We call $a$ its \emph{first coordinate} and $b$ its \emph{second coordinate}.
    \end{definition}

    \begin{theorem}
        For any objects $(a,b)$, we have $(a,b) = (c,d)$ if and only if $a = c$ and $b = d$.
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{If $(a,b) = (c,d)$ then $a = c$ and $b = d$}
        \begin{proof}
            \step{a}{\assume{$(a,b) = (c,d)$}}
            \step{b}{$a = c$}
            \begin{proof}
                \pf\ Since $\{a\} = \bigcap (a,b) = \bigcap (c,d) = \{c\}$.
            \end{proof}
            \step{c}{$\{a,b\} = \{c,d\}$}
            \begin{proof}
                \pf\ $\{a,b\} = \bigcup (a,b) = \bigcup (c,d) = \{c,d\}$.
            \end{proof}
            \step{cc}{$b = c$ or $b = d$}
            \step{d}{\case{$b = c$}}
            \begin{proof}
                \step{i}{$a = b$}
                \step{ii}{$\{c,d\} = \{a\}$}
                \step{iii}{$b = d$}
            \end{proof}
            \step{e}{\case{$b = d$}}
            \begin{proof}
                \pf\ We have $a = c$ and $b = d$ as required.
            \end{proof}
        \end{proof}
        \step{2}{If $a = c$ and $b = d$ then $(a,b) = (c,d)$}
        \begin{proof}
            \pf\ Trivial.
        \end{proof}
        \qed
    \end{proof}

    \begin{definition}[Cartesian Product]
        The \emph{Cartesian product} of classes $\mathbf{A}$ and $\mathbf{B}$ is the class
        \[ \mathbf{A} \times \mathbf{B} = \{ (x,y) : x \in \mathbf{A}, y \in \mathbf{B} \} \enspace . \]
    \end{definition}

    \begin{lemma}
        For any objects $x$ and $y$ and set $C$, if $x \in C$ and $y \in C$ then $(x,y) \in \mathcal{PP} C$.
    \end{lemma}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{corollary}
        For any sets $A$ and $B$, the Cartesian product $A \times B$ is a set.
    \end{corollary}

    \begin{proof}
        \pf\ By the Subset Axiom applied to $\mathcal{PP}(A \cup B)$. \qed
    \end{proof}

    \begin{lemma}
        If $(x,y) \in \mathbf{A}$ then $x, y \in \bigcup \bigcup \mathbf{A}$.
    \end{lemma}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \section{Relations}

    \begin{definition}[Relation]
        A \emph{relation} is a class of ordered pairs. It is \emph{small} iff it is a set.

        When $\mathbf{R}$ is a relation, we write $x \mathbf{R} y$ for $(x,y) \in \mathbf{R}$.
    \end{definition}

    \begin{definition}[Domain]
        The \emph{domain} of a class $\mathbf{R}$ is $\dom \mathbf{R} = \{ x : \exists y. (x,y) \in \mathbf{R} \}$.
    \end{definition}

    \begin{definition}[Range]
        The \emph{range} of a class $\mathbf{R}$ is $\ran \mathbf{R} = \{ y : \exists x. (x,y) \in \mathbf{R} \}$.
    \end{definition}

    \begin{definition}[Field]
        The \emph{field} of a class $\mathbf{R}$ is $\fld \mathbf{R} = \dom \mathbf{R} \cup \ran \mathbf{R}$.
    \end{definition}

    \begin{proposition}
        If $R$ is a set then $\dom R$, $\ran R$ and $\fld R$ are sets.
    \end{proposition}

    \begin{proof}
        \pf\ Apply the Subset Axiom to $\bigcup \bigcup R$. \qed
    \end{proof}
    
    \section{$n$-ary Relations}

    \begin{definition}
        Given objects $a$, $b$, $c$, define the \emph{ordered triple}
        $(a,b,c)$ to be $((a,b),c)$.

        Define $(a,b,c,d) = ((a,b,c),d)$, etc.

        Define the \emph{1-tuple} $(a)$ to be $a$.
    \end{definition}

    \begin{definition}[$n$-ary Relation]
        Given a class $\mathbf{A}$, an \emph{$n$-ary relation} on $\mathbf{A}$ is a class of ordered
        $n$-tuples, all of whose components are in $\mathbf{A}$.
    \end{definition}
\end{document}