\documentclass{article}

\title{C2 Algebra}
\author{Robin Adams}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\let\proof\relax
\let\endproof\relax
\let\qed\relax
\usepackage{pf2}
\usepackage[all]{xy}

\newtheorem{axiom}{Axiom}
\newtheorem{axs}[axiom]{Axiom Schema}
\newtheorem{lemma}[axiom]{Lemma}
\newtheorem{proposition}[axiom]{Proposition}
\newtheorem{props}[axiom]{Proposition Schema}
\newtheorem{theorem}[axiom]{Theorem}
\newtheorem{corollary}{Corollary}[axiom]
\theoremstyle{definition}
\newtheorem{definition}[axiom]{Definition}

\begin{document}
    \maketitle

    \section{Groups}

    \begin{definition}[Group]
        A \emph{group} is a triple $(G, \cdot, e)$ where $G$ is a set, $\cdot$ is a binary operation on $G$,
        and $e \in G$, such that:
        \begin{enumerate}
            \item $\cdot$ is associative.
            \item $\forall x \in G. xe = ex = x$
            \item $\forall x \in G. \exists y \in G. xy = yx = e$
        \end{enumerate}
    \end{definition}

    \begin{lemma}
        The integers $\mathbb{Z}$ form a group under $+$ and $0$.
    \end{lemma}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{lemma}
        In any group, inverses are unique.
    \end{lemma}

    \begin{proof}
        \pf\ Suppose $y$ and $z$ are inverses to $x$. Then
        \[ y = ey = zxy = ze = z \]
        \qed
    \end{proof}

    \begin{definition}
        We write $x^{-1}$ for the inverse of $x$.
    \end{definition}

    \section{Abelian Groups}

    \begin{definition}[Abelian Group]
        A group $(G, +, 0)$ is \emph{Abelian} iff $+$ is commutative.

        When using additive notation (i.e. the symbols $+$ and $0$) for a group,
        we write $-y$ for the inverse of $y$, and $x-y$ for $x+(-y)$.
    \end{definition}

    \begin{lemma}
        The integers $\mathbb{Z}$ are Abelian.
    \end{lemma}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{lemma}
        The rationals $\mathbb{Q}$ form an Abelian group under $+$.
    \end{lemma}

    \begin{proof}
        \pf\ Easy.
    \end{proof}

    \begin{lemma}
        The non-zero rationals form an Abelian group under multiplication.
    \end{lemma}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \section{Ring Theory}

    \begin{definition}[Rng]
        A \emph{rng} is a quintuple $(R, +, \cdot, 0)$ consisting of a set $R$,
        binary operations $+$ and $\cdot$ on $R$, and element $0 \in R$ such that:
        \begin{enumerate}
            \item $(R, +, 0)$ is an Abelian group.
            \item The operation $\cdot$ is associative, and distributive over $+$.
        \end{enumerate}
    \end{definition}

    \begin{proposition}
        In any rng we have $x0 = 0$.
    \end{proposition}

    \begin{proof}
        \pf\ $x0 = x(0+0) = x0+x0$ and also $x0 = x0+0$. The result follows by the cancellation law. \qed
    \end{proof}

    \begin{proposition}
        In any rng we have $-(xy) = (-x)y = x(-y)$.
    \end{proposition}

    \begin{proof}
        \pf\ The result $-(xy) = (-x)y$ holds because
        \[ xy + (-x)y = (x+(-x))y = 0y = 0 \enspace . \]
        We prove $-(xy) = x(-y)$ similarly. \qed
    \end{proof}

    \begin{corollary}
        In any rng, $(-x)(-y) = xy$.
    \end{corollary}

    \begin{definition}[Ring]
        A \emph{ring} consists of a rng $R$ and an element $1 \in R$, the \emph{unit element},
        such that $\forall x \in R. x1 = 1x = x$.
    \end{definition}

    \begin{proposition}
        In a ring $R$, if $0 = 1$ then $R$ has only one element.
    \end{proposition}

    \begin{definition}[Commutative Rng]
        A rng $R$ is \emph{commutative} iff $\forall x,y \in R. xy = yx$.
    \end{definition}

    \begin{definition}[Zero Divisor]
        A \emph{zero divisor} in a rng is an element $x$ such that $x \neq 0$ but there exists $y \neq 0$ such
        that $xy = 0$.
    \end{definition}

    \begin{definition}[Integral Domain]
        An \emph{integral domain} is a commutative ring with no zero divisors.
    \end{definition}

    \begin{proposition}
        The trivial ring is an integral domain.
    \end{proposition}

    \begin{lemma}
        The integers form an integral domain.
    \end{lemma}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{proposition}
        Let $R$ be a commutative ring. Then $R$ is an integral domain if and only if, whenever $xy = xz$
        and $x \neq 0$, then $y = z$.
    \end{proposition}

    \section{Ordered Integral Domains}

    \begin{definition}[Ordered Integral Domain]
        An \emph{ordered integral domain} is an integral domain $D$ with a linear order $<$ such that:
        \begin{itemize}
            \item Whenever $x < y$ then $x + z < y + z$.
            \item Whenever $x < y$ and $0 < z$ then $xz < yz$.
        \end{itemize}
    \end{definition}

    \begin{proposition}
        In an ordered integral domain, if $x < y$ and $z < 0$ then $yz < xz$.
    \end{proposition}

    \begin{proposition}
        $x < y$ iff $-y < -x$.
    \end{proposition}

    \begin{definition}[Positive]
        In an integral domain, we say an element $a$ is \emph{positive} iff $0 < a$ and \emph{negative}
        iff $a < 0$.
    \end{definition}

    \begin{proposition}
        $x < y$ iff $y - x$ is positive.
    \end{proposition}

    \begin{proposition}
        $x < y$ iff $x - y$ is negative.
    \end{proposition}

    \begin{proposition}
        $x$ is positive iff $-x$ is negative.
    \end{proposition}

    \begin{proposition}
        $x$ is negative iff $-x$ is positive.
    \end{proposition}

    \begin{proposition}
        The sum of two positive elements is positive.
    \end{proposition}

    \begin{proposition}
        The product of two positive elements is positive.
    \end{proposition}

    \begin{proposition}
        The product of two negative elements is positive.
    \end{proposition}

    \begin{proposition}
        The product of a positive and a negative element is negative.
    \end{proposition}

    \begin{proposition}
        If $x \neq 0$ then $x^2$ is positive.
    \end{proposition}

    \begin{proposition}
        $x^2$ is always non-negative.
    \end{proposition}

    \begin{proposition}
        $0 < 1$
    \end{proposition}

    \begin{proposition}
        $-1 < 0$
    \end{proposition}

    \begin{theorem}
        Let $R$ be an integral domain and $P \subseteq R$ be a set such that:
        \begin{itemize}
            \item $0 \notin P$
            \item For all $x \in R$ we have $x \in P$ or $x = 0$ or $-x \in P$
            \item For all $x,y \in P$ we have $x+y \in P$
            \item For all $x,y \in P$ we have $xy \in P$
        \end{itemize}
        Define $<$ on $R$ by $x < y$ iff $y - x \in P$. Then $R$ is an ordered integral domain under $<$
        with $P$ the set of positive elements.
    \end{theorem}

    \begin{definition}[Absolute Value]
        In any ordered integral domain, define
        \[ |x| = \begin{cases}
            x & \text{if $0 \leq x$} \\
            -x & \text{if $x < 0$}
        \end{cases} \]
    \end{definition}

    \begin{proposition}
        $|x|$ is always non-negative.
    \end{proposition}

    \begin{proposition}
        $|x| = 0$ iff $x = 0$
    \end{proposition}

    \begin{proposition}
        $|-x| = |x|$
    \end{proposition}

    \begin{proposition}
        $|x-y| = |y-x|$
    \end{proposition}

    \begin{proposition}
        $|xy| = |x||y|$
    \end{proposition}

    \begin{proposition}
        $-|x| \leq x \leq |x|$
    \end{proposition}

    \begin{proposition}
        $|x| < u$ iff $-u < x < u$
    \end{proposition}

    \begin{proposition}
        $|x| \leq u$ iff $-u \leq x \leq u$
    \end{proposition}

    \begin{proposition}[Triangle Inequality]
        $|x + y| \leq |x| + |y|$
    \end{proposition}

    \begin{proposition}
        $||x| - |y|| \leq |x-y|$
    \end{proposition}

    \section{Greatest Common Divisor}

    \begin{theorem}[Division Theorem]
        Let $a$ and $b$ be integers, $a > 1$. Then there exist unique integers $q$ and $r$ such that
        $b = qa + r$ and $0 \leq r < a$.
    \end{theorem}

    \begin{proof}
        \pf\ For existence, prove the case $b \geq 0$ by induction on $b$. The case $b < 0$ follows.

        For uniqueness, if $qa + r = q'a + r'$ then $a | r - r'$ and $-a < r - r' < a$, hence $r - r' = 0$.
        So $r = r'$ and $q = q'$. \qed
    \end{proof}

    \begin{definition}[Divisibility]
        We say $a$ \emph{divides} $b$, $a \mid b$, iff there exists $c$ such that $b = ac$.
    \end{definition}

    \begin{proposition}
        For every integer $a$ we have $a \mid 0$.
    \end{proposition}

    \begin{proposition}
        For every integer $a$ we have $1 \mid a$.
    \end{proposition}

    \begin{proposition}
        For every integer $a$ we have $a \mid a$.
    \end{proposition}

    \begin{proposition}
        If $a \mid b$ and $b \mid c$ then $a \mid c$.
    \end{proposition}

    \begin{proposition}
        If $a \mid c$ and $c \neq 0$ the $|a| \leq |c|$.
    \end{proposition}

    \begin{proposition}
        If $0 \mid a$ then $a = 0$.
    \end{proposition}

    \begin{proposition}
        If $a \mid b$ and $b \mid a$ then $a = b$ or $a = -b$.
    \end{proposition}

    \begin{proposition}
        $a \mid ab$
    \end{proposition}

    \begin{proposition}
        If $a \mid b$ and $a \mid c$ then $a \mid b + c$.
    \end{proposition}

    \begin{proposition}
        If $a \mid b$ and $a \mid c$ then $a \mid b - c$.
    \end{proposition}
    
    \begin{proposition}
        If $a \mid 1$ then $a = 1$ or $a = -1$.
    \end{proposition}

    \begin{definition}[Greatest Common Divisor]
        The integer $d$ is the \emph{greatest common divisor} of $a$ and $b$ iff $d$ is non-negative,
        $d \mid a$, $d \mid b$,
        and whenever $x \mid a$ and $x \mid b$ then $d \mid x$.
    \end{definition}

    \begin{proposition}
        Two integers have at most one gcd.
    \end{proposition}

    \begin{theorem}
        Let $a$ and $b$ be integers that are not both 0. Then there exist integers $x$ and $y$ such that
        $xa + yb$ is the greatest common divisor of $a$ and $b$.
    \end{theorem}

    \begin{proof}
        \pf\ Take the least positive member of $\{ xa + yb : x,y \in \mathbb{Z} \}$. \qed
    \end{proof}

    \begin{definition}[Relatively Prime]
        Two integers $a$ and $b$ are \emph{relatively prime} iff their gcd is 1.
    \end{definition}

    \begin{definition}[Prime]
        An integer $p$ is \emph{prime} iff $p > 1$ and the only divisors of $p$ are 1 and $p$.
        
        An integer $a$ is \emph{composite} iff $a > 1$ and $a$ is not prime.
    \end{definition}

    \begin{proposition}
        Every integer greater than 1 is divisible by a prime.
    \end{proposition}

    \begin{theorem}
        There are infinitely many primes.
    \end{theorem}

    \begin{proposition}
        If $p$ is prime and $p \mid ab$ then $p \mid a$ or $p \mid b$.
    \end{proposition}

    \begin{theorem}[Fundamental Theorem of Arithmetic]
        Every integer $> 1$ is the product of a unique multiset of primes.
    \end{theorem}

    \section{Integers Modulo $n$}

    \begin{definition}[Congruence]
        Two integers $a$ and $b$ are \emph{congruent} modulo $n$, $a \equiv b \mod n$, iff $n \mid a - b$.
    \end{definition}

    \begin{proposition}
        Congruence modulo $n$ is an equivalence relation.
    \end{proposition}

    \begin{proposition}
        If $a \equiv b \mod n$ and $c \equiv d \mod n$ then $a + c \equiv b + d \mod n$.
    \end{proposition}

    \begin{proposition}
        If $a \equiv b \mod n$ then $-a \equiv -b \mod n$.
    \end{proposition}

    \begin{proposition}
        If $a \equiv b \mod n$ and $c \equiv d \mod n$ then $ac \equiv bd \mod n$.
    \end{proposition}

    \begin{definition}
        The equivalence classes with respect to congruence modulo $n$ are called \emph{residue classes modulo $n$}.
    \end{definition}

    \begin{definition}
        The set of \emph{integers modulo $n$}, $\mathbb{Z}_n$, is the quotient of $\mathbb{Z}$ by 
        congruence modulo $n$.
    \end{definition}

    \begin{proposition}
        If $n > 0$ then $|\mathbb{Z}_n| = n$.
    \end{proposition}

    \begin{proposition}
        $\mathbb{Z}_n$ is a commutative ring.
    \end{proposition}

    \begin{proposition}
        $\mathbb{Z}_n$ is an integral domain if and only if $n$ is prime.
    \end{proposition}
    \section{Field Theory}

    \begin{definition}[Field]
        A \emph{field} is an integral domain such that every non-zero element has a multiplicative inverse.
    \end{definition}

    \begin{definition}[Field of Fractions]
        Let $R$ be an integral domain. The \emph{field of fractions} of $R$ is $(R \times (R - \{ 0 \})) / \sim$,
        where $(a,b) \sim (c,d)$ iff $ad = bc$, under the following operations:
        \begin{align*}
            [(a,b)] + [(c,d)] & = [(ad+bc,bd)] \\
            [(a,b)][(c,d)] & = [(ac,bd)] \\
            0 & = [(0,1)] \\
            1 & = [(1,1)]
        \end{align*}

        It is routine to check that $\sim$ is an equivalence relation and the operations are well-defined
        and form a field. The additive inverse of $[(a,b)]$ is $[(-a,b)]$, and the multiplicative inverse
        of $[(a,b)]$ is $[(b,a)]$.
    \end{definition}

    \begin{definition}[Rational Numbers]
        The field of \emph{rational numbers} $\mathbb{Q}$ is the field of fractions of the integers.
    \end{definition}

    %TODO: The reals form a field.

    %TODO: The complex numbers form a field.

    \section{Rational Numbers}

    \begin{lemma}
        If $(a,b) \sim (a',b')$ and $(c,d) \sim (c',d')$ and $b$, $b'$, $d$, $d'$
        are all positive then $ad<bc$ iff $a'd'<b'c'$.
    \end{lemma}

    \begin{proof}
        \pf\ Easy.
    \end{proof}

    \begin{definition}
        The ordering on the rationals is defined by: if $b$ and $d$ are positive then
        $[(a,b)] < [(c,d)]$ iff $ad < bc$.
    \end{definition}

    \begin{theorem}
        The relation $<$ is a linear ordering on $\mathbb{Q}$.
    \end{theorem}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{definition}[Positive]
        A rational $q$ is \emph{positive} iff $0 < q$.
    \end{definition}

    \begin{definition}[Absolute Value]
        The \emph{absolute value} of a rational $q$ is the rational $|q|$ defined by
        \[ |q| = \begin{cases}
            q & \text{if } q \geq 0 \\
            -q & \text{if } q \leq 0
        \end{cases} \]
    \end{definition}

    \begin{theorem}
        For any rational $s$, the function that maps $q$ to $q + s$ is strictly monotone.
    \end{theorem}
    
    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{theorem}
        For any positive rational $s$, the function that maps $q$ to $qs$ is strictly monotone.
    \end{theorem}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{theorem}
        Define $E : \mathbb{Z} \rightarrow \mathbb{Q}$ by $E(a) = [(a,1)]$. Then $E$ is one-to-one and:
        \begin{enumerate}
            \item $E(a+b) = E(a) + E(b)$
            \item $E(ab) = E(a)E(b)$
            \item $E(0) = 0$
            \item $E(1) = 1$
            \item $a < b$ iff $E(a) < E(b)$
        \end{enumerate}
    \end{theorem}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \section{Ordered Fields}

    \begin{definition}[Ordered Field]
        An \emph{ordered field} is a sextuple $(D, +, \cdot, \cdot, 0, 1, <)$ such that $(D, +, \cdot, 0, 1)$
        is a field, $<$ is a linear ordering on $D$, and:
        \begin{align*}
            & \forall x,y,z. x < y \Leftrightarrow x + z < y + z \\
            & \forall x,y,z. 0 < z \Rightarrow (x < y \Leftrightarrow xz < yz)
        \end{align*}
    \end{definition}

    \section{The Real Numbers}

    \begin{definition}[Dedekind Cut]
        A \emph{real number} or \emph{Dedekind cut} is a subset $x$ of $\mathbb{Q}$ such that:
        \begin{enumerate}
            \item $\emptyset \neq x \neq \mathbb{Q}$
            \item $x$ is \emph{closed downwards}, i.e. for all $q \in x$, if $r \in \mathbb{Q}$
            and $r < q$ then $r \in x$.
            \item $x$ has no largest member.
        \end{enumerate}
        Let $\mathbb{R}$ be the set of all real numbers.
    \end{definition}

    \begin{definition}
        Given real numbers $x$ and $y$, we write $x < y$ iff $x \subset y$.
    \end{definition}

    \begin{theorem}
        The relation $<$ is a linear ordering on $\mathbb{R}$.
    \end{theorem}

    \begin{proof}
        \pf\ The only hard part is proving that, for any reals $x$ and $y$, either $x \subseteq y$ or
        $y \subseteq x$.

        Suppose $x \nsubseteq y$. Pick $q \in x$ such that $q \notin y$. Let $r \in y$. Then $q \nless r$
        (since $y$ is closed downwards) therefore $r < q$. Hence $r \in x$ (because $x$ is closed downwards).
        \qed
    \end{proof}

    \begin{theorem}
        Any nonempty set $A$ of reals bounded above has a least upper bound.
    \end{theorem}

    \begin{proof}
        \pf\ We prove that $\bigcup A$ is a Dedekind cut. It is then the least upper bound of $A$.

        The set $\bigcup A$ is nonempty because $A$ is nonempty. Pick an upper bound $r$ for $A$, and a
        rational $q \notin r$; then $q \notin \bigcup A$, so $\bigcup A \neq \mathbb{Q}$.

        $\bigcup A$ is closed downwards because every member of $A$ is closed downwards.

        $\bigcup A$ has no largest member because every member of $A$ has no largest member. \qed
    \end{proof}

    \begin{definition}[Addition]
        \emph{Addition} $+$ on $\mathbb{R}$ is defined by:
        \[ x + y = \{ q + r \mid q \in x, r \in y \} \enspace .\]
        We prove this is a Dedekind cut.
    \end{definition}

    \begin{proof}
        \pf
        \step{1}{$x + y \neq \emptyset$}
        \begin{proof}
            \pf\ Pick $q \in x$ and $r \in y$. Then $q + r \in x + y$.
        \end{proof}
        \step{2}{$x + y \neq \mathbb{Q}$}
        \begin{proof}
            \step{a}{\pick{$q \in \mathbb{Q} - x$ and $r \in \mathbb{Q} - y$}}
            \step{b}{For all $q' \in x$ we have $q' < q$}
            \step{c}{For all $r' \in y$ we have $r' < r$}
            \step{d}{For all $q' \in x$ and $r' \in y$ we have $q' + r' < q + r$}
            \step{e}{$q + r \notin x + y$}
        \end{proof}
        \step{3}{$x + y$ is closed downwards.}
        \begin{proof}
            \step{a}{\pflet{$q \in x$ and $r \in y$}}
            \step{b}{\pflet{$s < q + r$}}
            \step{c}{$s-q < r$}
            \step{d}{$s-q \in y$}
            \step{e}{$s = q + (s-q) \in x + y$}
        \end{proof}
        \step{4}{$x + y$ has no largest member.}
        \begin{proof}
            \step{a}{\pflet{$q \in x$ and $r \in y$}}
            \step{b}{\pick\ $q' \in x$ with $q < q'$}
            \step{c}{\pick\ $r' \in y$ with $r < r'$}
            \step{d}{$q' + r' \in x + y$ and $q + r < q' + r'$}
        \end{proof}
        \qed
    \end{proof}

    \begin{theorem}
        Addition is associative and commutative.
    \end{theorem}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{definition}[Zero]
        The real number zero is $0 = \{ q \in \mathbb{Q} : q < 0 \}$.

        It is easy to check this is a Dedekind cut.
    \end{definition}

    \begin{theorem}
        For every real $x$ we have $x + 0 = x$.
    \end{theorem}

    \begin{proof}
        \pf
        \step{a}{$x + 0 \subseteq x$}
        \begin{proof}
            \pf\ Let $q \in x$ and $r \in 0$. Then $q + r < q$ so $q + r \in x$.
        \end{proof}
        \step{b}{$x \subseteq x + 0$}
        \begin{proof}
            \pf\ Let $q \in x$. Pick $r \in x$ such that $q < r$. Then $q - r \in 0$ and $q = r + (q-r) \in
            x + 0$.
        \end{proof}
        \qed
    \end{proof}

    \begin{definition}
        For any real $x$, define
        \[ - x = \{ r \in \mathbb{Q} : \exists s > r. -s \notin x \} \enspace . \]
        We prove this is a Dedekind cut.
    \end{definition}

    \begin{proof}
        \pf
        \step{1}{$-x \neq \emptyset$}
        \begin{proof}
            \pf\ Pick $s$ such that $s \notin x$. Then $-s-1 \in -x$.
        \end{proof}
        \step{2}{$-x \neq \mathbb{Q}$}
        \begin{proof}
            \step{a}{\pick\ $r \in x$ \prove{$-r \notin -x$}}
            \step{b}{\assume{for a contradiction $-r \in -x$}}
            \step{c}{\pick\ $s > -r$ such that $-s \notin x$}
            \step{d}{$-s < r$}
            \step{e}{$-s \in x$}
            \qedstep
            \begin{proof}
                \pf\ This is a contradiction.
            \end{proof}
        \end{proof}
        \step{3}{$-x$ is closed downwards.}
        \begin{proof}
            \pf\ Easy.
        \end{proof}
        \step{4}{$-x$ has no largest element.}
        \begin{proof}
            \step{a}{\pflet{$r \in -x$}}
            \step{b}{\pick\ $s > r$ such that $-s \notin x$}
            \step{c}{\pick\ $q$ such that $r < q < s$}
            \step{d}{$r < q$ and $q \in -x$}
        \end{proof}
        \qed
    \end{proof}

    \begin{lemma}
        \label{lemma:integers_Archimedean}
        For any positive integer $a$ and integer $b$, there exists a natural number $k$ such that
        $b < ak$.
    \end{lemma}

    \begin{proof}
        \pf\ Take $k = |b| + 1$. \qed
    \end{proof}

    \begin{lemma}
        \label{lemma:rationals_Archimedean}
        For any positive rational $p$ and rational $r$, there exists a natural number $k$ such that
        $r < pk$.
    \end{lemma}

    \begin{proof}
        \pf\ Let $p = a/b$ and $r = c/d$ where $a$, $b$ and $d$ are positive. By Lemma \ref{lemma:integers_Archimedean},
        pick $k$ such that $bc < adk$. Then $r < pk$. \qed
    \end{proof}

    \begin{lemma}
        \label{lemma:reals_pre_negation}
        Let $p$ be a positive real number. For any real $x$, there exists $q \in x$
        such that $p + q \notin x$.
    \end{lemma}

    \begin{proof}
        \pf
        \step{1}{\pick\ rationals $r_1 \in x$ and $r_2 \notin x$}
        \step{2}{There exists a natural number $k$ such that $kp > r_2 - r_1$}
        \begin{proof}
            \pf\ By Lemma \ref{lemma:rationals_Archimedean}.
        \end{proof}
        \step{3}{\pflet{$k$ be least such that $r_1 + kp \notin x$}}
        \step{4}{$k \neq 0$}
        \begin{proof}
            \pf\ Since $r_1 \in x$.
        \end{proof}
        \step{5}{\pflet{$q = r_1 + (k-1)p$}}
        \step{6}{$q \in x$}
        \begin{proof}
            \pf\ By minimality of $k$.
        \end{proof}
        \step{7}{$q + p \notin x$}
        \qed
    \end{proof}

    \begin{theorem}
        For any real $x$ we have $x + (-x) = 0$.
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{$x + (-x) \subseteq 0$}
        \begin{proof}
            \step{a}{\pflet{$q \in x$ and $r \in -x$}}
            \step{b}{\pick\ $s > r$ such that $-s \notin x$}
            \step{c}{$q < -s$}
            \step{d}{$q < -r$}
            \step{e}{$q + r < 0$}
        \end{proof}
        \step{2}{$0 \subseteq x + (-x)$}
        \begin{proof}
            \step{a}{\pflet{$p < 0$}}
            \step{b}{\pick\ $q \in x$ such that $q - p/2 \notin x$}
            \begin{proof}
                \pf\ By Lemma \ref{lemma:reals_pre_negation}.
            \end{proof}
            \step{c}{\pflet{$s = p/2 - q$}}
            \step{d}{$-s \notin x$}
            \step{e}{$p-q \in -x$}
            \begin{proof}
                \pf\ Since $p-q < s$ and $-s \notin x$.
            \end{proof}
            \step{e}{$p = q + (p-q) \in x + (-x)$}
        \end{proof}
        \qed
    \end{proof}

    \begin{theorem}
        The reals form an Abelian group under addition.
    \end{theorem}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{theorem}
        For any real $z$, the function that maps $x$ to $x + z$ is strictly monotone.
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{\assume{$x < y$}}
        \step{2}{$x + z \subseteq y + z$}
        \begin{proof}
            \pf\ From the definition.
        \end{proof}
        \step{3}{$x + z \neq y + z$}
        \begin{proof}
            \pf\ By cancellation.
        \end{proof}
        \qed
    \end{proof}

    \begin{definition}[Absolute Value]
        The \emph{absolute value} of a real number $x$ is
        \[ |x| = \begin{cases}
            x & \text{if } x \geq 0 \\
            -x & \text{if } x \leq 0
        \end{cases} \]
    \end{definition}

    \begin{definition}[Multiplication]
        Given real numbers $x$, $y$, define the real $xy$ by:
        \begin{itemize}
            \item If $x \geq 0$ and $y \geq 0$ then
            \[ xy = 0 \cup \{ rs : 0 \leq r \in x, 0 \leq s \in y \} \]
            \item If $x \geq 0$ and $y < 0$ then $xy = -(x(-y))$
            \item If $x < 0$ and $y \geq 0$ then $xy = -((-x)y)$
            \item If $x < 0$ and $y < 0$ then $xy = (-x)(-y)$
        \end{itemize}

        We prove this is a Dedekind cut.
    \end{definition}

    \begin{proof}
        \pf
        \step{1}{\pflet{$x \geq 0$ and $y \geq 0$}}
        \step{2}{$xy \neq \emptyset$}
        \begin{proof}
            \pf\ Since $-1 \in xy$
        \end{proof}
        \step{3}{$xy \neq \mathbb{Q}$}
        \begin{proof}
            \step{a}{\pick\ $r \in \mathbb{Q} - x$ and $s \in \mathbb{Q} - y$}
            \step{b}{For all $r'$ with $0 \leq r' \in x$ and $s'$ with $0 \leq s' \in y$
            we have $r' < r$ and $s' < s$ so $r's' < rs$}
            \step{c}{$rs \notin xy$}
        \end{proof}
        \step{4}{$xy$ is closed downwards.}
        \begin{proof}
            \step{a}{\pflet{$q \in xy$ and $r < q$}}
            \step{b}{\assume{$0 \leq r$}}
            \step{c}{\pick\ rationals $a$, $b$ with $0 \leq a \in x$ and $0 \leq b \in y$
            such that $q = ab$}
            \step{d}{$a \neq 0$ or $b \neq 0$}
            \begin{proof}
                \pf\ Since $q \neq 0$ because $0 \leq r < q$.
            \end{proof}
            \step{e}{\assume{w.l.o.g. $a \neq 0$}}
            \step{f}{$r/a < b$}
            \step{g}{$r/a \in y$}
            \step{h}{$r = a(r/a) \in xy$}
        \end{proof}
        \step{5}{$xy$ has no greatest element.}
        \begin{proof}
            \step{a}{\pflet{$q \in xy$} \prove{There exists $r \in xy$ such that $q < r$}}
            \step{b}{\assume{w.l.o.g. $0 \leq q$}}
            \step{c}{\pick\ rationals $a$ and $b$ with $0 \leq a \in x$ and $0 \leq b \in y$
            such that $q = ab$}
            \step{d}{\pick\ rationals $a'$ and $b'$ with $a < a' \in x$ and $b < b' \in y$}
            \step{e}{$q < a'b' \in xy$}
        \end{proof}
        \qed
    \end{proof}

    \begin{theorem}
        Multiplication is commutative and associative.
    \end{theorem}

    \begin{proof}
        \pf\ Easy. \qed
    \end{proof}

    \begin{theorem}
        Multiplication is distributive over addition.
    \end{theorem}

    \begin{proof}
        \pf\ See E. Mendelson. \emph{Number Systems and the Foundations of Analysis}. Appendix F. \qed
    \end{proof}

    \begin{definition}
        The real number \emph{one} is $1 = \{ q \in \mathbb{Q} : q < 1 \}$.

        It is easy to check this is a Dedekind cut.
    \end{definition}

    \begin{theorem}
        $0 \neq 1$
    \end{theorem}

    \begin{proof}
        \pf\ $0 \in 1$ and $0 \notin 0$. \qed
    \end{proof}

    \begin{theorem}
        For any real $x$, $x1 = x$.
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{\pflet{$x \in \mathbb{R}$} \prove{$x1=x$}}
        \step{2}{\case{$0 \leq x$}}
        \begin{proof}
            \step{a}{$x1 \subseteq x$}
            \begin{proof}
                \step{i}{\pflet{$q \in x1$} \prove{$q \in x$}}
                \step{ii}{\case{$q < 0$}}
                \begin{proof}
                    \pf\ Then $q \in x$ because $0 \leq x$.
                \end{proof}
                \step{iii}{\case{There exist nonnegative rationals $r \in x$, $s \in 1$ such that $q = rs$}}
                \begin{proof}
                    \pf\ Then $q < r \in x$ so $q \in x$.
                \end{proof}
            \end{proof}
            \step{b}{$x \subseteq x1$}
            \begin{proof}
                \step{i}{\pflet{$q \in x$}}
                \step{o}{\assume{w.l.o.g. $0 \leq q$}}
                \step{ii}{\pick\ $r \in x$ with $q < r$}
                \step{iii}{$0 \leq q/r < 1$}
                \step{iv}{$q = r (q/r) \in x1$}
            \end{proof}
        \end{proof}
        \step{3}{\case{$x < 0$}}
        \begin{proof}
            \pf\ Then $x1 = -((-x)1) = -(-x) = x$.
        \end{proof}
        \qed
    \end{proof}

    \begin{theorem}
        For any nonzero real $x$, there is a nonzero real $y$ such that $xy = 1$.
    \end{theorem}

    \begin{proof}
        \pf\ See E. Mendelson. \emph{Number Systems and the Foundations of Analysis}. Appendix F. \qed
    \end{proof}

    \begin{theorem}
        For any positive real $z$, the function that maps $x$ to $xz$ is strictly monotone.
    \end{theorem}

    \begin{proof}
        \pf\ See E. Mendelson. \emph{Number Systems and the Foundations of Analysis}. Appendix F. \qed
    \end{proof}

    \section{Complete Ordered Fields}

    \begin{definition}[Complete Ordered Field]
        An ordered field is \emph{complete} iff it has the least upper bound property.
    \end{definition}

    \begin{theorem}
        The reals form a complete ordered field.
    \end{theorem}

    \begin{proof}
        \pf\ From the results above. \qed
    \end{proof}

    \begin{theorem}
        Any two complete ordered fields are isomorphic.
    \end{theorem}

    \begin{proof}
        \pf\ See A. Gleason. \text{Fundamentals of Abstract Analysis} p. 110. \qed
    \end{proof}

    \begin{theorem}
        Define $E : \mathbb{Q} \rightarrow \mathbb{R}$ by $E(q) = \{ p \in \mathbb{Q} : p < q \}$.
        Then $E$ is one-to-one and
        \begin{enumerate}
            \item $E(q+r) = E(q) + E(r)$
            \item $E(qr) = E(q) E(r)$
            \item $E(0) = 0$
            \item $E(1) = 1$
            \item $q < r$ iff $E(q) < E(r)$
        \end{enumerate}
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{For all $q \in \mathbb{Q}$, $E(q)$ is a Dedekind cut.}
        \begin{proof}
            \pf\ Easy.
        \end{proof}
        \step{2}{$\forall q,r \in \mathbb{Q}. E(q+r) = E(q) + E(r)$}
        \begin{proof}
            \step{a}{\pflet{$q, r \in \mathbb{Q}$}}
            \step{b}{$E(q+r) \subseteq E(q) + E(r)$}
            \begin{proof}
                \step{i}{\pflet{$t \in E(q+r)$}}
                \step{ii}{\pflet{$\epsilon = (r + s - t) / 2$}}
                \step{iii}{$\epsilon > 0$}
                \step{iv}{\pflet{$p = r - \epsilon$}}
                \step{v}{\pflet{$q = s - \epsilon$}}
                \step{vi}{$p < r$}
                \step{vii}{$q < s$}
                \step{viii}{$p + q = t$}
                \step{ix}{$t \in E(r) + E(s)$}
            \end{proof}
            \step{c}{$E(q) + E(r) \subseteq E(q+r)$}
            \begin{proof}
                \pf\ If $p < q$ and $s < r$ then $p+s < q+r$.
            \end{proof}
        \end{proof}
        \step{3}{$\forall q,r \in \mathbb{Q}. E(qr) = E(q)E(r)$}
        \begin{proof}
            \pf\ TODO
        \end{proof}
        \step{4}{$E(0) = 0$}
        \begin{proof}
            \pf\ By definition.
        \end{proof}
        \step{5}{$E(1) = 1$}
        \begin{proof}
            \pf\ By definition.
        \end{proof}
        \step{6}{$E$ is strictly monotone.}
        \begin{proof}
            \pf\ If $q < r$ then $E(q) \subseteq E(r)$ by transitivity of $<$ on $\mathbb{Q}$,
            and $E(q) \neq E(r)$ because $q \in E(r)$ and $q \notin E(q)$.
        \end{proof}
        \qed
    \end{proof}

    \begin{theorem}[Cantor 1873]
        The set $\omega$ is not equinumerous with $\mathbb{R}$.
    \end{theorem}

    \begin{proof}
        \pf
        \step{1}{\pflet{$f : \omega \rightarrow \mathbb{R}$} \prove{$f$ is not surjective.}}
        \step{2}{\pflet{$z$ be the real number between 0 and 1 whose $n+1$st decimal place is 7
        unless the $n+1$st decimal place of $f(n)$ is 7, in which case it is 6}}
        \step{3}{$\forall n \in \omega. f(n) \neq z$}
        \qed
    \end{proof}
\end{document}